var nO=Object.defineProperty;var iO=(n,t,e)=>t in n?nO(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var kr=(n,t,e)=>iO(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function e_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var DS={exports:{}},C0={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cA;function aO(){if(cA)return C0;cA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return C0.Fragment=t,C0.jsx=e,C0.jsxs=e,C0}var uA;function rO(){return uA||(uA=1,DS.exports=aO()),DS.exports}var d=rO(),US={exports:{}},en={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dA;function sO(){if(dA)return en;dA=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.iterator;function b(q){return q===null||typeof q!="object"?null:(q=v&&q[v]||q["@@iterator"],typeof q=="function"?q:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function C(q,it,St){this.props=q,this.context=it,this.refs=R,this.updater=St||M}C.prototype.isReactComponent={},C.prototype.setState=function(q,it){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,it,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function T(){}T.prototype=C.prototype;function D(q,it,St){this.props=q,this.context=it,this.refs=R,this.updater=St||M}var j=D.prototype=new T;j.constructor=D,E(j,C.prototype),j.isPureReactComponent=!0;var N=Array.isArray,B={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function H(q,it,St,Lt,rt,Rt){return St=Rt.ref,{$$typeof:n,type:q,key:it,ref:St!==void 0?St:null,props:Rt}}function k(q,it){return H(q.type,it,void 0,void 0,void 0,q.props)}function I(q){return typeof q=="object"&&q!==null&&q.$$typeof===n}function z(q){var it={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(St){return it[St]})}var K=/\/+/g;function ft(q,it){return typeof q=="object"&&q!==null&&q.key!=null?z(""+q.key):it.toString(36)}function st(){}function xt(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(st,st):(q.status="pending",q.then(function(it){q.status==="pending"&&(q.status="fulfilled",q.value=it)},function(it){q.status==="pending"&&(q.status="rejected",q.reason=it)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function bt(q,it,St,Lt,rt){var Rt=typeof q;(Rt==="undefined"||Rt==="boolean")&&(q=null);var Pt=!1;if(q===null)Pt=!0;else switch(Rt){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(q.$$typeof){case n:case t:Pt=!0;break;case y:return Pt=q._init,bt(Pt(q._payload),it,St,Lt,rt)}}if(Pt)return rt=rt(q),Pt=Lt===""?"."+ft(q,0):Lt,N(rt)?(St="",Pt!=null&&(St=Pt.replace(K,"$&/")+"/"),bt(rt,it,St,"",function(we){return we})):rt!=null&&(I(rt)&&(rt=k(rt,St+(rt.key==null||q&&q.key===rt.key?"":(""+rt.key).replace(K,"$&/")+"/")+Pt)),it.push(rt)),1;Pt=0;var Wt=Lt===""?".":Lt+":";if(N(q))for(var $t=0;$t<q.length;$t++)Lt=q[$t],Rt=Wt+ft(Lt,$t),Pt+=bt(Lt,it,St,Rt,rt);else if($t=b(q),typeof $t=="function")for(q=$t.call(q),$t=0;!(Lt=q.next()).done;)Lt=Lt.value,Rt=Wt+ft(Lt,$t++),Pt+=bt(Lt,it,St,Rt,rt);else if(Rt==="object"){if(typeof q.then=="function")return bt(xt(q),it,St,Lt,rt);throw it=String(q),Error("Objects are not valid as a React child (found: "+(it==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":it)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function F(q,it,St){if(q==null)return q;var Lt=[],rt=0;return bt(q,Lt,"","",function(Rt){return it.call(St,Rt,rt++)}),Lt}function Z(q){if(q._status===-1){var it=q._result;it=it(),it.then(function(St){(q._status===0||q._status===-1)&&(q._status=1,q._result=St)},function(St){(q._status===0||q._status===-1)&&(q._status=2,q._result=St)}),q._status===-1&&(q._status=0,q._result=it)}if(q._status===1)return q._result.default;throw q._result}var Q=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var it=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(it))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function ut(){}return en.Children={map:F,forEach:function(q,it,St){F(q,function(){it.apply(this,arguments)},St)},count:function(q){var it=0;return F(q,function(){it++}),it},toArray:function(q){return F(q,function(it){return it})||[]},only:function(q){if(!I(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},en.Component=C,en.Fragment=e,en.Profiler=a,en.PureComponent=D,en.StrictMode=i,en.Suspense=p,en.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=B,en.__COMPILER_RUNTIME={__proto__:null,c:function(q){return B.H.useMemoCache(q)}},en.cache=function(q){return function(){return q.apply(null,arguments)}},en.cloneElement=function(q,it,St){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var Lt=E({},q.props),rt=q.key,Rt=void 0;if(it!=null)for(Pt in it.ref!==void 0&&(Rt=void 0),it.key!==void 0&&(rt=""+it.key),it)!P.call(it,Pt)||Pt==="key"||Pt==="__self"||Pt==="__source"||Pt==="ref"&&it.ref===void 0||(Lt[Pt]=it[Pt]);var Pt=arguments.length-2;if(Pt===1)Lt.children=St;else if(1<Pt){for(var Wt=Array(Pt),$t=0;$t<Pt;$t++)Wt[$t]=arguments[$t+2];Lt.children=Wt}return H(q.type,rt,void 0,void 0,Rt,Lt)},en.createContext=function(q){return q={$$typeof:c,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:o,_context:q},q},en.createElement=function(q,it,St){var Lt,rt={},Rt=null;if(it!=null)for(Lt in it.key!==void 0&&(Rt=""+it.key),it)P.call(it,Lt)&&Lt!=="key"&&Lt!=="__self"&&Lt!=="__source"&&(rt[Lt]=it[Lt]);var Pt=arguments.length-2;if(Pt===1)rt.children=St;else if(1<Pt){for(var Wt=Array(Pt),$t=0;$t<Pt;$t++)Wt[$t]=arguments[$t+2];rt.children=Wt}if(q&&q.defaultProps)for(Lt in Pt=q.defaultProps,Pt)rt[Lt]===void 0&&(rt[Lt]=Pt[Lt]);return H(q,Rt,void 0,void 0,null,rt)},en.createRef=function(){return{current:null}},en.forwardRef=function(q){return{$$typeof:h,render:q}},en.isValidElement=I,en.lazy=function(q){return{$$typeof:y,_payload:{_status:-1,_result:q},_init:Z}},en.memo=function(q,it){return{$$typeof:m,type:q,compare:it===void 0?null:it}},en.startTransition=function(q){var it=B.T,St={};B.T=St;try{var Lt=q(),rt=B.S;rt!==null&&rt(St,Lt),typeof Lt=="object"&&Lt!==null&&typeof Lt.then=="function"&&Lt.then(ut,Q)}catch(Rt){Q(Rt)}finally{B.T=it}},en.unstable_useCacheRefresh=function(){return B.H.useCacheRefresh()},en.use=function(q){return B.H.use(q)},en.useActionState=function(q,it,St){return B.H.useActionState(q,it,St)},en.useCallback=function(q,it){return B.H.useCallback(q,it)},en.useContext=function(q){return B.H.useContext(q)},en.useDebugValue=function(){},en.useDeferredValue=function(q,it){return B.H.useDeferredValue(q,it)},en.useEffect=function(q,it,St){var Lt=B.H;if(typeof St=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Lt.useEffect(q,it)},en.useId=function(){return B.H.useId()},en.useImperativeHandle=function(q,it,St){return B.H.useImperativeHandle(q,it,St)},en.useInsertionEffect=function(q,it){return B.H.useInsertionEffect(q,it)},en.useLayoutEffect=function(q,it){return B.H.useLayoutEffect(q,it)},en.useMemo=function(q,it){return B.H.useMemo(q,it)},en.useOptimistic=function(q,it){return B.H.useOptimistic(q,it)},en.useReducer=function(q,it,St){return B.H.useReducer(q,it,St)},en.useRef=function(q){return B.H.useRef(q)},en.useState=function(q){return B.H.useState(q)},en.useSyncExternalStore=function(q,it,St){return B.H.useSyncExternalStore(q,it,St)},en.useTransition=function(){return B.H.useTransition()},en.version="19.1.0",en}var hA;function rm(){return hA||(hA=1,US.exports=sO()),US.exports}var vt=rm();const Er=e_(vt);var jS={exports:{}},R0={},LS={exports:{}},NS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function oO(){return fA||(fA=1,function(n){function t(F,Z){var Q=F.length;F.push(Z);t:for(;0<Q;){var ut=Q-1>>>1,q=F[ut];if(0<a(q,Z))F[ut]=Z,F[Q]=q,Q=ut;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],Q=F.pop();if(Q!==Z){F[0]=Q;t:for(var ut=0,q=F.length,it=q>>>1;ut<it;){var St=2*(ut+1)-1,Lt=F[St],rt=St+1,Rt=F[rt];if(0>a(Lt,Q))rt<q&&0>a(Rt,Lt)?(F[ut]=Rt,F[rt]=Q,ut=rt):(F[ut]=Lt,F[St]=Q,ut=St);else if(rt<q&&0>a(Rt,Q))F[ut]=Rt,F[rt]=Q,ut=rt;else break t}}return Z}function a(F,Z){var Q=F.sortIndex-Z.sortIndex;return Q!==0?Q:F.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,b=3,M=!1,E=!1,R=!1,C=!1,T=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function N(F){for(var Z=e(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=F)i(m),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=e(m)}}function B(F){if(R=!1,N(F),!E)if(e(p)!==null)E=!0,P||(P=!0,ft());else{var Z=e(m);Z!==null&&bt(B,Z.startTime-F)}}var P=!1,H=-1,k=5,I=-1;function z(){return C?!0:!(n.unstable_now()-I<k)}function K(){if(C=!1,P){var F=n.unstable_now();I=F;var Z=!0;try{t:{E=!1,R&&(R=!1,D(H),H=-1),M=!0;var Q=b;try{e:{for(N(F),v=e(p);v!==null&&!(v.expirationTime>F&&z());){var ut=v.callback;if(typeof ut=="function"){v.callback=null,b=v.priorityLevel;var q=ut(v.expirationTime<=F);if(F=n.unstable_now(),typeof q=="function"){v.callback=q,N(F),Z=!0;break e}v===e(p)&&i(p),N(F)}else i(p);v=e(p)}if(v!==null)Z=!0;else{var it=e(m);it!==null&&bt(B,it.startTime-F),Z=!1}}break t}finally{v=null,b=Q,M=!1}Z=void 0}}finally{Z?ft():P=!1}}}var ft;if(typeof j=="function")ft=function(){j(K)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,xt=st.port2;st.port1.onmessage=K,ft=function(){xt.postMessage(null)}}else ft=function(){T(K,0)};function bt(F,Z){H=T(function(){F(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(F){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var Q=b;b=Z;try{return F()}finally{b=Q}},n.unstable_requestPaint=function(){C=!0},n.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=b;b=F;try{return Z()}finally{b=Q}},n.unstable_scheduleCallback=function(F,Z,Q){var ut=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ut+Q:ut):Q=ut,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,F={id:y++,callback:Z,priorityLevel:F,startTime:Q,expirationTime:q,sortIndex:-1},Q>ut?(F.sortIndex=Q,t(m,F),e(p)===null&&F===e(m)&&(R?(D(H),H=-1):R=!0,bt(B,Q-ut))):(F.sortIndex=q,t(p,F),E||M||(E=!0,P||(P=!0,ft()))),F},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(F){var Z=b;return function(){var Q=b;b=Z;try{return F.apply(this,arguments)}finally{b=Q}}}}(NS)),NS}var pA;function lO(){return pA||(pA=1,LS.exports=oO()),LS.exports}var OS={exports:{}},qa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mA;function cO(){if(mA)return qa;mA=1;var n=rm();function t(p){var m="https://react.dev/errors/"+p;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+p+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(p,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:p,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(p,m){if(p==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,qa.createPortal=function(p,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(p,m,null,y)},qa.flushSync=function(p){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,p)return p()}finally{c.T=m,i.p=y,i.d.f()}},qa.preconnect=function(p,m){typeof p=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(p,m))},qa.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},qa.preinit=function(p,m){if(typeof p=="string"&&m&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,M=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(p,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:b,fetchPriority:M}):y==="script"&&i.d.X(p,{crossOrigin:v,integrity:b,fetchPriority:M,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},qa.preinitModule=function(p,m){if(typeof p=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(p,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(p)},qa.preload=function(p,m){if(typeof p=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=h(y,m.crossOrigin);i.d.L(p,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},qa.preloadModule=function(p,m){if(typeof p=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(p,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(p)},qa.requestFormReset=function(p){i.d.r(p)},qa.unstable_batchedUpdates=function(p,m){return p(m)},qa.useFormState=function(p,m,y){return c.H.useFormState(p,m,y)},qa.useFormStatus=function(){return c.H.useHostTransitionStatus()},qa.version="19.1.0",qa}var gA;function uO(){if(gA)return OS.exports;gA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),OS.exports=cO(),OS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xA;function dO(){if(xA)return R0;xA=1;var n=lO(),t=rm(),e=uO();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)s+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function o(r){var s=r,f=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(f=s.return),r=s.return;while(r)}return s.tag===3?f:null}function c(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(o(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=o(r),s===null)throw Error(i(188));return s!==r?null:r}for(var f=r,g=s;;){var _=f.return;if(_===null)break;var w=_.alternate;if(w===null){if(g=_.return,g!==null){f=g;continue}break}if(_.child===w.child){for(w=_.child;w;){if(w===f)return h(_),r;if(w===g)return h(_),s;w=w.sibling}throw Error(i(188))}if(f.return!==g.return)f=_,g=w;else{for(var O=!1,G=_.child;G;){if(G===f){O=!0,f=_,g=w;break}if(G===g){O=!0,g=_,f=w;break}G=G.sibling}if(!O){for(G=w.child;G;){if(G===f){O=!0,f=w,g=_;break}if(G===g){O=!0,g=w,f=_;break}G=G.sibling}if(!O)throw Error(i(189))}}if(f.alternate!==g)throw Error(i(190))}if(f.tag!==3)throw Error(i(188));return f.stateNode.current===f?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var y=Object.assign,v=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),k=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),K=Symbol.iterator;function ft(r){return r===null||typeof r!="object"?null:(r=K&&r[K]||r["@@iterator"],typeof r=="function"?r:null)}var st=Symbol.for("react.client.reference");function xt(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===st?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case E:return"Fragment";case C:return"Profiler";case R:return"StrictMode";case B:return"Suspense";case P:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case M:return"Portal";case j:return(r.displayName||"Context")+".Provider";case D:return(r._context.displayName||"Context")+".Consumer";case N:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case H:return s=r.displayName||null,s!==null?s:xt(r.type)||"Memo";case k:s=r._payload,r=r._init;try{return xt(r(s))}catch{}}return null}var bt=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},ut=[],q=-1;function it(r){return{current:r}}function St(r){0>q||(r.current=ut[q],ut[q]=null,q--)}function Lt(r,s){q++,ut[q]=r.current,r.current=s}var rt=it(null),Rt=it(null),Pt=it(null),Wt=it(null);function $t(r,s){switch(Lt(Pt,s),Lt(Rt,r),Lt(rt,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?Pw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=Pw(s),r=Bw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}St(rt),Lt(rt,r)}function we(){St(rt),St(Rt),St(Pt)}function ve(r){r.memoizedState!==null&&Lt(Wt,r);var s=rt.current,f=Bw(s,r.type);s!==f&&(Lt(Rt,r),Lt(rt,f))}function Pe(r){Rt.current===r&&(St(rt),St(Rt)),Wt.current===r&&(St(Wt),M0._currentValue=Q)}var Ne=Object.prototype.hasOwnProperty,Be=n.unstable_scheduleCallback,et=n.unstable_cancelCallback,Ln=n.unstable_shouldYield,kt=n.unstable_requestPaint,zt=n.unstable_now,Bt=n.unstable_getCurrentPriorityLevel,ee=n.unstable_ImmediatePriority,Nt=n.unstable_UserBlockingPriority,W=n.unstable_NormalPriority,V=n.unstable_LowPriority,dt=n.unstable_IdlePriority,Ut=n.log,It=n.unstable_setDisableYieldValue,jt=null,ae=null;function Kt(r){if(typeof Ut=="function"&&It(r),ae&&typeof ae.setStrictMode=="function")try{ae.setStrictMode(jt,r)}catch{}}var ne=Math.clz32?Math.clz32:fe,Qe=Math.log,Zt=Math.LN2;function fe(r){return r>>>=0,r===0?32:31-(Qe(r)/Zt|0)|0}var ge=256,xe=4194304;function ie(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function at(r,s,f){var g=r.pendingLanes;if(g===0)return 0;var _=0,w=r.suspendedLanes,O=r.pingedLanes;r=r.warmLanes;var G=g&134217727;return G!==0?(g=G&~w,g!==0?_=ie(g):(O&=G,O!==0?_=ie(O):f||(f=G&~r,f!==0&&(_=ie(f))))):(G=g&~w,G!==0?_=ie(G):O!==0?_=ie(O):f||(f=g&~r,f!==0&&(_=ie(f)))),_===0?0:s!==0&&s!==_&&(s&w)===0&&(w=_&-_,f=s&-s,w>=f||w===32&&(f&4194048)!==0)?s:_}function Ot(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function se(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nt(){var r=ge;return ge<<=1,(ge&4194048)===0&&(ge=256),r}function Qt(){var r=xe;return xe<<=1,(xe&62914560)===0&&(xe=4194304),r}function Dt(r){for(var s=[],f=0;31>f;f++)s.push(r);return s}function Ft(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function ce(r,s,f,g,_,w){var O=r.pendingLanes;r.pendingLanes=f,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=f,r.entangledLanes&=f,r.errorRecoveryDisabledLanes&=f,r.shellSuspendCounter=0;var G=r.entanglements,$=r.expirationTimes,_t=r.hiddenUpdates;for(f=O&~f;0<f;){var Ht=31-ne(f),qt=1<<Ht;G[Ht]=0,$[Ht]=-1;var Tt=_t[Ht];if(Tt!==null)for(_t[Ht]=null,Ht=0;Ht<Tt.length;Ht++){var At=Tt[Ht];At!==null&&(At.lane&=-536870913)}f&=~qt}g!==0&&oe(r,g,0),w!==0&&_===0&&r.tag!==0&&(r.suspendedLanes|=w&~(O&~s))}function oe(r,s,f){r.pendingLanes|=s,r.suspendedLanes&=~s;var g=31-ne(s);r.entangledLanes|=s,r.entanglements[g]=r.entanglements[g]|1073741824|f&4194090}function Me(r,s){var f=r.entangledLanes|=s;for(r=r.entanglements;f;){var g=31-ne(f),_=1<<g;_&s|r[g]&s&&(r[g]|=s),f&=~_}}function tn(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function An(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function We(){var r=Z.p;return r!==0?r:(r=window.event,r===void 0?32:iA(r.type))}function Ti(r,s){var f=Z.p;try{return Z.p=r,s()}finally{Z.p=f}}var ni=Math.random().toString(36).slice(2),Ei="__reactFiber$"+ni,Ni="__reactProps$"+ni,fa="__reactContainer$"+ni,Pa="__reactEvents$"+ni,ad="__reactListeners$"+ni,Jr="__reactHandles$"+ni,Sa="__reactResources$"+ni,$r="__reactMarker$"+ni;function zn(r){delete r[Ei],delete r[Ni],delete r[Pa],delete r[ad],delete r[Jr]}function ts(r){var s=r[Ei];if(s)return s;for(var f=r.parentNode;f;){if(s=f[fa]||f[Ei]){if(f=s.alternate,s.child!==null||f!==null&&f.child!==null)for(r=Hw(r);r!==null;){if(f=r[Ei])return f;r=Hw(r)}return s}r=f,f=r.parentNode}return null}function es(r){if(r=r[Ei]||r[fa]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Po(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Qs(r){var s=r[Sa];return s||(s=r[Sa]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function wi(r){r[$r]=!0}var Uc=new Set,jc={};function ns(r,s){X(r,s),X(r+"Capture",s)}function X(r,s){for(jc[r]=s,r=0;r<s.length;r++)Uc.add(s[r])}var ct=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Et={},wt={};function pt(r){return Ne.call(wt,r)?!0:Ne.call(Et,r)?!1:ct.test(r)?wt[r]=!0:(Et[r]=!0,!1)}function Yt(r,s,f){if(pt(s))if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var g=s.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+f)}}function re(r,s,f){if(f===null)r.removeAttribute(s);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+f)}}function le(r,s,f,g){if(g===null)r.removeAttribute(f);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(f);return}r.setAttributeNS(s,f,""+g)}}var me,je;function Ee(r){if(me===void 0)try{throw Error()}catch(f){var s=f.stack.trim().match(/\n( *(at )?)/);me=s&&s[1]||"",je=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+me+r+je}var _e=!1;function rn(r,s){if(!r||_e)return"";_e=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(s){var qt=function(){throw Error()};if(Object.defineProperty(qt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(qt,[])}catch(At){var Tt=At}Reflect.construct(r,[],qt)}else{try{qt.call()}catch(At){Tt=At}r.call(qt.prototype)}}else{try{throw Error()}catch(At){Tt=At}(qt=r())&&typeof qt.catch=="function"&&qt.catch(function(){})}}catch(At){if(At&&Tt&&typeof At.stack=="string")return[At.stack,Tt.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var _=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");_&&_.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),O=w[0],G=w[1];if(O&&G){var $=O.split(`
`),_t=G.split(`
`);for(_=g=0;g<$.length&&!$[g].includes("DetermineComponentFrameRoot");)g++;for(;_<_t.length&&!_t[_].includes("DetermineComponentFrameRoot");)_++;if(g===$.length||_===_t.length)for(g=$.length-1,_=_t.length-1;1<=g&&0<=_&&$[g]!==_t[_];)_--;for(;1<=g&&0<=_;g--,_--)if($[g]!==_t[_]){if(g!==1||_!==1)do if(g--,_--,0>_||$[g]!==_t[_]){var Ht=`
`+$[g].replace(" at new "," at ");return r.displayName&&Ht.includes("<anonymous>")&&(Ht=Ht.replace("<anonymous>",r.displayName)),Ht}while(1<=g&&0<=_);break}}}finally{_e=!1,Error.prepareStackTrace=f}return(f=r?r.displayName||r.name:"")?Ee(f):""}function yn(r){switch(r.tag){case 26:case 27:case 5:return Ee(r.type);case 16:return Ee("Lazy");case 13:return Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return rn(r.type,!1);case 11:return rn(r.type.render,!1);case 1:return rn(r.type,!0);case 31:return Ee("Activity");default:return""}}function ii(r){try{var s="";do s+=yn(r),r=r.return;while(r);return s}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}function ln(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function dn(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ae(r){var s=dn(r)?"checked":"value",f=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),g=""+r[s];if(!r.hasOwnProperty(s)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,w=f.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return _.call(this)},set:function(O){g=""+O,w.call(this,O)}}),Object.defineProperty(r,s,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function si(r){r._valueTracker||(r._valueTracker=Ae(r))}function gn(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var f=s.getValue(),g="";return r&&(g=dn(r)?r.checked?"true":"false":r.value),r=g,r!==f?(s.setValue(r),!0):!1}function ta(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var _s=/[\n"\\]/g;function Fn(r){return r.replace(_s,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Ss(r,s,f,g,_,w,O,G){r.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?r.type=O:r.removeAttribute("type"),s!=null?O==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+ln(s)):r.value!==""+ln(s)&&(r.value=""+ln(s)):O!=="submit"&&O!=="reset"||r.removeAttribute("value"),s!=null?ea(r,O,ln(s)):f!=null?ea(r,O,ln(f)):g!=null&&r.removeAttribute("value"),_==null&&w!=null&&(r.defaultChecked=!!w),_!=null&&(r.checked=_&&typeof _!="function"&&typeof _!="symbol"),G!=null&&typeof G!="function"&&typeof G!="symbol"&&typeof G!="boolean"?r.name=""+ln(G):r.removeAttribute("name")}function Pn(r,s,f,g,_,w,O,G){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(r.type=w),s!=null||f!=null){if(!(w!=="submit"&&w!=="reset"||s!=null))return;f=f!=null?""+ln(f):"",s=s!=null?""+ln(s):f,G||s===r.value||(r.value=s),r.defaultValue=s}g=g??_,g=typeof g!="function"&&typeof g!="symbol"&&!!g,r.checked=G?r.checked:!!g,r.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(r.name=O)}function ea(r,s,f){s==="number"&&ta(r.ownerDocument)===r||r.defaultValue===""+f||(r.defaultValue=""+f)}function Ai(r,s,f,g){if(r=r.options,s){s={};for(var _=0;_<f.length;_++)s["$"+f[_]]=!0;for(f=0;f<r.length;f++)_=s.hasOwnProperty("$"+r[f].value),r[f].selected!==_&&(r[f].selected=_),_&&g&&(r[f].defaultSelected=!0)}else{for(f=""+ln(f),s=null,_=0;_<r.length;_++){if(r[_].value===f){r[_].selected=!0,g&&(r[_].defaultSelected=!0);return}s!==null||r[_].disabled||(s=r[_])}s!==null&&(s.selected=!0)}}function Hi(r,s,f){if(s!=null&&(s=""+ln(s),s!==r.value&&(r.value=s),f==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=f!=null?""+ln(f):""}function ki(r,s,f,g){if(s==null){if(g!=null){if(f!=null)throw Error(i(92));if(bt(g)){if(1<g.length)throw Error(i(93));g=g[0]}f=g}f==null&&(f=""),s=f}f=ln(s),r.defaultValue=f,g=r.textContent,g===f&&g!==""&&g!==null&&(r.value=g)}function Ma(r,s){if(s){var f=r.firstChild;if(f&&f===r.lastChild&&f.nodeType===3){f.nodeValue=s;return}}r.textContent=s}var Ms=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rd(r,s,f){var g=s.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?g?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":g?r.setProperty(s,f):typeof f!="number"||f===0||Ms.has(s)?s==="float"?r.cssFloat=f:r[s]=(""+f).trim():r[s]=f+"px"}function sd(r,s,f){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,f!=null){for(var g in f)!f.hasOwnProperty(g)||s!=null&&s.hasOwnProperty(g)||(g.indexOf("--")===0?r.setProperty(g,""):g==="float"?r.cssFloat="":r[g]="");for(var _ in s)g=s[_],s.hasOwnProperty(_)&&f[_]!==g&&rd(r,_,g)}else for(var w in s)s.hasOwnProperty(w)&&rd(r,w,s[w])}function qh(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function od(r){return Cx.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Yh=null;function Wh(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Bo=null,Bl=null;function gm(r){var s=es(r);if(s&&(r=s.stateNode)){var f=r[Ni]||null;t:switch(r=s.stateNode,s.type){case"input":if(Ss(r,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),s=f.name,f.type==="radio"&&s!=null){for(f=r;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+Fn(""+s)+'"][type="radio"]'),s=0;s<f.length;s++){var g=f[s];if(g!==r&&g.form===r.form){var _=g[Ni]||null;if(!_)throw Error(i(90));Ss(g,_.value,_.defaultValue,_.defaultValue,_.checked,_.defaultChecked,_.type,_.name)}}for(s=0;s<f.length;s++)g=f[s],g.form===r.form&&gn(g)}break t;case"textarea":Hi(r,f.value,f.defaultValue);break t;case"select":s=f.value,s!=null&&Ai(r,!!f.multiple,s,!1)}}}var ld=!1;function xm(r,s,f){if(ld)return r(s,f);ld=!0;try{var g=r(s);return g}finally{if(ld=!1,(Bo!==null||Bl!==null)&&(Is(),Bo&&(s=Bo,r=Bl,Bl=Bo=null,gm(s),r)))for(s=0;s<r.length;s++)gm(r[s])}}function Lc(r,s){var f=r.stateNode;if(f===null)return null;var g=f[Ni]||null;if(g===null)return null;f=g[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(r=r.type,g=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!g;break t;default:r=!1}if(r)return null;if(f&&typeof f!="function")throw Error(i(231,s,typeof f));return f}var Ts=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cd=!1;if(Ts)try{var Nc={};Object.defineProperty(Nc,"passive",{get:function(){cd=!0}}),window.addEventListener("test",Nc,Nc),window.removeEventListener("test",Nc,Nc)}catch{cd=!1}var Js=null,ym=null,Zh=null;function vm(){if(Zh)return Zh;var r,s=ym,f=s.length,g,_="value"in Js?Js.value:Js.textContent,w=_.length;for(r=0;r<f&&s[r]===_[r];r++);var O=f-r;for(g=1;g<=O&&s[f-g]===_[w-g];g++);return Zh=_.slice(r,1<g?1-g:void 0)}function Io(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Oc(){return!0}function ud(){return!1}function Ta(r){function s(f,g,_,w,O){this._reactName=f,this._targetInst=_,this.type=g,this.nativeEvent=w,this.target=O,this.currentTarget=null;for(var G in r)r.hasOwnProperty(G)&&(f=r[G],this[G]=f?f(w):w[G]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Oc:ud,this.isPropagationStopped=ud,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Oc)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Oc)},persist:function(){},isPersistent:Oc}),s}var Fo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zc=Ta(Fo),Pc=y({},Fo,{view:0,detail:0}),Rx=Ta(Pc),$s,Bc,Ic,Fc=y({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hd,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ic&&(Ic&&r.type==="mousemove"?($s=r.screenX-Ic.screenX,Bc=r.screenY-Ic.screenY):Bc=$s=0,Ic=r),$s)},movementY:function(r){return"movementY"in r?r.movementY:Bc}}),bm=Ta(Fc),Dx=y({},Fc,{dataTransfer:0}),W_=Ta(Dx),na=y({},Pc,{relatedTarget:0}),Kh=Ta(na),Ux=y({},Fo,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=Ta(Ux),Lx=y({},Fo,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Nx=Ta(Lx),dd=y({},Fo,{data:0}),Qh=Ta(dd),Ox={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _m(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Px[r])?!!s[r]:!1}function hd(){return _m}var Bx=y({},Pc,{key:function(r){if(r.key){var s=Ox[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?zx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hd,charCode:function(r){return r.type==="keypress"?Io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Sm=Ta(Bx),Mm=y({},Fc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jh=Ta(Mm),Ix=y({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hd}),Tm=Ta(Ix),Fx=y({},Fo,{propertyName:0,elapsedTime:0,pseudoElement:0}),to=Ta(Fx),Em=y({},Fc,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Z_=Ta(Em),Vx=y({},Fo,{newState:0,oldState:0}),Vo=Ta(Vx),eo=[9,13,27,32],fd=Ts&&"CompositionEvent"in window,Il=null;Ts&&"documentMode"in document&&(Il=document.documentMode);var pd=Ts&&"TextEvent"in window&&!Il,md=Ts&&(!fd||Il&&8<Il&&11>=Il),Ho=" ",ia=!1;function gd(r,s){switch(r){case"keyup":return eo.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wm(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ko=!1;function xd(r,s){switch(r){case"compositionend":return wm(s);case"keypress":return s.which!==32?null:(ia=!0,Ho);case"textInput":return r=s.data,r===Ho&&ia?null:r;default:return null}}function Am(r,s){if(ko)return r==="compositionend"||!fd&&gd(r,s)?(r=vm(),Zh=ym=Js=null,ko=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return md&&s.locale!=="ko"?null:s.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!$h[r.type]:s==="textarea"}function Ba(r,s,f,g){Bo?Bl?Bl.push(g):Bl=[g]:Bo=g,s=Fy(s,"onChange"),0<s.length&&(f=new zc("onChange","change",null,f,g),r.push({event:f,listeners:s}))}var Vc=null,Fl=null;function Hx(r){jw(r,0)}function yd(r){var s=Po(r);if(gn(s))return r}function tf(r,s){if(r==="change")return s}var ef=!1;if(Ts){var nf;if(Ts){var Hc="oninput"in document;if(!Hc){var kc=document.createElement("div");kc.setAttribute("oninput","return;"),Hc=typeof kc.oninput=="function"}nf=Hc}else nf=!1;ef=nf&&(!document.documentMode||9<document.documentMode)}function ai(){Vc&&(Vc.detachEvent("onpropertychange",kx),Fl=Vc=null)}function kx(r){if(r.propertyName==="value"&&yd(Fl)){var s=[];Ba(s,Fl,r,Wh(r)),xm(Hx,s)}}function K_(r,s,f){r==="focusin"?(ai(),Vc=s,Fl=f,Vc.attachEvent("onpropertychange",kx)):r==="focusout"&&ai()}function Gx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return yd(Fl)}function vd(r,s){if(r==="click")return yd(s)}function Go(r,s){if(r==="input"||r==="change")return yd(s)}function Xx(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var Ia=typeof Object.is=="function"?Object.is:Xx;function is(r,s){if(Ia(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var f=Object.keys(r),g=Object.keys(s);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var _=f[g];if(!Ne.call(s,_)||!Ia(r[_],s[_]))return!1}return!0}function Fa(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Rm(r,s){var f=Fa(r);r=0;for(var g;f;){if(f.nodeType===3){if(g=r+f.textContent.length,r<=s&&g>=s)return{node:f,offset:s-r};r=g}t:{for(;f;){if(f.nextSibling){f=f.nextSibling;break t}f=f.parentNode}f=void 0}f=Fa(f)}}function Dm(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Dm(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Um(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ta(r.document);s instanceof r.HTMLIFrameElement;){try{var f=typeof s.contentWindow.location.href=="string"}catch{f=!1}if(f)r=s.contentWindow;else break;s=ta(r.document)}return s}function bd(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var jm=Ts&&"documentMode"in document&&11>=document.documentMode,no=null,af=null,_d=null,rf=!1;function Lm(r,s,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;rf||no==null||no!==ta(g)||(g=no,"selectionStart"in g&&bd(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),_d&&is(_d,g)||(_d=g,g=Fy(af,"onSelect"),0<g.length&&(s=new zc("onSelect","select",null,s,f),r.push({event:s,listeners:g}),s.target=no)))}function aa(r,s){var f={};return f[r.toLowerCase()]=s.toLowerCase(),f["Webkit"+r]="webkit"+s,f["Moz"+r]="moz"+s,f}var Xo={animationend:aa("Animation","AnimationEnd"),animationiteration:aa("Animation","AnimationIteration"),animationstart:aa("Animation","AnimationStart"),transitionrun:aa("Transition","TransitionRun"),transitionstart:aa("Transition","TransitionStart"),transitioncancel:aa("Transition","TransitionCancel"),transitionend:aa("Transition","TransitionEnd")},sf={},qx={};Ts&&(qx=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function io(r){if(sf[r])return sf[r];if(!Xo[r])return r;var s=Xo[r],f;for(f in s)if(s.hasOwnProperty(f)&&f in qx)return sf[r]=s[f];return r}var Ea=io("animationend"),Nm=io("animationiteration"),Va=io("animationstart"),Yx=io("transitionrun"),ao=io("transitionstart"),Gc=io("transitioncancel"),ro=io("transitionend"),of=new Map,Sd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sd.push("scrollEnd");function Gi(r,s){of.set(r,s),ns(s,[r])}var Om=new WeakMap;function ra(r,s){if(typeof r=="object"&&r!==null){var f=Om.get(r);return f!==void 0?f:(s={value:r,source:s,stack:ii(s)},Om.set(r,s),s)}return{value:r,source:s,stack:ii(s)}}var pa=[],Dr=0,lf=0;function Md(){for(var r=Dr,s=lf=Dr=0;s<r;){var f=pa[s];pa[s++]=null;var g=pa[s];pa[s++]=null;var _=pa[s];pa[s++]=null;var w=pa[s];if(pa[s++]=null,g!==null&&_!==null){var O=g.pending;O===null?_.next=_:(_.next=O.next,O.next=_),g.pending=_}w!==0&&zm(f,_,w)}}function qo(r,s,f,g){pa[Dr++]=r,pa[Dr++]=s,pa[Dr++]=f,pa[Dr++]=g,lf|=g,r.lanes|=g,r=r.alternate,r!==null&&(r.lanes|=g)}function cf(r,s,f,g){return qo(r,s,f,g),Xc(r)}function so(r,s){return qo(r,null,null,s),Xc(r)}function zm(r,s,f){r.lanes|=f;var g=r.alternate;g!==null&&(g.lanes|=f);for(var _=!1,w=r.return;w!==null;)w.childLanes|=f,g=w.alternate,g!==null&&(g.childLanes|=f),w.tag===22&&(r=w.stateNode,r===null||r._visibility&1||(_=!0)),r=w,w=w.return;return r.tag===3?(w=r.stateNode,_&&s!==null&&(_=31-ne(f),r=w.hiddenUpdates,g=r[_],g===null?r[_]=[s]:g.push(s),s.lane=f|536870912),w):null}function Xc(r){if(50<Bs)throw Bs=0,ac=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Yo={};function Pm(r,s,f,g){this.tag=r,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ha(r,s,f,g){return new Pm(r,s,f,g)}function Td(r){return r=r.prototype,!(!r||!r.isReactComponent)}function mi(r,s){var f=r.alternate;return f===null?(f=Ha(r.tag,s,r.key,r.mode),f.elementType=r.elementType,f.type=r.type,f.stateNode=r.stateNode,f.alternate=r,r.alternate=f):(f.pendingProps=s,f.type=r.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=r.flags&65011712,f.childLanes=r.childLanes,f.lanes=r.lanes,f.child=r.child,f.memoizedProps=r.memoizedProps,f.memoizedState=r.memoizedState,f.updateQueue=r.updateQueue,s=r.dependencies,f.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},f.sibling=r.sibling,f.index=r.index,f.ref=r.ref,f.refCleanup=r.refCleanup,f}function Bm(r,s){r.flags&=65011714;var f=r.alternate;return f===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=f.childLanes,r.lanes=f.lanes,r.child=f.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=f.memoizedProps,r.memoizedState=f.memoizedState,r.updateQueue=f.updateQueue,r.type=f.type,s=f.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Xi(r,s,f,g,_,w){var O=0;if(g=r,typeof r=="function")Td(r)&&(O=1);else if(typeof r=="string")O=kN(r,f,rt.current)?26:r==="html"||r==="head"||r==="body"?27:5;else t:switch(r){case I:return r=Ha(31,f,s,_),r.elementType=I,r.lanes=w,r;case E:return Wo(f.children,_,w,s);case R:O=8,_|=24;break;case C:return r=Ha(12,f,s,_|2),r.elementType=C,r.lanes=w,r;case B:return r=Ha(13,f,s,_),r.elementType=B,r.lanes=w,r;case P:return r=Ha(19,f,s,_),r.elementType=P,r.lanes=w,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case T:case j:O=10;break t;case D:O=9;break t;case N:O=11;break t;case H:O=14;break t;case k:O=16,g=null;break t}O=29,f=Error(i(130,r===null?"null":typeof r,"")),g=null}return s=Ha(O,f,s,_),s.elementType=r,s.type=g,s.lanes=w,s}function Wo(r,s,f,g){return r=Ha(7,r,g,s),r.lanes=f,r}function Ed(r,s,f){return r=Ha(6,r,null,s),r.lanes=f,r}function uf(r,s,f){return s=Ha(4,r.children!==null?r.children:[],r.key,s),s.lanes=f,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var qc=[],ka=0,wd=null,Yc=0,sa=[],ar=0,Zo=null,Es=1,ws="";function oo(r,s){qc[ka++]=Yc,qc[ka++]=wd,wd=r,Yc=s}function df(r,s,f){sa[ar++]=Es,sa[ar++]=ws,sa[ar++]=Zo,Zo=r;var g=Es;r=ws;var _=32-ne(g)-1;g&=~(1<<_),f+=1;var w=32-ne(s)+_;if(30<w){var O=_-_%5;w=(g&(1<<O)-1).toString(32),g>>=O,_-=O,Es=1<<32-ne(s)+_|f<<_|g,ws=w+r}else Es=1<<w|f<<_|g,ws=r}function Im(r){r.return!==null&&(oo(r,1),df(r,1,0))}function Fm(r){for(;r===wd;)wd=qc[--ka],qc[ka]=null,Yc=qc[--ka],qc[ka]=null;for(;r===Zo;)Zo=sa[--ar],sa[ar]=null,ws=sa[--ar],sa[ar]=null,Es=sa[--ar],sa[ar]=null}var wa=null,oi=null,Sn=!1,Ur=null,rr=!1,hf=Error(i(519));function Ko(r){var s=Error(i(418,""));throw Vl(ra(s,r)),hf}function Wx(r){var s=r.stateNode,f=r.type,g=r.memoizedProps;switch(s[Ei]=r,s[Ni]=g,f){case"dialog":pn("cancel",s),pn("close",s);break;case"iframe":case"object":case"embed":pn("load",s);break;case"video":case"audio":for(f=0;f<x0.length;f++)pn(x0[f],s);break;case"source":pn("error",s);break;case"img":case"image":case"link":pn("error",s),pn("load",s);break;case"details":pn("toggle",s);break;case"input":pn("invalid",s),Pn(s,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0),si(s);break;case"select":pn("invalid",s);break;case"textarea":pn("invalid",s),ki(s,g.value,g.defaultValue,g.children),si(s)}f=g.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||s.textContent===""+f||g.suppressHydrationWarning===!0||zw(s.textContent,f)?(g.popover!=null&&(pn("beforetoggle",s),pn("toggle",s)),g.onScroll!=null&&pn("scroll",s),g.onScrollEnd!=null&&pn("scrollend",s),g.onClick!=null&&(s.onclick=Vy),s=!0):s=!1,s||Ko(r)}function Vm(r){for(wa=r.return;wa;)switch(wa.tag){case 5:case 13:rr=!1;return;case 27:case 3:rr=!0;return;default:wa=wa.return}}function as(r){if(r!==wa)return!1;if(!Sn)return Vm(r),Sn=!0,!1;var s=r.tag,f;if((f=s!==3&&s!==27)&&((f=s===5)&&(f=r.type,f=!(f!=="form"&&f!=="button")||gS(r.type,r.memoizedProps)),f=!f),f&&oi&&Ko(r),Vm(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));t:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(f=r.data,f==="/$"){if(s===0){oi=So(r.nextSibling);break t}s--}else f!=="$"&&f!=="$!"&&f!=="$?"||s++;r=r.nextSibling}oi=null}}else s===27?(s=oi,yu(r.type)?(r=bS,bS=null,oi=r):oi=s):oi=wa?So(r.stateNode.nextSibling):null;return!0}function Wc(){oi=wa=null,Sn=!1}function Cn(){var r=Ur;return r!==null&&(De===null?De=r:De.push.apply(De,r),Ur=null),r}function Vl(r){Ur===null?Ur=[r]:Ur.push(r)}var Hm=it(null),Qo=null,lo=null;function Jo(r,s,f){Lt(Hm,s._currentValue),s._currentValue=f}function co(r){r._currentValue=Hm.current,St(Hm)}function km(r,s,f){for(;r!==null;){var g=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,g!==null&&(g.childLanes|=s)):g!==null&&(g.childLanes&s)!==s&&(g.childLanes|=s),r===f)break;r=r.return}}function Ad(r,s,f,g){var _=r.child;for(_!==null&&(_.return=r);_!==null;){var w=_.dependencies;if(w!==null){var O=_.child;w=w.firstContext;t:for(;w!==null;){var G=w;w=_;for(var $=0;$<s.length;$++)if(G.context===s[$]){w.lanes|=f,G=w.alternate,G!==null&&(G.lanes|=f),km(w.return,f,r),g||(O=null);break t}w=G.next}}else if(_.tag===18){if(O=_.return,O===null)throw Error(i(341));O.lanes|=f,w=O.alternate,w!==null&&(w.lanes|=f),km(O,f,r),O=null}else O=_.child;if(O!==null)O.return=_;else for(O=_;O!==null;){if(O===r){O=null;break}if(_=O.sibling,_!==null){_.return=O.return,O=_;break}O=O.return}_=O}}function jr(r,s,f,g){r=null;for(var _=s,w=!1;_!==null;){if(!w){if((_.flags&524288)!==0)w=!0;else if((_.flags&262144)!==0)break}if(_.tag===10){var O=_.alternate;if(O===null)throw Error(i(387));if(O=O.memoizedProps,O!==null){var G=_.type;Ia(_.pendingProps.value,O.value)||(r!==null?r.push(G):r=[G])}}else if(_===Wt.current){if(O=_.alternate,O===null)throw Error(i(387));O.memoizedState.memoizedState!==_.memoizedState.memoizedState&&(r!==null?r.push(M0):r=[M0])}_=_.return}r!==null&&Ad(s,r,f,g),s.flags|=262144}function Cd(r){for(r=r.firstContext;r!==null;){if(!Ia(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function As(r){Qo=r,lo=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function di(r){return ff(Qo,r)}function Rd(r,s){return Qo===null&&As(r),ff(r,s)}function ff(r,s){var f=s._currentValue;if(s={context:s,memoizedValue:f,next:null},lo===null){if(r===null)throw Error(i(308));lo=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else lo=lo.next=s;return f}var Gm=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(f,g){r.push(g)}};this.abort=function(){s.aborted=!0,r.forEach(function(f){return f()})}},Q_=n.unstable_scheduleCallback,Zx=n.unstable_NormalPriority,Ci={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new Gm,data:new Map,refCount:0}}function Zc(r){r.refCount--,r.refCount===0&&Q_(Zx,function(){r.controller.abort()})}var Kc=null,Dd=0,Xe=0,Qc=null;function sr(r,s){if(Kc===null){var f=Kc=[];Dd=0,Xe=oS(),Qc={status:"pending",value:void 0,then:function(g){f.push(g)}}}return Dd++,s.then(mf,mf),s}function mf(){if(--Dd===0&&Kc!==null){Qc!==null&&(Qc.status="fulfilled");var r=Kc;Kc=null,Xe=0,Qc=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function J_(r,s){var f=[],g={status:"pending",value:null,reason:null,then:function(_){f.push(_)}};return r.then(function(){g.status="fulfilled",g.value=s;for(var _=0;_<f.length;_++)(0,f[_])(s)},function(_){for(g.status="rejected",g.reason=_,_=0;_<f.length;_++)(0,f[_])(void 0)}),g}var Ud=F.S;F.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&sr(r,s),Ud!==null&&Ud(r,s)};var Lr=it(null);function $o(){var r=Lr.current;return r!==null?r:ke.pooledCache}function jd(r,s){s===null?Lt(Lr,Lr.current):Lt(Lr,s.pool)}function gf(){var r=$o();return r===null?null:{parent:Ci._currentValue,pool:r}}var Ld=Error(i(460)),Xm=Error(i(474)),rs=Error(i(542)),Nd={then:function(){}};function xf(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Jc(){}function yf(r,s,f){switch(f=r[f],f===void 0?r.push(s):f!==s&&(s.then(Jc,Jc),s=f),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Kx(r),r;default:if(typeof s.status=="string")s.then(Jc,Jc);else{if(r=ke,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(g){if(s.status==="pending"){var _=s;_.status="fulfilled",_.value=g}},function(g){if(s.status==="pending"){var _=s;_.status="rejected",_.reason=g}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,Kx(r),r}throw Nr=s,Ld}}var Nr=null;function qm(){if(Nr===null)throw Error(i(459));var r=Nr;return Nr=null,r}function Kx(r){if(r===Ld||r===rs)throw Error(i(483))}var uo=!1;function Ym(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ie(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function Cs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function ho(r,s,f){var g=r.updateQueue;if(g===null)return null;if(g=g.shared,(Rn&2)!==0){var _=g.pending;return _===null?s.next=s:(s.next=_.next,_.next=s),g.pending=s,s=Xc(r),zm(r,null,f),s}return qo(r,g,s,f),Xc(r)}function Hl(r,s,f){if(s=s.updateQueue,s!==null&&(s=s.shared,(f&4194048)!==0)){var g=s.lanes;g&=r.pendingLanes,f|=g,s.lanes=f,Me(r,f)}}function $c(r,s){var f=r.updateQueue,g=r.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var _=null,w=null;if(f=f.firstBaseUpdate,f!==null){do{var O={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};w===null?_=w=O:w=w.next=O,f=f.next}while(f!==null);w===null?_=w=s:w=w.next=s}else _=w=s;f={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},r.updateQueue=f;return}r=f.lastBaseUpdate,r===null?f.firstBaseUpdate=s:r.next=s,f.lastBaseUpdate=s}var Wm=!1;function Od(){if(Wm){var r=Qc;if(r!==null)throw r}}function tu(r,s,f,g){Wm=!1;var _=r.updateQueue;uo=!1;var w=_.firstBaseUpdate,O=_.lastBaseUpdate,G=_.shared.pending;if(G!==null){_.shared.pending=null;var $=G,_t=$.next;$.next=null,O===null?w=_t:O.next=_t,O=$;var Ht=r.alternate;Ht!==null&&(Ht=Ht.updateQueue,G=Ht.lastBaseUpdate,G!==O&&(G===null?Ht.firstBaseUpdate=_t:G.next=_t,Ht.lastBaseUpdate=$))}if(w!==null){var qt=_.baseState;O=0,Ht=_t=$=null,G=w;do{var Tt=G.lane&-536870913,At=Tt!==G.lane;if(At?(Ce&Tt)===Tt:(g&Tt)===Tt){Tt!==0&&Tt===Xe&&(Wm=!0),Ht!==null&&(Ht=Ht.next={lane:0,tag:G.tag,payload:G.payload,callback:null,next:null});t:{var He=r,Le=G;Tt=s;var Qn=f;switch(Le.tag){case 1:if(He=Le.payload,typeof He=="function"){qt=He.call(Qn,qt,Tt);break t}qt=He;break t;case 3:He.flags=He.flags&-65537|128;case 0:if(He=Le.payload,Tt=typeof He=="function"?He.call(Qn,qt,Tt):He,Tt==null)break t;qt=y({},qt,Tt);break t;case 2:uo=!0}}Tt=G.callback,Tt!==null&&(r.flags|=64,At&&(r.flags|=8192),At=_.callbacks,At===null?_.callbacks=[Tt]:At.push(Tt))}else At={lane:Tt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},Ht===null?(_t=Ht=At,$=qt):Ht=Ht.next=At,O|=Tt;if(G=G.next,G===null){if(G=_.shared.pending,G===null)break;At=G,G=At.next,At.next=null,_.lastBaseUpdate=At,_.shared.pending=null}}while(!0);Ht===null&&($=qt),_.baseState=$,_.firstBaseUpdate=_t,_.lastBaseUpdate=Ht,w===null&&(_.shared.lanes=0),fs|=O,r.lanes=O,r.memoizedState=qt}}function eu(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function Qx(r,s){var f=r.callbacks;if(f!==null)for(r.callbacks=null,r=0;r<f.length;r++)eu(f[r],s)}var nu=it(null),vf=it(0);function Jx(r,s){r=Fr,Lt(vf,r),Lt(nu,s),Fr=r|s.baseLanes}function Zm(){Lt(vf,Fr),Lt(nu,nu.current)}function zd(){Fr=vf.current,St(nu),St(vf)}var fo=0,qe=null,Nn=null,Ri=null,bf=!1,tl=!1,Aa=!1,Oi=0,Or=0,oa=null,$x=0;function gi(){throw Error(i(321))}function ma(r,s){if(s===null)return!1;for(var f=0;f<s.length&&f<r.length;f++)if(!Ia(r[f],s[f]))return!1;return!0}function po(r,s,f,g,_,w){return fo=w,qe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,F.H=r===null||r.memoizedState===null?Rf:d0,Aa=!1,w=f(g,_),Aa=!1,tl&&(w=ey(s,f,g,_)),ty(r),w}function ty(r){F.H=Id;var s=Nn!==null&&Nn.next!==null;if(fo=0,Ri=Nn=qe=null,bf=!1,Or=0,oa=null,s)throw Error(i(300));r===null||qi||(r=r.dependencies,r!==null&&Cd(r)&&(qi=!0))}function ey(r,s,f,g){qe=r;var _=0;do{if(tl&&(oa=null),Or=0,tl=!1,25<=_)throw Error(i(301));if(_+=1,Ri=Nn=null,r.updateQueue!=null){var w=r.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}F.H=Ay,w=s(f,g)}while(tl);return w}function $_(){var r=F.H,s=r.useState()[0];return s=typeof s.then=="function"?ss(s):s,r=r.useState()[0],(Nn!==null?Nn.memoizedState:null)!==r&&(qe.flags|=1024),s}function Km(){var r=Oi!==0;return Oi=0,r}function _f(r,s,f){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f}function Qm(r){if(bf){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}bf=!1}fo=0,Ri=Nn=qe=null,tl=!1,Or=Oi=0,oa=null}function Ca(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ri===null?qe.memoizedState=Ri=r:Ri=Ri.next=r,Ri}function Di(){if(Nn===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=Nn.next;var s=Ri===null?qe.memoizedState:Ri.next;if(s!==null)Ri=s,Nn=r;else{if(r===null)throw qe.alternate===null?Error(i(467)):Error(i(310));Nn=r,r={memoizedState:Nn.memoizedState,baseState:Nn.baseState,baseQueue:Nn.baseQueue,queue:Nn.queue,next:null},Ri===null?qe.memoizedState=Ri=r:Ri=Ri.next=r}return Ri}function el(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ss(r){var s=Or;return Or+=1,oa===null&&(oa=[]),r=yf(oa,r,s),s=qe,(Ri===null?s.memoizedState:Ri.next)===null&&(s=s.alternate,F.H=s===null||s.memoizedState===null?Rf:d0),r}function Sf(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return ss(r);if(r.$$typeof===j)return di(r)}throw Error(i(438,String(r)))}function Jm(r){var s=null,f=qe.updateQueue;if(f!==null&&(s=f.memoCache),s==null){var g=qe.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(s={data:g.data.map(function(_){return _.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),f===null&&(f=el(),qe.updateQueue=f),f.memoCache=s,f=s.data[s.index],f===void 0)for(f=s.data[s.index]=Array(r),g=0;g<r;g++)f[g]=z;return s.index++,f}function mo(r,s){return typeof s=="function"?s(r):s}function nl(r){var s=Di();return $m(s,Nn,r)}function $m(r,s,f){var g=r.queue;if(g===null)throw Error(i(311));g.lastRenderedReducer=f;var _=r.baseQueue,w=g.pending;if(w!==null){if(_!==null){var O=_.next;_.next=w.next,w.next=O}s.baseQueue=_=w,g.pending=null}if(w=r.baseState,_===null)r.memoizedState=w;else{s=_.next;var G=O=null,$=null,_t=s,Ht=!1;do{var qt=_t.lane&-536870913;if(qt!==_t.lane?(Ce&qt)===qt:(fo&qt)===qt){var Tt=_t.revertLane;if(Tt===0)$!==null&&($=$.next={lane:0,revertLane:0,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null}),qt===Xe&&(Ht=!0);else if((fo&Tt)===Tt){_t=_t.next,Tt===Xe&&(Ht=!0);continue}else qt={lane:0,revertLane:_t.revertLane,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null},$===null?(G=$=qt,O=w):$=$.next=qt,qe.lanes|=Tt,fs|=Tt;qt=_t.action,Aa&&f(w,qt),w=_t.hasEagerState?_t.eagerState:f(w,qt)}else Tt={lane:qt,revertLane:_t.revertLane,action:_t.action,hasEagerState:_t.hasEagerState,eagerState:_t.eagerState,next:null},$===null?(G=$=Tt,O=w):$=$.next=Tt,qe.lanes|=qt,fs|=qt;_t=_t.next}while(_t!==null&&_t!==s);if($===null?O=w:$.next=G,!Ia(w,r.memoizedState)&&(qi=!0,Ht&&(f=Qc,f!==null)))throw f;r.memoizedState=w,r.baseState=O,r.baseQueue=$,g.lastRenderedState=w}return _===null&&(g.lanes=0),[r.memoizedState,g.dispatch]}function t0(r){var s=Di(),f=s.queue;if(f===null)throw Error(i(311));f.lastRenderedReducer=r;var g=f.dispatch,_=f.pending,w=s.memoizedState;if(_!==null){f.pending=null;var O=_=_.next;do w=r(w,O.action),O=O.next;while(O!==_);Ia(w,s.memoizedState)||(qi=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),f.lastRenderedState=w}return[w,g]}function ny(r,s,f){var g=qe,_=Di(),w=Sn;if(w){if(f===void 0)throw Error(i(407));f=f()}else f=s();var O=!Ia((Nn||_).memoizedState,f);O&&(_.memoizedState=f,qi=!0),_=_.queue;var G=ay.bind(null,g,_,r);if(ru(2048,8,G,[r]),_.getSnapshot!==s||O||Ri!==null&&Ri.memoizedState.tag&1){if(g.flags|=2048,au(9,Pd(),iy.bind(null,g,_,f,s),null),ke===null)throw Error(i(349));w||(fo&124)!==0||iu(g,s,f)}return f}function iu(r,s,f){r.flags|=16384,r={getSnapshot:s,value:f},s=qe.updateQueue,s===null?(s=el(),qe.updateQueue=s,s.stores=[r]):(f=s.stores,f===null?s.stores=[r]:f.push(r))}function iy(r,s,f,g){s.value=f,s.getSnapshot=g,ry(s)&&sy(r)}function ay(r,s,f){return f(function(){ry(s)&&sy(r)})}function ry(r){var s=r.getSnapshot;r=r.value;try{var f=s();return!Ia(r,f)}catch{return!0}}function sy(r){var s=so(r,2);s!==null&&Ua(s,r,2)}function e0(r){var s=Ca();if(typeof r=="function"){var f=r;if(r=f(),Aa){Kt(!0);try{f()}finally{Kt(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:r},s}function oy(r,s,f,g){return r.baseState=f,$m(r,Nn,typeof g=="function"?g:mo)}function tS(r,s,f,g,_){if(Cf(r))throw Error(i(485));if(r=s.action,r!==null){var w={payload:_,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){w.listeners.push(O)}};F.T!==null?f(!0):w.isTransition=!1,g(w),f=s.pending,f===null?(w.next=s.pending=w,ly(s,w)):(w.next=f.next,s.pending=f.next=w)}}function ly(r,s){var f=s.action,g=s.payload,_=r.state;if(s.isTransition){var w=F.T,O={};F.T=O;try{var G=f(_,g),$=F.S;$!==null&&$(O,G),cy(r,s,G)}catch(_t){n0(r,s,_t)}finally{F.T=w}}else try{w=f(_,g),cy(r,s,w)}catch(_t){n0(r,s,_t)}}function cy(r,s,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(g){uy(r,s,g)},function(g){return n0(r,s,g)}):uy(r,s,f)}function uy(r,s,f){s.status="fulfilled",s.value=f,dy(s),r.state=f,s=r.pending,s!==null&&(f=s.next,f===s?r.pending=null:(f=f.next,s.next=f,ly(r,f)))}function n0(r,s,f){var g=r.pending;if(r.pending=null,g!==null){g=g.next;do s.status="rejected",s.reason=f,dy(s),s=s.next;while(s!==g)}r.action=null}function dy(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function i0(r,s){return s}function hy(r,s){if(Sn){var f=ke.formState;if(f!==null){t:{var g=qe;if(Sn){if(oi){e:{for(var _=oi,w=rr;_.nodeType!==8;){if(!w){_=null;break e}if(_=So(_.nextSibling),_===null){_=null;break e}}w=_.data,_=w==="F!"||w==="F"?_:null}if(_){oi=So(_.nextSibling),g=_.data==="F!";break t}}Ko(g)}g=!1}g&&(s=f[0])}}return f=Ca(),f.memoizedState=f.baseState=s,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i0,lastRenderedState:s},f.queue=g,f=Ey.bind(null,qe,g),g.dispatch=f,g=e0(!1),w=Af.bind(null,qe,!1,g.queue),g=Ca(),_={state:s,dispatch:null,action:r,pending:null},g.queue=_,f=tS.bind(null,qe,_,w,f),_.dispatch=f,g.memoizedState=r,[s,f,!1]}function fy(r){var s=Di();return py(s,Nn,r)}function py(r,s,f){if(s=$m(r,s,i0)[0],r=nl(mo)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var g=ss(s)}catch(O){throw O===Ld?rs:O}else g=s;s=Di();var _=s.queue,w=_.dispatch;return f!==s.memoizedState&&(qe.flags|=2048,au(9,Pd(),eS.bind(null,_,f),null)),[g,w,r]}function eS(r,s){r.action=s}function my(r){var s=Di(),f=Nn;if(f!==null)return py(s,f,r);Di(),s=s.memoizedState,f=Di();var g=f.queue.dispatch;return f.memoizedState=r,[s,g,!1]}function au(r,s,f,g){return r={tag:r,create:f,deps:g,inst:s,next:null},s=qe.updateQueue,s===null&&(s=el(),qe.updateQueue=s),f=s.lastEffect,f===null?s.lastEffect=r.next=r:(g=f.next,f.next=r,r.next=g,s.lastEffect=r),r}function Pd(){return{destroy:void 0,resource:void 0}}function a0(){return Di().memoizedState}function Mf(r,s,f,g){var _=Ca();g=g===void 0?null:g,qe.flags|=r,_.memoizedState=au(1|s,Pd(),f,g)}function ru(r,s,f,g){var _=Di();g=g===void 0?null:g;var w=_.memoizedState.inst;Nn!==null&&g!==null&&ma(g,Nn.memoizedState.deps)?_.memoizedState=au(s,w,f,g):(qe.flags|=r,_.memoizedState=au(1|s,w,f,g))}function r0(r,s){Mf(8390656,8,r,s)}function s0(r,s){ru(2048,8,r,s)}function Tf(r,s){return ru(4,2,r,s)}function Ef(r,s){return ru(4,4,r,s)}function gy(r,s){if(typeof s=="function"){r=r();var f=s(r);return function(){typeof f=="function"?f():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function xy(r,s,f){f=f!=null?f.concat([r]):null,ru(4,4,gy.bind(null,s,r),f)}function o0(){}function yy(r,s){var f=Di();s=s===void 0?null:s;var g=f.memoizedState;return s!==null&&ma(s,g[1])?g[0]:(f.memoizedState=[r,s],r)}function l0(r,s){var f=Di();s=s===void 0?null:s;var g=f.memoizedState;if(s!==null&&ma(s,g[1]))return g[0];if(g=r(),Aa){Kt(!0);try{r()}finally{Kt(!1)}}return f.memoizedState=[g,s],g}function wf(r,s,f){return f===void 0||(fo&1073741824)!==0?r.memoizedState=s:(r.memoizedState=f,r=Ff(),qe.lanes|=r,fs|=r,f)}function vy(r,s,f,g){return Ia(f,s)?f:nu.current!==null?(r=wf(r,f,g),Ia(r,s)||(qi=!0),r):(fo&42)===0?(qi=!0,r.memoizedState=f):(r=Ff(),qe.lanes|=r,fs|=r,s)}function by(r,s,f,g,_){var w=Z.p;Z.p=w!==0&&8>w?w:8;var O=F.T,G={};F.T=G,Af(r,!1,s,f);try{var $=_(),_t=F.S;if(_t!==null&&_t(G,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var Ht=J_($,g);Bd(r,s,Ht,pi(r))}else Bd(r,s,g,pi(r))}catch(qt){Bd(r,s,{then:function(){},status:"rejected",reason:qt},pi())}finally{Z.p=w,F.T=O}}function nS(){}function c0(r,s,f,g){if(r.tag!==5)throw Error(i(476));var _=_y(r).queue;by(r,_,s,Q,f===null?nS:function(){return Sy(r),f(g)})}function _y(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:Q},next:null};var f={};return s.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:f},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Sy(r){var s=_y(r).next.queue;Bd(r,s,{},pi())}function u0(){return di(M0)}function My(){return Di().memoizedState}function Ty(){return Di().memoizedState}function iS(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var f=pi();r=Cs(f);var g=ho(s,r,f);g!==null&&(Ua(g,s,f),Hl(g,s,f)),s={cache:pf()},r.payload=s;return}s=s.return}}function aS(r,s,f){var g=pi();f={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null},Cf(r)?wy(s,f):(f=cf(r,s,f,g),f!==null&&(Ua(f,r,g),or(f,s,g)))}function Ey(r,s,f){var g=pi();Bd(r,s,f,g)}function Bd(r,s,f,g){var _={lane:g,revertLane:0,action:f,hasEagerState:!1,eagerState:null,next:null};if(Cf(r))wy(s,_);else{var w=r.alternate;if(r.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var O=s.lastRenderedState,G=w(O,f);if(_.hasEagerState=!0,_.eagerState=G,Ia(G,O))return qo(r,s,_,0),ke===null&&Md(),!1}catch{}finally{}if(f=cf(r,s,_,g),f!==null)return Ua(f,r,g),or(f,s,g),!0}return!1}function Af(r,s,f,g){if(g={lane:2,revertLane:oS(),action:g,hasEagerState:!1,eagerState:null,next:null},Cf(r)){if(s)throw Error(i(479))}else s=cf(r,f,g,2),s!==null&&Ua(s,r,2)}function Cf(r){var s=r.alternate;return r===qe||s!==null&&s===qe}function wy(r,s){tl=bf=!0;var f=r.pending;f===null?s.next=s:(s.next=f.next,f.next=s),r.pending=s}function or(r,s,f){if((f&4194048)!==0){var g=s.lanes;g&=r.pendingLanes,f|=g,s.lanes=f,Me(r,f)}}var Id={readContext:di,use:Sf,useCallback:gi,useContext:gi,useEffect:gi,useImperativeHandle:gi,useLayoutEffect:gi,useInsertionEffect:gi,useMemo:gi,useReducer:gi,useRef:gi,useState:gi,useDebugValue:gi,useDeferredValue:gi,useTransition:gi,useSyncExternalStore:gi,useId:gi,useHostTransitionStatus:gi,useFormState:gi,useActionState:gi,useOptimistic:gi,useMemoCache:gi,useCacheRefresh:gi},Rf={readContext:di,use:Sf,useCallback:function(r,s){return Ca().memoizedState=[r,s===void 0?null:s],r},useContext:di,useEffect:r0,useImperativeHandle:function(r,s,f){f=f!=null?f.concat([r]):null,Mf(4194308,4,gy.bind(null,s,r),f)},useLayoutEffect:function(r,s){return Mf(4194308,4,r,s)},useInsertionEffect:function(r,s){Mf(4,2,r,s)},useMemo:function(r,s){var f=Ca();s=s===void 0?null:s;var g=r();if(Aa){Kt(!0);try{r()}finally{Kt(!1)}}return f.memoizedState=[g,s],g},useReducer:function(r,s,f){var g=Ca();if(f!==void 0){var _=f(s);if(Aa){Kt(!0);try{f(s)}finally{Kt(!1)}}}else _=s;return g.memoizedState=g.baseState=_,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:_},g.queue=r,r=r.dispatch=aS.bind(null,qe,r),[g.memoizedState,r]},useRef:function(r){var s=Ca();return r={current:r},s.memoizedState=r},useState:function(r){r=e0(r);var s=r.queue,f=Ey.bind(null,qe,s);return s.dispatch=f,[r.memoizedState,f]},useDebugValue:o0,useDeferredValue:function(r,s){var f=Ca();return wf(f,r,s)},useTransition:function(){var r=e0(!1);return r=by.bind(null,qe,r.queue,!0,!1),Ca().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,f){var g=qe,_=Ca();if(Sn){if(f===void 0)throw Error(i(407));f=f()}else{if(f=s(),ke===null)throw Error(i(349));(Ce&124)!==0||iu(g,s,f)}_.memoizedState=f;var w={value:f,getSnapshot:s};return _.queue=w,r0(ay.bind(null,g,w,r),[r]),g.flags|=2048,au(9,Pd(),iy.bind(null,g,w,f,s),null),f},useId:function(){var r=Ca(),s=ke.identifierPrefix;if(Sn){var f=ws,g=Es;f=(g&~(1<<32-ne(g)-1)).toString(32)+f,s=""+s+"R"+f,f=Oi++,0<f&&(s+="H"+f.toString(32)),s+=""}else f=$x++,s=""+s+"r"+f.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:u0,useFormState:hy,useActionState:hy,useOptimistic:function(r){var s=Ca();s.memoizedState=s.baseState=r;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=f,s=Af.bind(null,qe,!0,f),f.dispatch=s,[r,s]},useMemoCache:Jm,useCacheRefresh:function(){return Ca().memoizedState=iS.bind(null,qe)}},d0={readContext:di,use:Sf,useCallback:yy,useContext:di,useEffect:s0,useImperativeHandle:xy,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:l0,useReducer:nl,useRef:a0,useState:function(){return nl(mo)},useDebugValue:o0,useDeferredValue:function(r,s){var f=Di();return vy(f,Nn.memoizedState,r,s)},useTransition:function(){var r=nl(mo)[0],s=Di().memoizedState;return[typeof r=="boolean"?r:ss(r),s]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:u0,useFormState:fy,useActionState:fy,useOptimistic:function(r,s){var f=Di();return oy(f,Nn,r,s)},useMemoCache:Jm,useCacheRefresh:Ty},Ay={readContext:di,use:Sf,useCallback:yy,useContext:di,useEffect:s0,useImperativeHandle:xy,useInsertionEffect:Tf,useLayoutEffect:Ef,useMemo:l0,useReducer:t0,useRef:a0,useState:function(){return t0(mo)},useDebugValue:o0,useDeferredValue:function(r,s){var f=Di();return Nn===null?wf(f,r,s):vy(f,Nn.memoizedState,r,s)},useTransition:function(){var r=t0(mo)[0],s=Di().memoizedState;return[typeof r=="boolean"?r:ss(r),s]},useSyncExternalStore:ny,useId:My,useHostTransitionStatus:u0,useFormState:my,useActionState:my,useOptimistic:function(r,s){var f=Di();return Nn!==null?oy(f,Nn,r,s):(f.baseState=r,[r,f.queue.dispatch])},useMemoCache:Jm,useCacheRefresh:Ty},kl=null,Fd=0;function Vd(r){var s=Fd;return Fd+=1,kl===null&&(kl=[]),yf(kl,r,s)}function su(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Df(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Cy(r){var s=r._init;return s(r._payload)}function Ry(r){function s(ht,lt){if(r){var yt=ht.deletions;yt===null?(ht.deletions=[lt],ht.flags|=16):yt.push(lt)}}function f(ht,lt){if(!r)return null;for(;lt!==null;)s(ht,lt),lt=lt.sibling;return null}function g(ht){for(var lt=new Map;ht!==null;)ht.key!==null?lt.set(ht.key,ht):lt.set(ht.index,ht),ht=ht.sibling;return lt}function _(ht,lt){return ht=mi(ht,lt),ht.index=0,ht.sibling=null,ht}function w(ht,lt,yt){return ht.index=yt,r?(yt=ht.alternate,yt!==null?(yt=yt.index,yt<lt?(ht.flags|=67108866,lt):yt):(ht.flags|=67108866,lt)):(ht.flags|=1048576,lt)}function O(ht){return r&&ht.alternate===null&&(ht.flags|=67108866),ht}function G(ht,lt,yt,Xt){return lt===null||lt.tag!==6?(lt=Ed(yt,ht.mode,Xt),lt.return=ht,lt):(lt=_(lt,yt),lt.return=ht,lt)}function $(ht,lt,yt,Xt){var ye=yt.type;return ye===E?Ht(ht,lt,yt.props.children,Xt,yt.key):lt!==null&&(lt.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===k&&Cy(ye)===lt.type)?(lt=_(lt,yt.props),su(lt,yt),lt.return=ht,lt):(lt=Xi(yt.type,yt.key,yt.props,null,ht.mode,Xt),su(lt,yt),lt.return=ht,lt)}function _t(ht,lt,yt,Xt){return lt===null||lt.tag!==4||lt.stateNode.containerInfo!==yt.containerInfo||lt.stateNode.implementation!==yt.implementation?(lt=uf(yt,ht.mode,Xt),lt.return=ht,lt):(lt=_(lt,yt.children||[]),lt.return=ht,lt)}function Ht(ht,lt,yt,Xt,ye){return lt===null||lt.tag!==7?(lt=Wo(yt,ht.mode,Xt,ye),lt.return=ht,lt):(lt=_(lt,yt),lt.return=ht,lt)}function qt(ht,lt,yt){if(typeof lt=="string"&&lt!==""||typeof lt=="number"||typeof lt=="bigint")return lt=Ed(""+lt,ht.mode,yt),lt.return=ht,lt;if(typeof lt=="object"&&lt!==null){switch(lt.$$typeof){case b:return yt=Xi(lt.type,lt.key,lt.props,null,ht.mode,yt),su(yt,lt),yt.return=ht,yt;case M:return lt=uf(lt,ht.mode,yt),lt.return=ht,lt;case k:var Xt=lt._init;return lt=Xt(lt._payload),qt(ht,lt,yt)}if(bt(lt)||ft(lt))return lt=Wo(lt,ht.mode,yt,null),lt.return=ht,lt;if(typeof lt.then=="function")return qt(ht,Vd(lt),yt);if(lt.$$typeof===j)return qt(ht,Rd(ht,lt),yt);Df(ht,lt)}return null}function Tt(ht,lt,yt,Xt){var ye=lt!==null?lt.key:null;if(typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint")return ye!==null?null:G(ht,lt,""+yt,Xt);if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:return yt.key===ye?$(ht,lt,yt,Xt):null;case M:return yt.key===ye?_t(ht,lt,yt,Xt):null;case k:return ye=yt._init,yt=ye(yt._payload),Tt(ht,lt,yt,Xt)}if(bt(yt)||ft(yt))return ye!==null?null:Ht(ht,lt,yt,Xt,null);if(typeof yt.then=="function")return Tt(ht,lt,Vd(yt),Xt);if(yt.$$typeof===j)return Tt(ht,lt,Rd(ht,yt),Xt);Df(ht,yt)}return null}function At(ht,lt,yt,Xt,ye){if(typeof Xt=="string"&&Xt!==""||typeof Xt=="number"||typeof Xt=="bigint")return ht=ht.get(yt)||null,G(lt,ht,""+Xt,ye);if(typeof Xt=="object"&&Xt!==null){switch(Xt.$$typeof){case b:return ht=ht.get(Xt.key===null?yt:Xt.key)||null,$(lt,ht,Xt,ye);case M:return ht=ht.get(Xt.key===null?yt:Xt.key)||null,_t(lt,ht,Xt,ye);case k:var fn=Xt._init;return Xt=fn(Xt._payload),At(ht,lt,yt,Xt,ye)}if(bt(Xt)||ft(Xt))return ht=ht.get(yt)||null,Ht(lt,ht,Xt,ye,null);if(typeof Xt.then=="function")return At(ht,lt,yt,Vd(Xt),ye);if(Xt.$$typeof===j)return At(ht,lt,yt,Rd(lt,Xt),ye);Df(lt,Xt)}return null}function He(ht,lt,yt,Xt){for(var ye=null,fn=null,Te=lt,Oe=lt=0,ya=null;Te!==null&&Oe<yt.length;Oe++){Te.index>Oe?(ya=Te,Te=null):ya=Te.sibling;var Un=Tt(ht,Te,yt[Oe],Xt);if(Un===null){Te===null&&(Te=ya);break}r&&Te&&Un.alternate===null&&s(ht,Te),lt=w(Un,lt,Oe),fn===null?ye=Un:fn.sibling=Un,fn=Un,Te=ya}if(Oe===yt.length)return f(ht,Te),Sn&&oo(ht,Oe),ye;if(Te===null){for(;Oe<yt.length;Oe++)Te=qt(ht,yt[Oe],Xt),Te!==null&&(lt=w(Te,lt,Oe),fn===null?ye=Te:fn.sibling=Te,fn=Te);return Sn&&oo(ht,Oe),ye}for(Te=g(Te);Oe<yt.length;Oe++)ya=At(Te,ht,Oe,yt[Oe],Xt),ya!==null&&(r&&ya.alternate!==null&&Te.delete(ya.key===null?Oe:ya.key),lt=w(ya,lt,Oe),fn===null?ye=ya:fn.sibling=ya,fn=ya);return r&&Te.forEach(function(Mu){return s(ht,Mu)}),Sn&&oo(ht,Oe),ye}function Le(ht,lt,yt,Xt){if(yt==null)throw Error(i(151));for(var ye=null,fn=null,Te=lt,Oe=lt=0,ya=null,Un=yt.next();Te!==null&&!Un.done;Oe++,Un=yt.next()){Te.index>Oe?(ya=Te,Te=null):ya=Te.sibling;var Mu=Tt(ht,Te,Un.value,Xt);if(Mu===null){Te===null&&(Te=ya);break}r&&Te&&Mu.alternate===null&&s(ht,Te),lt=w(Mu,lt,Oe),fn===null?ye=Mu:fn.sibling=Mu,fn=Mu,Te=ya}if(Un.done)return f(ht,Te),Sn&&oo(ht,Oe),ye;if(Te===null){for(;!Un.done;Oe++,Un=yt.next())Un=qt(ht,Un.value,Xt),Un!==null&&(lt=w(Un,lt,Oe),fn===null?ye=Un:fn.sibling=Un,fn=Un);return Sn&&oo(ht,Oe),ye}for(Te=g(Te);!Un.done;Oe++,Un=yt.next())Un=At(Te,ht,Oe,Un.value,Xt),Un!==null&&(r&&Un.alternate!==null&&Te.delete(Un.key===null?Oe:Un.key),lt=w(Un,lt,Oe),fn===null?ye=Un:fn.sibling=Un,fn=Un);return r&&Te.forEach(function(eO){return s(ht,eO)}),Sn&&oo(ht,Oe),ye}function Qn(ht,lt,yt,Xt){if(typeof yt=="object"&&yt!==null&&yt.type===E&&yt.key===null&&(yt=yt.props.children),typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case b:t:{for(var ye=yt.key;lt!==null;){if(lt.key===ye){if(ye=yt.type,ye===E){if(lt.tag===7){f(ht,lt.sibling),Xt=_(lt,yt.props.children),Xt.return=ht,ht=Xt;break t}}else if(lt.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===k&&Cy(ye)===lt.type){f(ht,lt.sibling),Xt=_(lt,yt.props),su(Xt,yt),Xt.return=ht,ht=Xt;break t}f(ht,lt);break}else s(ht,lt);lt=lt.sibling}yt.type===E?(Xt=Wo(yt.props.children,ht.mode,Xt,yt.key),Xt.return=ht,ht=Xt):(Xt=Xi(yt.type,yt.key,yt.props,null,ht.mode,Xt),su(Xt,yt),Xt.return=ht,ht=Xt)}return O(ht);case M:t:{for(ye=yt.key;lt!==null;){if(lt.key===ye)if(lt.tag===4&&lt.stateNode.containerInfo===yt.containerInfo&&lt.stateNode.implementation===yt.implementation){f(ht,lt.sibling),Xt=_(lt,yt.children||[]),Xt.return=ht,ht=Xt;break t}else{f(ht,lt);break}else s(ht,lt);lt=lt.sibling}Xt=uf(yt,ht.mode,Xt),Xt.return=ht,ht=Xt}return O(ht);case k:return ye=yt._init,yt=ye(yt._payload),Qn(ht,lt,yt,Xt)}if(bt(yt))return He(ht,lt,yt,Xt);if(ft(yt)){if(ye=ft(yt),typeof ye!="function")throw Error(i(150));return yt=ye.call(yt),Le(ht,lt,yt,Xt)}if(typeof yt.then=="function")return Qn(ht,lt,Vd(yt),Xt);if(yt.$$typeof===j)return Qn(ht,lt,Rd(ht,yt),Xt);Df(ht,yt)}return typeof yt=="string"&&yt!==""||typeof yt=="number"||typeof yt=="bigint"?(yt=""+yt,lt!==null&&lt.tag===6?(f(ht,lt.sibling),Xt=_(lt,yt),Xt.return=ht,ht=Xt):(f(ht,lt),Xt=Ed(yt,ht.mode,Xt),Xt.return=ht,ht=Xt),O(ht)):f(ht,lt)}return function(ht,lt,yt,Xt){try{Fd=0;var ye=Qn(ht,lt,yt,Xt);return kl=null,ye}catch(Te){if(Te===Ld||Te===rs)throw Te;var fn=Ha(29,Te,null,ht.mode);return fn.lanes=Xt,fn.return=ht,fn}finally{}}}var Gl=Ry(!0),Dy=Ry(!1),Vn=it(null),os=null;function il(r){var s=r.alternate;Lt(xi,xi.current&1),Lt(Vn,r),os===null&&(s===null||nu.current!==null||s.memoizedState!==null)&&(os=r)}function Uy(r){if(r.tag===22){if(Lt(xi,xi.current),Lt(Vn,r),os===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(os=r)}}else al()}function al(){Lt(xi,xi.current),Lt(Vn,Vn.current)}function Rs(r){St(Vn),os===r&&(os=null),St(xi)}var xi=it(0);function go(r){for(var s=r;s!==null;){if(s.tag===13){var f=s.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||vS(f)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function rl(r,s,f,g){s=r.memoizedState,f=f(g,s),f=f==null?s:y({},s,f),r.memoizedState=f,r.lanes===0&&(r.updateQueue.baseState=f)}var Ra={enqueueSetState:function(r,s,f){r=r._reactInternals;var g=pi(),_=Cs(g);_.payload=s,f!=null&&(_.callback=f),s=ho(r,_,g),s!==null&&(Ua(s,r,g),Hl(s,r,g))},enqueueReplaceState:function(r,s,f){r=r._reactInternals;var g=pi(),_=Cs(g);_.tag=1,_.payload=s,f!=null&&(_.callback=f),s=ho(r,_,g),s!==null&&(Ua(s,r,g),Hl(s,r,g))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var f=pi(),g=Cs(f);g.tag=2,s!=null&&(g.callback=s),s=ho(r,g,f),s!==null&&(Ua(s,r,f),Hl(s,r,f))}};function jy(r,s,f,g,_,w,O){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(g,w,O):s.prototype&&s.prototype.isPureReactComponent?!is(f,g)||!is(_,w):!0}function Ly(r,s,f,g){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(f,g),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(f,g),s.state!==r&&Ra.enqueueReplaceState(s,s.state,null)}function Ds(r,s){var f=s;if("ref"in s){f={};for(var g in s)g!=="ref"&&(f[g]=s[g])}if(r=r.defaultProps){f===s&&(f=y({},f));for(var _ in r)f[_]===void 0&&(f[_]=r[_])}return f}var Xl=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Hd(r){Xl(r)}function Uf(r){console.error(r)}function Ny(r){Xl(r)}function jf(r,s){try{var f=r.onUncaughtError;f(s.value,{componentStack:s.stack})}catch(g){setTimeout(function(){throw g})}}function zr(r,s,f){try{var g=r.onCaughtError;g(f.value,{componentStack:f.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(_){setTimeout(function(){throw _})}}function Lf(r,s,f){return f=Cs(f),f.tag=3,f.payload={element:null},f.callback=function(){jf(r,s)},f}function Oy(r){return r=Cs(r),r.tag=3,r}function Nf(r,s,f,g){var _=f.type.getDerivedStateFromError;if(typeof _=="function"){var w=g.value;r.payload=function(){return _(w)},r.callback=function(){zr(s,f,g)}}var O=f.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(r.callback=function(){zr(s,f,g),typeof _!="function"&&(mr===null?mr=new Set([this]):mr.add(this));var G=g.stack;this.componentDidCatch(g.value,{componentStack:G!==null?G:""})})}function rS(r,s,f,g,_){if(f.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(s=f.alternate,s!==null&&jr(s,f,_,!0),f=Vn.current,f!==null){switch(f.tag){case 13:return os===null?l():f.alternate===null&&Jn===0&&(Jn=3),f.flags&=-257,f.flags|=65536,f.lanes=_,g===Nd?f.flags|=16384:(s=f.updateQueue,s===null?f.updateQueue=new Set([g]):s.add(g),Ct(r,g,_)),!1;case 22:return f.flags|=65536,g===Nd?f.flags|=16384:(s=f.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([g])},f.updateQueue=s):(f=s.retryQueue,f===null?s.retryQueue=new Set([g]):f.add(g)),Ct(r,g,_)),!1}throw Error(i(435,f.tag))}return Ct(r,g,_),l(),!1}if(Sn)return s=Vn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=_,g!==hf&&(r=Error(i(422),{cause:g}),Vl(ra(r,f)))):(g!==hf&&(s=Error(i(423),{cause:g}),Vl(ra(s,f))),r=r.current.alternate,r.flags|=65536,_&=-_,r.lanes|=_,g=ra(g,f),_=Lf(r.stateNode,g,_),$c(r,_),Jn!==4&&(Jn=2)),!1;var w=Error(i(520),{cause:g});if(w=ra(w,f),Dn===null?Dn=[w]:Dn.push(w),Jn!==4&&(Jn=2),s===null)return!0;g=ra(g,f),f=s;do{switch(f.tag){case 3:return f.flags|=65536,r=_&-_,f.lanes|=r,r=Lf(f.stateNode,g,r),$c(f,r),!1;case 1:if(s=f.type,w=f.stateNode,(f.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(mr===null||!mr.has(w))))return f.flags|=65536,_&=-_,f.lanes|=_,_=Oy(_),Nf(_,r,f,g),$c(f,_),!1}f=f.return}while(f!==null);return!1}var zy=Error(i(461)),qi=!1;function yi(r,s,f,g){s.child=r===null?Dy(s,null,f,g):Gl(s,r.child,f,g)}function Ga(r,s,f,g,_){f=f.render;var w=s.ref;if("ref"in g){var O={};for(var G in g)G!=="ref"&&(O[G]=g[G])}else O=g;return As(s),g=po(r,s,f,O,w,_),G=Km(),r!==null&&!qi?(_f(r,s,_),Yi(r,s,_)):(Sn&&G&&Im(s),s.flags|=1,yi(r,s,g,_),s.child)}function Xa(r,s,f,g,_){if(r===null){var w=f.type;return typeof w=="function"&&!Td(w)&&w.defaultProps===void 0&&f.compare===null?(s.tag=15,s.type=w,h0(r,s,w,g,_)):(r=Xi(f.type,null,g,s,s.mode,_),r.ref=s.ref,r.return=s,s.child=r)}if(w=r.child,!kd(r,_)){var O=w.memoizedProps;if(f=f.compare,f=f!==null?f:is,f(O,g)&&r.ref===s.ref)return Yi(r,s,_)}return s.flags|=1,r=mi(w,g),r.ref=s.ref,r.return=s,s.child=r}function h0(r,s,f,g,_){if(r!==null){var w=r.memoizedProps;if(is(w,g)&&r.ref===s.ref)if(qi=!1,s.pendingProps=g=w,kd(r,_))(r.flags&131072)!==0&&(qi=!0);else return s.lanes=r.lanes,Yi(r,s,_)}return ou(r,s,f,g,_)}function ql(r,s,f){var g=s.pendingProps,_=g.children,w=r!==null?r.memoizedState:null;if(g.mode==="hidden"){if((s.flags&128)!==0){if(g=w!==null?w.baseLanes|f:f,r!==null){for(_=s.child=r.child,w=0;_!==null;)w=w|_.lanes|_.childLanes,_=_.sibling;s.childLanes=w&~g}else s.childLanes=0,s.child=null;return Yl(r,s,g,f)}if((f&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&jd(s,w!==null?w.cachePool:null),w!==null?Jx(s,w):Zm(),Uy(s);else return s.lanes=s.childLanes=536870912,Yl(r,s,w!==null?w.baseLanes|f:f,f)}else w!==null?(jd(s,w.cachePool),Jx(s,w),al(),s.memoizedState=null):(r!==null&&jd(s,null),Zm(),al());return yi(r,s,_,f),s.child}function Yl(r,s,f,g){var _=$o();return _=_===null?null:{parent:Ci._currentValue,pool:_},s.memoizedState={baseLanes:f,cachePool:_},r!==null&&jd(s,null),Zm(),Uy(s),r!==null&&jr(r,s,g,!0),null}function Wl(r,s){var f=s.ref;if(f===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(i(284));(r===null||r.ref!==f)&&(s.flags|=4194816)}}function ou(r,s,f,g,_){return As(s),f=po(r,s,f,g,void 0,_),g=Km(),r!==null&&!qi?(_f(r,s,_),Yi(r,s,_)):(Sn&&g&&Im(s),s.flags|=1,yi(r,s,f,_),s.child)}function lr(r,s,f,g,_,w){return As(s),s.updateQueue=null,f=ey(s,g,f,_),ty(r),g=Km(),r!==null&&!qi?(_f(r,s,w),Yi(r,s,w)):(Sn&&g&&Im(s),s.flags|=1,yi(r,s,f,w),s.child)}function cr(r,s,f,g,_){if(As(s),s.stateNode===null){var w=Yo,O=f.contextType;typeof O=="object"&&O!==null&&(w=di(O)),w=new f(g,w),s.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ra,s.stateNode=w,w._reactInternals=s,w=s.stateNode,w.props=g,w.state=s.memoizedState,w.refs={},Ym(s),O=f.contextType,w.context=typeof O=="object"&&O!==null?di(O):Yo,w.state=s.memoizedState,O=f.getDerivedStateFromProps,typeof O=="function"&&(rl(s,f,O,g),w.state=s.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(O=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),O!==w.state&&Ra.enqueueReplaceState(w,w.state,null),tu(s,g,w,_),Od(),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!0}else if(r===null){w=s.stateNode;var G=s.memoizedProps,$=Ds(f,G);w.props=$;var _t=w.context,Ht=f.contextType;O=Yo,typeof Ht=="object"&&Ht!==null&&(O=di(Ht));var qt=f.getDerivedStateFromProps;Ht=typeof qt=="function"||typeof w.getSnapshotBeforeUpdate=="function",G=s.pendingProps!==G,Ht||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(G||_t!==O)&&Ly(s,w,g,O),uo=!1;var Tt=s.memoizedState;w.state=Tt,tu(s,g,w,_),Od(),_t=s.memoizedState,G||Tt!==_t||uo?(typeof qt=="function"&&(rl(s,f,qt,g),_t=s.memoizedState),($=uo||jy(s,f,$,g,Tt,_t,O))?(Ht||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(s.flags|=4194308)):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=g,s.memoizedState=_t),w.props=g,w.state=_t,w.context=O,g=$):(typeof w.componentDidMount=="function"&&(s.flags|=4194308),g=!1)}else{w=s.stateNode,Ie(r,s),O=s.memoizedProps,Ht=Ds(f,O),w.props=Ht,qt=s.pendingProps,Tt=w.context,_t=f.contextType,$=Yo,typeof _t=="object"&&_t!==null&&($=di(_t)),G=f.getDerivedStateFromProps,(_t=typeof G=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(O!==qt||Tt!==$)&&Ly(s,w,g,$),uo=!1,Tt=s.memoizedState,w.state=Tt,tu(s,g,w,_),Od();var At=s.memoizedState;O!==qt||Tt!==At||uo||r!==null&&r.dependencies!==null&&Cd(r.dependencies)?(typeof G=="function"&&(rl(s,f,G,g),At=s.memoizedState),(Ht=uo||jy(s,f,Ht,g,Tt,At,$)||r!==null&&r.dependencies!==null&&Cd(r.dependencies))?(_t||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,At,$),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,At,$)),typeof w.componentDidUpdate=="function"&&(s.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Tt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Tt===r.memoizedState||(s.flags|=1024),s.memoizedProps=g,s.memoizedState=At),w.props=g,w.state=At,w.context=$,g=Ht):(typeof w.componentDidUpdate!="function"||O===r.memoizedProps&&Tt===r.memoizedState||(s.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||O===r.memoizedProps&&Tt===r.memoizedState||(s.flags|=1024),g=!1)}return w=g,Wl(r,s),g=(s.flags&128)!==0,w||g?(w=s.stateNode,f=g&&typeof f.getDerivedStateFromError!="function"?null:w.render(),s.flags|=1,r!==null&&g?(s.child=Gl(s,r.child,null,_),s.child=Gl(s,null,f,_)):yi(r,s,f,_),s.memoizedState=w.state,r=s.child):r=Yi(r,s,_),r}function sl(r,s,f,g){return Wc(),s.flags|=256,yi(r,s,f,g),s.child}var ls={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cs(r){return{baseLanes:r,cachePool:gf()}}function zi(r,s,f){return r=r!==null?r.childLanes&~f:0,s&&(r|=Vr),r}function lu(r,s,f){var g=s.pendingProps,_=!1,w=(s.flags&128)!==0,O;if((O=w)||(O=r!==null&&r.memoizedState===null?!1:(xi.current&2)!==0),O&&(_=!0,s.flags&=-129),O=(s.flags&32)!==0,s.flags&=-33,r===null){if(Sn){if(_?il(s):al(),Sn){var G=oi,$;if($=G){t:{for($=G,G=rr;$.nodeType!==8;){if(!G){G=null;break t}if($=So($.nextSibling),$===null){G=null;break t}}G=$}G!==null?(s.memoizedState={dehydrated:G,treeContext:Zo!==null?{id:Es,overflow:ws}:null,retryLane:536870912,hydrationErrors:null},$=Ha(18,null,null,0),$.stateNode=G,$.return=s,s.child=$,wa=s,oi=null,$=!0):$=!1}$||Ko(s)}if(G=s.memoizedState,G!==null&&(G=G.dehydrated,G!==null))return vS(G)?s.lanes=32:s.lanes=536870912,null;Rs(s)}return G=g.children,g=g.fallback,_?(al(),_=s.mode,G=Zl({mode:"hidden",children:G},_),g=Wo(g,_,f,null),G.return=s,g.return=s,G.sibling=g,s.child=G,_=s.child,_.memoizedState=cs(f),_.childLanes=zi(r,O,f),s.memoizedState=ls,g):(il(s),Us(s,G))}if($=r.memoizedState,$!==null&&(G=$.dehydrated,G!==null)){if(w)s.flags&256?(il(s),s.flags&=-257,s=la(r,s,f)):s.memoizedState!==null?(al(),s.child=r.child,s.flags|=128,s=null):(al(),_=g.fallback,G=s.mode,g=Zl({mode:"visible",children:g.children},G),_=Wo(_,G,f,null),_.flags|=2,g.return=s,_.return=s,g.sibling=_,s.child=g,Gl(s,r.child,null,f),g=s.child,g.memoizedState=cs(f),g.childLanes=zi(r,O,f),s.memoizedState=ls,s=_);else if(il(s),vS(G)){if(O=G.nextSibling&&G.nextSibling.dataset,O)var _t=O.dgst;O=_t,g=Error(i(419)),g.stack="",g.digest=O,Vl({value:g,source:null,stack:null}),s=la(r,s,f)}else if(qi||jr(r,s,f,!1),O=(f&r.childLanes)!==0,qi||O){if(O=ke,O!==null&&(g=f&-f,g=(g&42)!==0?1:tn(g),g=(g&(O.suspendedLanes|f))!==0?0:g,g!==0&&g!==$.retryLane))throw $.retryLane=g,so(r,g),Ua(O,r,g),zy;G.data==="$?"||l(),s=la(r,s,f)}else G.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=$.treeContext,oi=So(G.nextSibling),wa=s,Sn=!0,Ur=null,rr=!1,r!==null&&(sa[ar++]=Es,sa[ar++]=ws,sa[ar++]=Zo,Es=r.id,ws=r.overflow,Zo=s),s=Us(s,g.children),s.flags|=4096);return s}return _?(al(),_=g.fallback,G=s.mode,$=r.child,_t=$.sibling,g=mi($,{mode:"hidden",children:g.children}),g.subtreeFlags=$.subtreeFlags&65011712,_t!==null?_=mi(_t,_):(_=Wo(_,G,f,null),_.flags|=2),_.return=s,g.return=s,g.sibling=_,s.child=g,g=_,_=s.child,G=r.child.memoizedState,G===null?G=cs(f):($=G.cachePool,$!==null?(_t=Ci._currentValue,$=$.parent!==_t?{parent:_t,pool:_t}:$):$=gf(),G={baseLanes:G.baseLanes|f,cachePool:$}),_.memoizedState=G,_.childLanes=zi(r,O,f),s.memoizedState=ls,g):(il(s),f=r.child,r=f.sibling,f=mi(f,{mode:"visible",children:g.children}),f.return=s,f.sibling=null,r!==null&&(O=s.deletions,O===null?(s.deletions=[r],s.flags|=16):O.push(r)),s.child=f,s.memoizedState=null,f)}function Us(r,s){return s=Zl({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function Zl(r,s){return r=Ha(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function la(r,s,f){return Gl(s,r.child,null,f),r=Us(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function ca(r,s,f){r.lanes|=s;var g=r.alternate;g!==null&&(g.lanes|=s),km(r.return,s,f)}function xn(r,s,f,g,_){var w=r.memoizedState;w===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=g,w.tail=f,w.tailMode=_)}function Pr(r,s,f){var g=s.pendingProps,_=g.revealOrder,w=g.tail;if(yi(r,s,g.children,f),g=xi.current,(g&2)!==0)g=g&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)t:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&ca(r,f,s);else if(r.tag===19)ca(r,f,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;r=r.return}r.sibling.return=r.return,r=r.sibling}g&=1}switch(Lt(xi,g),_){case"forwards":for(f=s.child,_=null;f!==null;)r=f.alternate,r!==null&&go(r)===null&&(_=f),f=f.sibling;f=_,f===null?(_=s.child,s.child=null):(_=f.sibling,f.sibling=null),xn(s,!1,_,f,w);break;case"backwards":for(f=null,_=s.child,s.child=null;_!==null;){if(r=_.alternate,r!==null&&go(r)===null){s.child=_;break}r=_.sibling,_.sibling=f,f=_,_=r}xn(s,!0,f,null,w);break;case"together":xn(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Yi(r,s,f){if(r!==null&&(s.dependencies=r.dependencies),fs|=s.lanes,(f&s.childLanes)===0)if(r!==null){if(jr(r,s,f,!1),(f&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,f=mi(r,r.pendingProps),s.child=f,f.return=s;r.sibling!==null;)r=r.sibling,f=f.sibling=mi(r,r.pendingProps),f.return=s;f.sibling=null}return s.child}function kd(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Cd(r)))}function Br(r,s,f){switch(s.tag){case 3:$t(s,s.stateNode.containerInfo),Jo(s,Ci,r.memoizedState.cache),Wc();break;case 27:case 5:ve(s);break;case 4:$t(s,s.stateNode.containerInfo);break;case 10:Jo(s,s.type,s.memoizedProps.value);break;case 13:var g=s.memoizedState;if(g!==null)return g.dehydrated!==null?(il(s),s.flags|=128,null):(f&s.child.childLanes)!==0?lu(r,s,f):(il(s),r=Yi(r,s,f),r!==null?r.sibling:null);il(s);break;case 19:var _=(r.flags&128)!==0;if(g=(f&s.childLanes)!==0,g||(jr(r,s,f,!1),g=(f&s.childLanes)!==0),_){if(g)return Pr(r,s,f);s.flags|=128}if(_=s.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Lt(xi,xi.current),g)break;return null;case 22:case 23:return s.lanes=0,ql(r,s,f);case 24:Jo(s,Ci,r.memoizedState.cache)}return Yi(r,s,f)}function Kl(r,s,f){if(r!==null)if(r.memoizedProps!==s.pendingProps)qi=!0;else{if(!kd(r,f)&&(s.flags&128)===0)return qi=!1,Br(r,s,f);qi=(r.flags&131072)!==0}else qi=!1,Sn&&(s.flags&1048576)!==0&&df(s,Yc,s.index);switch(s.lanes=0,s.tag){case 16:t:{r=s.pendingProps;var g=s.elementType,_=g._init;if(g=_(g._payload),s.type=g,typeof g=="function")Td(g)?(r=Ds(g,r),s.tag=1,s=cr(null,s,g,r,f)):(s.tag=0,s=ou(null,s,g,r,f));else{if(g!=null){if(_=g.$$typeof,_===N){s.tag=11,s=Ga(null,s,g,r,f);break t}else if(_===H){s.tag=14,s=Xa(null,s,g,r,f);break t}}throw s=xt(g)||g,Error(i(306,s,""))}}return s;case 0:return ou(r,s,s.type,s.pendingProps,f);case 1:return g=s.type,_=Ds(g,s.pendingProps),cr(r,s,g,_,f);case 3:t:{if($t(s,s.stateNode.containerInfo),r===null)throw Error(i(387));g=s.pendingProps;var w=s.memoizedState;_=w.element,Ie(r,s),tu(s,g,null,f);var O=s.memoizedState;if(g=O.cache,Jo(s,Ci,g),g!==w.cache&&Ad(s,[Ci],f,!0),Od(),g=O.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:O.cache},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){s=sl(r,s,g,f);break t}else if(g!==_){_=ra(Error(i(424)),s),Vl(_),s=sl(r,s,g,f);break t}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(oi=So(r.firstChild),wa=s,Sn=!0,Ur=null,rr=!0,f=Dy(s,null,g,f),s.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(Wc(),g===_){s=Yi(r,s,f);break t}yi(r,s,g,f)}s=s.child}return s;case 26:return Wl(r,s),r===null?(f=qw(s.type,null,s.pendingProps,null))?s.memoizedState=f:Sn||(f=s.type,r=s.pendingProps,g=Hy(Pt.current).createElement(f),g[Ei]=s,g[Ni]=r,ja(g,f,r),wi(g),s.stateNode=g):s.memoizedState=qw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return ve(s),r===null&&Sn&&(g=s.stateNode=kw(s.type,s.pendingProps,Pt.current),wa=s,rr=!0,_=oi,yu(s.type)?(bS=_,oi=So(g.firstChild)):oi=_),yi(r,s,s.pendingProps.children,f),Wl(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&Sn&&((_=g=oi)&&(g=DN(g,s.type,s.pendingProps,rr),g!==null?(s.stateNode=g,wa=s,oi=So(g.firstChild),rr=!1,_=!0):_=!1),_||Ko(s)),ve(s),_=s.type,w=s.pendingProps,O=r!==null?r.memoizedProps:null,g=w.children,gS(_,w)?g=null:O!==null&&gS(_,O)&&(s.flags|=32),s.memoizedState!==null&&(_=po(r,s,$_,null,null,f),M0._currentValue=_),Wl(r,s),yi(r,s,g,f),s.child;case 6:return r===null&&Sn&&((r=f=oi)&&(f=UN(f,s.pendingProps,rr),f!==null?(s.stateNode=f,wa=s,oi=null,r=!0):r=!1),r||Ko(s)),null;case 13:return lu(r,s,f);case 4:return $t(s,s.stateNode.containerInfo),g=s.pendingProps,r===null?s.child=Gl(s,null,g,f):yi(r,s,g,f),s.child;case 11:return Ga(r,s,s.type,s.pendingProps,f);case 7:return yi(r,s,s.pendingProps,f),s.child;case 8:return yi(r,s,s.pendingProps.children,f),s.child;case 12:return yi(r,s,s.pendingProps.children,f),s.child;case 10:return g=s.pendingProps,Jo(s,s.type,g.value),yi(r,s,g.children,f),s.child;case 9:return _=s.type._context,g=s.pendingProps.children,As(s),_=di(_),g=g(_),s.flags|=1,yi(r,s,g,f),s.child;case 14:return Xa(r,s,s.type,s.pendingProps,f);case 15:return h0(r,s,s.type,s.pendingProps,f);case 19:return Pr(r,s,f);case 31:return g=s.pendingProps,f=s.mode,g={mode:g.mode,children:g.children},r===null?(f=Zl(g,f),f.ref=s.ref,s.child=f,f.return=s,s=f):(f=mi(r.child,g),f.ref=s.ref,s.child=f,f.return=s,s=f),s;case 22:return ql(r,s,f);case 24:return As(s),g=di(Ci),r===null?(_=$o(),_===null&&(_=ke,w=pf(),_.pooledCache=w,w.refCount++,w!==null&&(_.pooledCacheLanes|=f),_=w),s.memoizedState={parent:g,cache:_},Ym(s),Jo(s,Ci,_)):((r.lanes&f)!==0&&(Ie(r,s),tu(s,null,null,f),Od()),_=r.memoizedState,w=s.memoizedState,_.parent!==g?(_={parent:g,cache:g},s.memoizedState=_,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=_),Jo(s,Ci,g)):(g=w.cache,Jo(s,Ci,g),g!==_.cache&&Ad(s,[Ci],f,!0))),yi(r,s,s.pendingProps.children,f),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function us(r){r.flags|=4}function Gd(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Qw(s)){if(s=Vn.current,s!==null&&((Ce&4194048)===Ce?os!==null:(Ce&62914560)!==Ce&&(Ce&536870912)===0||s!==os))throw Nr=Nd,Xm;r.flags|=8192}}function xo(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Qt():536870912,r.lanes|=s,bn|=s)}function Ql(r,s){if(!Sn)switch(r.tailMode){case"hidden":s=r.tail;for(var f=null;s!==null;)s.alternate!==null&&(f=s),s=s.sibling;f===null?r.tail=null:f.sibling=null;break;case"collapsed":f=r.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:g.sibling=null}}function Yn(r){var s=r.alternate!==null&&r.alternate.child===r.child,f=0,g=0;if(s)for(var _=r.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags&65011712,g|=_.flags&65011712,_.return=r,_=_.sibling;else for(_=r.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=r,_=_.sibling;return r.subtreeFlags|=g,r.childLanes=f,s}function f0(r,s,f){var g=s.pendingProps;switch(Fm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(s),null;case 1:return Yn(s),null;case 3:return f=s.stateNode,g=null,r!==null&&(g=r.memoizedState.cache),s.memoizedState.cache!==g&&(s.flags|=2048),co(Ci),we(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(r===null||r.child===null)&&(as(s)?us(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Cn())),Yn(s),null;case 26:return f=s.memoizedState,r===null?(us(s),f!==null?(Yn(s),Gd(s,f)):(Yn(s),s.flags&=-16777217)):f?f!==r.memoizedState?(us(s),Yn(s),Gd(s,f)):(Yn(s),s.flags&=-16777217):(r.memoizedProps!==g&&us(s),Yn(s),s.flags&=-16777217),null;case 27:Pe(s),f=Pt.current;var _=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==g&&us(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Yn(s),null}r=rt.current,as(s)?Wx(s):(r=kw(_,g,f),s.stateNode=r,us(s))}return Yn(s),null;case 5:if(Pe(s),f=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==g&&us(s);else{if(!g){if(s.stateNode===null)throw Error(i(166));return Yn(s),null}if(r=rt.current,as(s))Wx(s);else{switch(_=Hy(Pt.current),r){case 1:r=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:r=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":r=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":r=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":r=_.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof g.is=="string"?_.createElement("select",{is:g.is}):_.createElement("select"),g.multiple?r.multiple=!0:g.size&&(r.size=g.size);break;default:r=typeof g.is=="string"?_.createElement(f,{is:g.is}):_.createElement(f)}}r[Ei]=s,r[Ni]=g;t:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)r.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break t;for(;_.sibling===null;){if(_.return===null||_.return===s)break t;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=r;t:switch(ja(r,f,g),f){case"button":case"input":case"select":case"textarea":r=!!g.autoFocus;break t;case"img":r=!0;break t;default:r=!1}r&&us(s)}}return Yn(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==g&&us(s);else{if(typeof g!="string"&&s.stateNode===null)throw Error(i(166));if(r=Pt.current,as(s)){if(r=s.stateNode,f=s.memoizedProps,g=null,_=wa,_!==null)switch(_.tag){case 27:case 5:g=_.memoizedProps}r[Ei]=s,r=!!(r.nodeValue===f||g!==null&&g.suppressHydrationWarning===!0||zw(r.nodeValue,f)),r||Ko(s)}else r=Hy(r).createTextNode(g),r[Ei]=s,s.stateNode=r}return Yn(s),null;case 13:if(g=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(_=as(s),g!==null&&g.dehydrated!==null){if(r===null){if(!_)throw Error(i(318));if(_=s.memoizedState,_=_!==null?_.dehydrated:null,!_)throw Error(i(317));_[Ei]=s}else Wc(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Yn(s),_=!1}else _=Cn(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=_),_=!0;if(!_)return s.flags&256?(Rs(s),s):(Rs(s),null)}if(Rs(s),(s.flags&128)!==0)return s.lanes=f,s;if(f=g!==null,r=r!==null&&r.memoizedState!==null,f){g=s.child,_=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(_=g.alternate.memoizedState.cachePool.pool);var w=null;g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==_&&(g.flags|=2048)}return f!==r&&f&&(s.child.flags|=8192),xo(s,s.updateQueue),Yn(s),null;case 4:return we(),r===null&&dS(s.stateNode.containerInfo),Yn(s),null;case 10:return co(s.type),Yn(s),null;case 19:if(St(xi),_=s.memoizedState,_===null)return Yn(s),null;if(g=(s.flags&128)!==0,w=_.rendering,w===null)if(g)Ql(_,!1);else{if(Jn!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(w=go(r),w!==null){for(s.flags|=128,Ql(_,!1),r=w.updateQueue,s.updateQueue=r,xo(s,r),s.subtreeFlags=0,r=f,f=s.child;f!==null;)Bm(f,r),f=f.sibling;return Lt(xi,xi.current&1|2),s.child}r=r.sibling}_.tail!==null&&zt()>ga&&(s.flags|=128,g=!0,Ql(_,!1),s.lanes=4194304)}else{if(!g)if(r=go(w),r!==null){if(s.flags|=128,g=!0,r=r.updateQueue,s.updateQueue=r,xo(s,r),Ql(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!Sn)return Yn(s),null}else 2*zt()-_.renderingStartTime>ga&&f!==536870912&&(s.flags|=128,g=!0,Ql(_,!1),s.lanes=4194304);_.isBackwards?(w.sibling=s.child,s.child=w):(r=_.last,r!==null?r.sibling=w:s.child=w,_.last=w)}return _.tail!==null?(s=_.tail,_.rendering=s,_.tail=s.sibling,_.renderingStartTime=zt(),s.sibling=null,r=xi.current,Lt(xi,g?r&1|2:r&1),s):(Yn(s),null);case 22:case 23:return Rs(s),zd(),g=s.memoizedState!==null,r!==null?r.memoizedState!==null!==g&&(s.flags|=8192):g&&(s.flags|=8192),g?(f&536870912)!==0&&(s.flags&128)===0&&(Yn(s),s.subtreeFlags&6&&(s.flags|=8192)):Yn(s),f=s.updateQueue,f!==null&&xo(s,f.retryQueue),f=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==f&&(s.flags|=2048),r!==null&&St(Lr),null;case 24:return f=null,r!==null&&(f=r.memoizedState.cache),s.memoizedState.cache!==f&&(s.flags|=2048),co(Ci),Yn(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function cu(r,s){switch(Fm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return co(Ci),we(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Pe(s),null;case 13:if(Rs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Wc()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return St(xi),null;case 4:return we(),null;case 10:return co(s.type),null;case 22:case 23:return Rs(s),zd(),r!==null&&St(Lr),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return co(Ci),null;case 25:return null;default:return null}}function uu(r,s){switch(Fm(s),s.tag){case 3:co(Ci),we();break;case 26:case 27:case 5:Pe(s);break;case 4:we();break;case 13:Rs(s);break;case 19:St(xi);break;case 10:co(s.type);break;case 22:case 23:Rs(s),zd(),r!==null&&St(Lr);break;case 24:co(Ci)}}function Jl(r,s){try{var f=s.updateQueue,g=f!==null?f.lastEffect:null;if(g!==null){var _=g.next;f=_;do{if((f.tag&r)===r){g=void 0;var w=f.create,O=f.inst;g=w(),O.destroy=g}f=f.next}while(f!==_)}}catch(G){ot(s,s.return,G)}}function ur(r,s,f){try{var g=s.updateQueue,_=g!==null?g.lastEffect:null;if(_!==null){var w=_.next;g=w;do{if((g.tag&r)===r){var O=g.inst,G=O.destroy;if(G!==void 0){O.destroy=void 0,_=s;var $=f,_t=G;try{_t()}catch(Ht){ot(_,$,Ht)}}}g=g.next}while(g!==w)}}catch(Ht){ot(s,s.return,Ht)}}function $l(r){var s=r.updateQueue;if(s!==null){var f=r.stateNode;try{Qx(s,f)}catch(g){ot(r,r.return,g)}}}function yo(r,s,f){f.props=Ds(r.type,r.memoizedProps),f.state=r.memoizedState;try{f.componentWillUnmount()}catch(g){ot(r,s,g)}}function tc(r,s){try{var f=r.ref;if(f!==null){switch(r.tag){case 26:case 27:case 5:var g=r.stateNode;break;case 30:g=r.stateNode;break;default:g=r.stateNode}typeof f=="function"?r.refCleanup=f(g):f.current=g}}catch(_){ot(r,s,_)}}function js(r,s){var f=r.ref,g=r.refCleanup;if(f!==null)if(typeof g=="function")try{g()}catch(_){ot(r,s,_)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(_){ot(r,s,_)}else f.current=null}function du(r){var s=r.type,f=r.memoizedProps,g=r.stateNode;try{t:switch(s){case"button":case"input":case"select":case"textarea":f.autoFocus&&g.focus();break t;case"img":f.src?g.src=f.src:f.srcSet&&(g.srcset=f.srcSet)}}catch(_){ot(r,r.return,_)}}function Xd(r,s,f){try{var g=r.stateNode;EN(g,r.type,f,s),g[Ni]=s}catch(_){ot(r,r.return,_)}}function qd(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&yu(r.type)||r.tag===4}function ol(r){t:for(;;){for(;r.sibling===null;){if(r.return===null||qd(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&yu(r.type)||r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function ll(r,s,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(r,s):(s=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,s.appendChild(r),f=f._reactRootContainer,f!=null||s.onclick!==null||(s.onclick=Vy));else if(g!==4&&(g===27&&yu(r.type)&&(f=r.stateNode,s=null),r=r.child,r!==null))for(ll(r,s,f),r=r.sibling;r!==null;)ll(r,s,f),r=r.sibling}function cl(r,s,f){var g=r.tag;if(g===5||g===6)r=r.stateNode,s?f.insertBefore(r,s):f.appendChild(r);else if(g!==4&&(g===27&&yu(r.type)&&(f=r.stateNode),r=r.child,r!==null))for(cl(r,s,f),r=r.sibling;r!==null;)cl(r,s,f),r=r.sibling}function ul(r){var s=r.stateNode,f=r.memoizedProps;try{for(var g=r.type,_=s.attributes;_.length;)s.removeAttributeNode(_[0]);ja(s,g,f),s[Ei]=r,s[Ni]=f}catch(w){ot(r,r.return,w)}}var Ls=!1,Wn=!1,hu=!1,dr=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function Pi(r,s){if(r=r.containerInfo,pS=Wy,r=Um(r),bd(r)){if("selectionStart"in r)var f={start:r.selectionStart,end:r.selectionEnd};else t:{f=(f=r.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var _=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{f.nodeType,w.nodeType}catch{f=null;break t}var O=0,G=-1,$=-1,_t=0,Ht=0,qt=r,Tt=null;e:for(;;){for(var At;qt!==f||_!==0&&qt.nodeType!==3||(G=O+_),qt!==w||g!==0&&qt.nodeType!==3||($=O+g),qt.nodeType===3&&(O+=qt.nodeValue.length),(At=qt.firstChild)!==null;)Tt=qt,qt=At;for(;;){if(qt===r)break e;if(Tt===f&&++_t===_&&(G=O),Tt===w&&++Ht===g&&($=O),(At=qt.nextSibling)!==null)break;qt=Tt,Tt=qt.parentNode}qt=At}f=G===-1||$===-1?null:{start:G,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(mS={focusedElem:r,selectionRange:f},Wy=!1,Hn=s;Hn!==null;)if(s=Hn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,Hn=r;else for(;Hn!==null;){switch(s=Hn,w=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&w!==null){r=void 0,f=s,_=w.memoizedProps,w=w.memoizedState,g=f.stateNode;try{var He=Ds(f.type,_,f.elementType===f.type);r=g.getSnapshotBeforeUpdate(He,w),g.__reactInternalSnapshotBeforeUpdate=r}catch(Le){ot(f,f.return,Le)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,f=r.nodeType,f===9)yS(r);else if(f===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":yS(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,Hn=r;break}Hn=s.return}}function vo(r,s,f){var g=f.flags;switch(f.tag){case 0:case 11:case 15:Da(r,f),g&4&&Jl(5,f);break;case 1:if(Da(r,f),g&4)if(r=f.stateNode,s===null)try{r.componentDidMount()}catch(O){ot(f,f.return,O)}else{var _=Ds(f.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(_,s,r.__reactInternalSnapshotBeforeUpdate)}catch(O){ot(f,f.return,O)}}g&64&&$l(f),g&512&&tc(f,f.return);break;case 3:if(Da(r,f),g&64&&(r=f.updateQueue,r!==null)){if(s=null,f.child!==null)switch(f.child.tag){case 27:case 5:s=f.child.stateNode;break;case 1:s=f.child.stateNode}try{Qx(r,s)}catch(O){ot(f,f.return,O)}}break;case 27:s===null&&g&4&&ul(f);case 26:case 5:Da(r,f),s===null&&g&4&&du(f),g&512&&tc(f,f.return);break;case 12:Da(r,f);break;case 13:Da(r,f),g&4&&dl(r,f),g&64&&(r=f.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(f=$n.bind(null,f),jN(r,f))));break;case 22:if(g=f.memoizedState!==null||Ls,!g){s=s!==null&&s.memoizedState!==null||Wn,_=Ls;var w=Wn;Ls=g,(Wn=s)&&!w?Ns(r,f,(f.subtreeFlags&8772)!==0):Da(r,f),Ls=_,Wn=w}break;case 30:break;default:Da(r,f)}}function Je(r){var s=r.alternate;s!==null&&(r.alternate=null,Je(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&zn(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Re=null,vn=!1;function Ir(r,s,f){for(f=f.child;f!==null;)ec(r,s,f),f=f.sibling}function ec(r,s,f){if(ae&&typeof ae.onCommitFiberUnmount=="function")try{ae.onCommitFiberUnmount(jt,f)}catch{}switch(f.tag){case 26:Wn||js(f,s),Ir(r,s,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:Wn||js(f,s);var g=Re,_=vn;yu(f.type)&&(Re=f.stateNode,vn=!1),Ir(r,s,f),v0(f.stateNode),Re=g,vn=_;break;case 5:Wn||js(f,s);case 6:if(g=Re,_=vn,Re=null,Ir(r,s,f),Re=g,vn=_,Re!==null)if(vn)try{(Re.nodeType===9?Re.body:Re.nodeName==="HTML"?Re.ownerDocument.body:Re).removeChild(f.stateNode)}catch(w){ot(f,s,w)}else try{Re.removeChild(f.stateNode)}catch(w){ot(f,s,w)}break;case 18:Re!==null&&(vn?(r=Re,Vw(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,f.stateNode),A0(r)):Vw(Re,f.stateNode));break;case 4:g=Re,_=vn,Re=f.stateNode.containerInfo,vn=!0,Ir(r,s,f),Re=g,vn=_;break;case 0:case 11:case 14:case 15:Wn||ur(2,f,s),Wn||ur(4,f,s),Ir(r,s,f);break;case 1:Wn||(js(f,s),g=f.stateNode,typeof g.componentWillUnmount=="function"&&yo(f,s,g)),Ir(r,s,f);break;case 21:Ir(r,s,f);break;case 22:Wn=(g=Wn)||f.memoizedState!==null,Ir(r,s,f),Wn=g;break;default:Ir(r,s,f)}}function dl(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{A0(r)}catch(f){ot(s,s.return,f)}}function Of(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new dr),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new dr),s;default:throw Error(i(435,r.tag))}}function nc(r,s){var f=Of(r);s.forEach(function(g){var _=Fe.bind(null,r,g);f.has(g)||(f.add(g),g.then(_,_))})}function Wi(r,s){var f=s.deletions;if(f!==null)for(var g=0;g<f.length;g++){var _=f[g],w=r,O=s,G=O;t:for(;G!==null;){switch(G.tag){case 27:if(yu(G.type)){Re=G.stateNode,vn=!1;break t}break;case 5:Re=G.stateNode,vn=!1;break t;case 3:case 4:Re=G.stateNode.containerInfo,vn=!0;break t}G=G.return}if(Re===null)throw Error(i(160));ec(w,O,_),Re=null,vn=!1,w=_.alternate,w!==null&&(w.return=null),_.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)zf(s,r),s=s.sibling}var ds=null;function zf(r,s){var f=r.alternate,g=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Wi(s,r),hi(r),g&4&&(ur(3,r,r.return),Jl(3,r),ur(5,r,r.return));break;case 1:Wi(s,r),hi(r),g&512&&(Wn||f===null||js(f,f.return)),g&64&&Ls&&(r=r.updateQueue,r!==null&&(g=r.callbacks,g!==null&&(f=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=f===null?g:f.concat(g))));break;case 26:var _=ds;if(Wi(s,r),hi(r),g&512&&(Wn||f===null||js(f,f.return)),g&4){var w=f!==null?f.memoizedState:null;if(g=r.memoizedState,f===null)if(g===null)if(r.stateNode===null){t:{g=r.type,f=r.memoizedProps,_=_.ownerDocument||_;e:switch(g){case"title":w=_.getElementsByTagName("title")[0],(!w||w[$r]||w[Ei]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=_.createElement(g),_.head.insertBefore(w,_.querySelector("head > title"))),ja(w,g,f),w[Ei]=r,wi(w),g=w;break t;case"link":var O=Zw("link","href",_).get(g+(f.href||""));if(O){for(var G=0;G<O.length;G++)if(w=O[G],w.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&w.getAttribute("rel")===(f.rel==null?null:f.rel)&&w.getAttribute("title")===(f.title==null?null:f.title)&&w.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){O.splice(G,1);break e}}w=_.createElement(g),ja(w,g,f),_.head.appendChild(w);break;case"meta":if(O=Zw("meta","content",_).get(g+(f.content||""))){for(G=0;G<O.length;G++)if(w=O[G],w.getAttribute("content")===(f.content==null?null:""+f.content)&&w.getAttribute("name")===(f.name==null?null:f.name)&&w.getAttribute("property")===(f.property==null?null:f.property)&&w.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&w.getAttribute("charset")===(f.charSet==null?null:f.charSet)){O.splice(G,1);break e}}w=_.createElement(g),ja(w,g,f),_.head.appendChild(w);break;default:throw Error(i(468,g))}w[Ei]=r,wi(w),g=w}r.stateNode=g}else Kw(_,r.type,r.stateNode);else r.stateNode=Ww(_,g,r.memoizedProps);else w!==g?(w===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):w.count--,g===null?Kw(_,r.type,r.stateNode):Ww(_,g,r.memoizedProps)):g===null&&r.stateNode!==null&&Xd(r,r.memoizedProps,f.memoizedProps)}break;case 27:Wi(s,r),hi(r),g&512&&(Wn||f===null||js(f,f.return)),f!==null&&g&4&&Xd(r,r.memoizedProps,f.memoizedProps);break;case 5:if(Wi(s,r),hi(r),g&512&&(Wn||f===null||js(f,f.return)),r.flags&32){_=r.stateNode;try{Ma(_,"")}catch(At){ot(r,r.return,At)}}g&4&&r.stateNode!=null&&(_=r.memoizedProps,Xd(r,_,f!==null?f.memoizedProps:_)),g&1024&&(hu=!0);break;case 6:if(Wi(s,r),hi(r),g&4){if(r.stateNode===null)throw Error(i(162));g=r.memoizedProps,f=r.stateNode;try{f.nodeValue=g}catch(At){ot(r,r.return,At)}}break;case 3:if(Xy=null,_=ds,ds=ky(s.containerInfo),Wi(s,r),ds=_,hi(r),g&4&&f!==null&&f.memoizedState.isDehydrated)try{A0(s.containerInfo)}catch(At){ot(r,r.return,At)}hu&&(hu=!1,hl(r));break;case 4:g=ds,ds=ky(r.stateNode.containerInfo),Wi(s,r),hi(r),ds=g;break;case 12:Wi(s,r),hi(r);break;case 13:Wi(s,r),hi(r),r.child.flags&8192&&r.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(Bn=zt()),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,nc(r,g)));break;case 22:_=r.memoizedState!==null;var $=f!==null&&f.memoizedState!==null,_t=Ls,Ht=Wn;if(Ls=_t||_,Wn=Ht||$,Wi(s,r),Wn=Ht,Ls=_t,hi(r),g&8192)t:for(s=r.stateNode,s._visibility=_?s._visibility&-2:s._visibility|1,_&&(f===null||$||Ls||Wn||hr(r)),f=null,s=r;;){if(s.tag===5||s.tag===26){if(f===null){$=f=s;try{if(w=$.stateNode,_)O=w.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{G=$.stateNode;var qt=$.memoizedProps.style,Tt=qt!=null&&qt.hasOwnProperty("display")?qt.display:null;G.style.display=Tt==null||typeof Tt=="boolean"?"":(""+Tt).trim()}}catch(At){ot($,$.return,At)}}}else if(s.tag===6){if(f===null){$=s;try{$.stateNode.nodeValue=_?"":$.memoizedProps}catch(At){ot($,$.return,At)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;f===s&&(f=null),s=s.return}f===s&&(f=null),s.sibling.return=s.return,s=s.sibling}g&4&&(g=r.updateQueue,g!==null&&(f=g.retryQueue,f!==null&&(g.retryQueue=null,nc(r,f))));break;case 19:Wi(s,r),hi(r),g&4&&(g=r.updateQueue,g!==null&&(r.updateQueue=null,nc(r,g)));break;case 30:break;case 21:break;default:Wi(s,r),hi(r)}}function hi(r){var s=r.flags;if(s&2){try{for(var f,g=r.return;g!==null;){if(qd(g)){f=g;break}g=g.return}if(f==null)throw Error(i(160));switch(f.tag){case 27:var _=f.stateNode,w=ol(r);cl(r,w,_);break;case 5:var O=f.stateNode;f.flags&32&&(Ma(O,""),f.flags&=-33);var G=ol(r);cl(r,G,O);break;case 3:case 4:var $=f.stateNode.containerInfo,_t=ol(r);ll(r,_t,$);break;default:throw Error(i(161))}}catch(Ht){ot(r,r.return,Ht)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function hl(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;hl(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Da(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)vo(r,s.alternate,s),s=s.sibling}function hr(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ur(4,s,s.return),hr(s);break;case 1:js(s,s.return);var f=s.stateNode;typeof f.componentWillUnmount=="function"&&yo(s,s.return,f),hr(s);break;case 27:v0(s.stateNode);case 26:case 5:js(s,s.return),hr(s);break;case 22:s.memoizedState===null&&hr(s);break;case 30:hr(s);break;default:hr(s)}r=r.sibling}}function Ns(r,s,f){for(f=f&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var g=s.alternate,_=r,w=s,O=w.flags;switch(w.tag){case 0:case 11:case 15:Ns(_,w,f),Jl(4,w);break;case 1:if(Ns(_,w,f),g=w,_=g.stateNode,typeof _.componentDidMount=="function")try{_.componentDidMount()}catch(_t){ot(g,g.return,_t)}if(g=w,_=g.updateQueue,_!==null){var G=g.stateNode;try{var $=_.shared.hiddenCallbacks;if($!==null)for(_.shared.hiddenCallbacks=null,_=0;_<$.length;_++)eu($[_],G)}catch(_t){ot(g,g.return,_t)}}f&&O&64&&$l(w),tc(w,w.return);break;case 27:ul(w);case 26:case 5:Ns(_,w,f),f&&g===null&&O&4&&du(w),tc(w,w.return);break;case 12:Ns(_,w,f);break;case 13:Ns(_,w,f),f&&O&4&&dl(_,w);break;case 22:w.memoizedState===null&&Ns(_,w,f),tc(w,w.return);break;case 30:break;default:Ns(_,w,f)}s=s.sibling}}function Pf(r,s){var f=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==f&&(r!=null&&r.refCount++,f!=null&&Zc(f))}function Bf(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zc(r))}function kn(r,s,f,g){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)If(r,s,f,g),s=s.sibling}function If(r,s,f,g){var _=s.flags;switch(s.tag){case 0:case 11:case 15:kn(r,s,f,g),_&2048&&Jl(9,s);break;case 1:kn(r,s,f,g);break;case 3:kn(r,s,f,g),_&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Zc(r)));break;case 12:if(_&2048){kn(r,s,f,g),r=s.stateNode;try{var w=s.memoizedProps,O=w.id,G=w.onPostCommit;typeof G=="function"&&G(O,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch($){ot(s,s.return,$)}}else kn(r,s,f,g);break;case 13:kn(r,s,f,g);break;case 23:break;case 22:w=s.stateNode,O=s.alternate,s.memoizedState!==null?w._visibility&2?kn(r,s,f,g):hs(r,s):w._visibility&2?kn(r,s,f,g):(w._visibility|=2,bo(r,s,f,g,(s.subtreeFlags&10256)!==0)),_&2048&&Pf(O,s);break;case 24:kn(r,s,f,g),_&2048&&Bf(s.alternate,s);break;default:kn(r,s,f,g)}}function bo(r,s,f,g,_){for(_=_&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var w=r,O=s,G=f,$=g,_t=O.flags;switch(O.tag){case 0:case 11:case 15:bo(w,O,G,$,_),Jl(8,O);break;case 23:break;case 22:var Ht=O.stateNode;O.memoizedState!==null?Ht._visibility&2?bo(w,O,G,$,_):hs(w,O):(Ht._visibility|=2,bo(w,O,G,$,_)),_&&_t&2048&&Pf(O.alternate,O);break;case 24:bo(w,O,G,$,_),_&&_t&2048&&Bf(O.alternate,O);break;default:bo(w,O,G,$,_)}s=s.sibling}}function hs(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var f=r,g=s,_=g.flags;switch(g.tag){case 22:hs(f,g),_&2048&&Pf(g.alternate,g);break;case 24:hs(f,g),_&2048&&Bf(g.alternate,g);break;default:hs(f,g)}s=s.sibling}}var fr=8192;function fu(r){if(r.subtreeFlags&fr)for(r=r.child;r!==null;)Py(r),r=r.sibling}function Py(r){switch(r.tag){case 26:fu(r),r.flags&fr&&r.memoizedState!==null&&XN(ds,r.memoizedState,r.memoizedProps);break;case 5:fu(r);break;case 3:case 4:var s=ds;ds=ky(r.stateNode.containerInfo),fu(r),ds=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=fr,fr=16777216,fu(r),fr=s):fu(r));break;default:fu(r)}}function By(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Zn(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var g=s[f];Hn=g,zs(g,r)}By(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)p0(r),r=r.sibling}function p0(r){switch(r.tag){case 0:case 11:case 15:Zn(r),r.flags&2048&&ur(9,r,r.return);break;case 3:Zn(r);break;case 12:Zn(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,Os(r)):Zn(r);break;default:Zn(r)}}function Os(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var f=0;f<s.length;f++){var g=s[f];Hn=g,zs(g,r)}By(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ur(8,s,s.return),Os(s);break;case 22:f=s.stateNode,f._visibility&2&&(f._visibility&=-3,Os(s));break;default:Os(s)}r=r.sibling}}function zs(r,s){for(;Hn!==null;){var f=Hn;switch(f.tag){case 0:case 11:case 15:ur(8,f,s);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var g=f.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Zc(f.memoizedState.cache)}if(g=f.child,g!==null)g.return=f,Hn=g;else t:for(f=r;Hn!==null;){g=Hn;var _=g.sibling,w=g.return;if(Je(g),g===f){Hn=null;break t}if(_!==null){_.return=w,Hn=_;break t}Hn=w}}}var fi={getCacheForType:function(r){var s=di(Ci),f=s.data.get(r);return f===void 0&&(f=r(),s.data.set(r,f)),f}},m0=typeof WeakMap=="function"?WeakMap:Map,Rn=0,ke=null,sn=null,Ce=0,Ze=0,li=null,pr=!1,pu=!1,mu=!1,Fr=0,Jn=0,fs=0,Ps=0,ic=0,Vr=0,bn=0,Dn=null,De=null,hn=!1,Bn=0,ga=1/0,Hr=null,mr=null,Bi=0,xa=null,Gn=null,gr=0,_o=0,Yd=null,xr=null,Bs=0,ac=null;function pi(){if((Rn&2)!==0&&Ce!==0)return Ce&-Ce;if(F.T!==null){var r=Xe;return r!==0?r:oS()}return We()}function Ff(){Vr===0&&(Vr=(Ce&536870912)===0||Sn?nt():536870912);var r=Vn.current;return r!==null&&(r.flags|=32),Vr}function Ua(r,s,f){(r===ke&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)&&(pl(r,0),ps(r,Ce,Vr,!1)),Ft(r,f),((Rn&2)===0||r!==ke)&&(r===ke&&((Rn&2)===0&&(Ps|=f),Jn===4&&ps(r,Ce,Vr,!1)),xl(r))}function gu(r,s,f){if((Rn&6)!==0)throw Error(i(327));var g=!f&&(s&124)===0&&(s&r.expiredLanes)===0||Ot(r,s),_=g?S(r,s):u(r,s,!0),w=g;do{if(_===0){pu&&!g&&ps(r,s,0,!1);break}else{if(f=r.current.alternate,w&&!fl(f)){_=u(r,s,!1),w=!1;continue}if(_===2){if(w=s,r.errorRecoveryDisabledLanes&w)var O=0;else O=r.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){s=O;t:{var G=r;_=Dn;var $=G.current.memoizedState.isDehydrated;if($&&(pl(G,O).flags|=256),O=u(G,O,!1),O!==2){if(mu&&!$){G.errorRecoveryDisabledLanes|=w,Ps|=w,_=4;break t}w=De,De=_,w!==null&&(De===null?De=w:De.push.apply(De,w))}_=O}if(w=!1,_!==2)continue}}if(_===1){pl(r,0),ps(r,s,0,!0);break}t:{switch(g=r,w=_,w){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ps(g,s,Vr,!pr);break t;case 2:De=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(_=Bn+300-zt(),10<_)){if(ps(g,s,Vr,!pr),at(g,0,!0)!==0)break t;g.timeoutHandle=Iw(Wd.bind(null,g,f,De,Hr,hn,s,Vr,Ps,bn,pr,w,2,-0,0),_);break t}Wd(g,f,De,Hr,hn,s,Vr,Ps,bn,pr,w,0,-0,0)}}break}while(!0);xl(r)}function Wd(r,s,f,g,_,w,O,G,$,_t,Ht,qt,Tt,At){if(r.timeoutHandle=-1,qt=s.subtreeFlags,(qt&8192||(qt&16785408)===16785408)&&(S0={stylesheets:null,count:0,unsuspend:GN},Py(s),qt=qN(),qt!==null)){r.cancelPendingCommit=qt(te.bind(null,r,s,w,f,g,_,O,G,$,Ht,1,Tt,At)),ps(r,w,O,!_t);return}te(r,s,w,f,g,_,O,G,$)}function fl(r){for(var s=r;;){var f=s.tag;if((f===0||f===11||f===15)&&s.flags&16384&&(f=s.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var g=0;g<f.length;g++){var _=f[g],w=_.getSnapshot;_=_.value;try{if(!Ia(w(),_))return!1}catch{return!1}}if(f=s.child,s.subtreeFlags&16384&&f!==null)f.return=s,s=f;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ps(r,s,f,g){s&=~ic,s&=~Ps,r.suspendedLanes|=s,r.pingedLanes&=~s,g&&(r.warmLanes|=s),g=r.expirationTimes;for(var _=s;0<_;){var w=31-ne(_),O=1<<w;g[w]=-1,_&=~O}f!==0&&oe(r,f,s)}function Is(){return(Rn&6)===0?(g0(0),!1):!0}function rc(){if(sn!==null){if(Ze===0)var r=sn.return;else r=sn,lo=Qo=null,Qm(r),kl=null,Fd=0,r=sn;for(;r!==null;)uu(r.alternate,r),r=r.return;sn=null}}function pl(r,s){var f=r.timeoutHandle;f!==-1&&(r.timeoutHandle=-1,AN(f)),f=r.cancelPendingCommit,f!==null&&(r.cancelPendingCommit=null,f()),rc(),ke=r,sn=f=mi(r.current,null),Ce=s,Ze=0,li=null,pr=!1,pu=Ot(r,s),mu=!1,bn=Vr=ic=Ps=fs=Jn=0,De=Dn=null,hn=!1,(s&8)!==0&&(s|=s&32);var g=r.entangledLanes;if(g!==0)for(r=r.entanglements,g&=s;0<g;){var _=31-ne(g),w=1<<_;s|=r[_],g&=~w}return Fr=s,Md(),f}function Vf(r,s){qe=null,F.H=Id,s===Ld||s===rs?(s=qm(),Ze=3):s===Xm?(s=qm(),Ze=4):Ze=s===zy?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,li=s,sn===null&&(Jn=1,jf(r,ra(s,r.current)))}function xu(){var r=F.H;return F.H=Id,r===null?Id:r}function Hf(){var r=F.A;return F.A=fi,r}function l(){Jn=4,pr||(Ce&4194048)!==Ce&&Vn.current!==null||(pu=!0),(fs&134217727)===0&&(Ps&134217727)===0||ke===null||ps(ke,Ce,Vr,!1)}function u(r,s,f){var g=Rn;Rn|=2;var _=xu(),w=Hf();(ke!==r||Ce!==s)&&(Hr=null,pl(r,s)),s=!1;var O=Jn;t:do try{if(Ze!==0&&sn!==null){var G=sn,$=li;switch(Ze){case 8:rc(),O=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(s=!0);var _t=Ze;if(Ze=0,li=null,tt(r,G,$,_t),f&&pu){O=0;break t}break;default:_t=Ze,Ze=0,li=null,tt(r,G,$,_t)}}x(),O=Jn;break}catch(Ht){Vf(r,Ht)}while(!0);return s&&r.shellSuspendCounter++,lo=Qo=null,Rn=g,F.H=_,F.A=w,sn===null&&(ke=null,Ce=0,Md()),O}function x(){for(;sn!==null;)U(sn)}function S(r,s){var f=Rn;Rn|=2;var g=xu(),_=Hf();ke!==r||Ce!==s?(Hr=null,ga=zt()+500,pl(r,s)):pu=Ot(r,s);t:do try{if(Ze!==0&&sn!==null){s=sn;var w=li;e:switch(Ze){case 1:Ze=0,li=null,tt(r,s,w,1);break;case 2:case 9:if(xf(w)){Ze=0,li=null,Y(s);break}s=function(){Ze!==2&&Ze!==9||ke!==r||(Ze=7),xl(r)},w.then(s,s);break t;case 3:Ze=7;break t;case 4:Ze=5;break t;case 7:xf(w)?(Ze=0,li=null,Y(s)):(Ze=0,li=null,tt(r,s,w,7));break;case 5:var O=null;switch(sn.tag){case 26:O=sn.memoizedState;case 5:case 27:var G=sn;if(!O||Qw(O)){Ze=0,li=null;var $=G.sibling;if($!==null)sn=$;else{var _t=G.return;_t!==null?(sn=_t,mt(_t)):sn=null}break e}}Ze=0,li=null,tt(r,s,w,5);break;case 6:Ze=0,li=null,tt(r,s,w,6);break;case 8:rc(),Jn=6;break t;default:throw Error(i(462))}}A();break}catch(Ht){Vf(r,Ht)}while(!0);return lo=Qo=null,F.H=g,F.A=_,Rn=f,sn!==null?0:(ke=null,Ce=0,Md(),Jn)}function A(){for(;sn!==null&&!Ln();)U(sn)}function U(r){var s=Kl(r.alternate,r,Fr);r.memoizedProps=r.pendingProps,s===null?mt(r):sn=s}function Y(r){var s=r,f=s.alternate;switch(s.tag){case 15:case 0:s=lr(f,s,s.pendingProps,s.type,void 0,Ce);break;case 11:s=lr(f,s,s.pendingProps,s.type.render,s.ref,Ce);break;case 5:Qm(s);default:uu(f,s),s=sn=Bm(s,Fr),s=Kl(f,s,Fr)}r.memoizedProps=r.pendingProps,s===null?mt(r):sn=s}function tt(r,s,f,g){lo=Qo=null,Qm(s),kl=null,Fd=0;var _=s.return;try{if(rS(r,_,s,f,Ce)){Jn=1,jf(r,ra(f,r.current)),sn=null;return}}catch(w){if(_!==null)throw sn=_,w;Jn=1,jf(r,ra(f,r.current)),sn=null;return}s.flags&32768?(Sn||g===1?r=!0:pu||(Ce&536870912)!==0?r=!1:(pr=r=!0,(g===2||g===9||g===3||g===6)&&(g=Vn.current,g!==null&&g.tag===13&&(g.flags|=16384))),Vt(s,r)):mt(s)}function mt(r){var s=r;do{if((s.flags&32768)!==0){Vt(s,pr);return}r=s.return;var f=f0(s.alternate,s,Fr);if(f!==null){sn=f;return}if(s=s.sibling,s!==null){sn=s;return}sn=s=r}while(s!==null);Jn===0&&(Jn=5)}function Vt(r,s){do{var f=cu(r.alternate,r);if(f!==null){f.flags&=32767,sn=f;return}if(f=r.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!s&&(r=r.sibling,r!==null)){sn=r;return}sn=r=f}while(r!==null);Jn=6,sn=null}function te(r,s,f,g,_,w,O,G,$){r.cancelPendingCommit=null;do ml();while(Bi!==0);if((Rn&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(w=s.lanes|s.childLanes,w|=lf,ce(r,f,w,O,G,$),r===ke&&(sn=ke=null,Ce=0),Gn=s,xa=r,gr=f,_o=w,Yd=_,xr=g,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,Mn(W,function(){return gl(),null})):(r.callbackNode=null,r.callbackPriority=0),g=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||g){g=F.T,F.T=null,_=Z.p,Z.p=2,O=Rn,Rn|=4;try{Pi(r,s,f)}finally{Rn=O,Z.p=_,F.T=g}}Bi=1,ue(),pe(),Ge()}}function ue(){if(Bi===1){Bi=0;var r=xa,s=Gn,f=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||f){f=F.T,F.T=null;var g=Z.p;Z.p=2;var _=Rn;Rn|=4;try{zf(s,r);var w=mS,O=Um(r.containerInfo),G=w.focusedElem,$=w.selectionRange;if(O!==G&&G&&G.ownerDocument&&Dm(G.ownerDocument.documentElement,G)){if($!==null&&bd(G)){var _t=$.start,Ht=$.end;if(Ht===void 0&&(Ht=_t),"selectionStart"in G)G.selectionStart=_t,G.selectionEnd=Math.min(Ht,G.value.length);else{var qt=G.ownerDocument||document,Tt=qt&&qt.defaultView||window;if(Tt.getSelection){var At=Tt.getSelection(),He=G.textContent.length,Le=Math.min($.start,He),Qn=$.end===void 0?Le:Math.min($.end,He);!At.extend&&Le>Qn&&(O=Qn,Qn=Le,Le=O);var ht=Rm(G,Le),lt=Rm(G,Qn);if(ht&&lt&&(At.rangeCount!==1||At.anchorNode!==ht.node||At.anchorOffset!==ht.offset||At.focusNode!==lt.node||At.focusOffset!==lt.offset)){var yt=qt.createRange();yt.setStart(ht.node,ht.offset),At.removeAllRanges(),Le>Qn?(At.addRange(yt),At.extend(lt.node,lt.offset)):(yt.setEnd(lt.node,lt.offset),At.addRange(yt))}}}}for(qt=[],At=G;At=At.parentNode;)At.nodeType===1&&qt.push({element:At,left:At.scrollLeft,top:At.scrollTop});for(typeof G.focus=="function"&&G.focus(),G=0;G<qt.length;G++){var Xt=qt[G];Xt.element.scrollLeft=Xt.left,Xt.element.scrollTop=Xt.top}}Wy=!!pS,mS=pS=null}finally{Rn=_,Z.p=g,F.T=f}}r.current=s,Bi=2}}function pe(){if(Bi===2){Bi=0;var r=xa,s=Gn,f=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||f){f=F.T,F.T=null;var g=Z.p;Z.p=2;var _=Rn;Rn|=4;try{vo(r,s.alternate,s)}finally{Rn=_,Z.p=g,F.T=f}}Bi=3}}function Ge(){if(Bi===4||Bi===3){Bi=0,kt();var r=xa,s=Gn,f=gr,g=xr;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bi=5:(Bi=0,Gn=xa=null,yr(r,r.pendingLanes));var _=r.pendingLanes;if(_===0&&(mr=null),An(f),s=s.stateNode,ae&&typeof ae.onCommitFiberRoot=="function")try{ae.onCommitFiberRoot(jt,s,void 0,(s.current.flags&128)===128)}catch{}if(g!==null){s=F.T,_=Z.p,Z.p=2,F.T=null;try{for(var w=r.onRecoverableError,O=0;O<g.length;O++){var G=g[O];w(G.value,{componentStack:G.stack})}}finally{F.T=s,Z.p=_}}(gr&3)!==0&&ml(),xl(r),_=r.pendingLanes,(f&4194090)!==0&&(_&42)!==0?r===ac?Bs++:(Bs=0,ac=r):Bs=0,g0(0)}}function yr(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Zc(s)))}function ml(r){return ue(),pe(),Ge(),gl()}function gl(){if(Bi!==5)return!1;var r=xa,s=_o;_o=0;var f=An(gr),g=F.T,_=Z.p;try{Z.p=32>f?32:f,F.T=null,f=Yd,Yd=null;var w=xa,O=gr;if(Bi=0,Gn=xa=null,gr=0,(Rn&6)!==0)throw Error(i(331));var G=Rn;if(Rn|=4,p0(w.current),If(w,w.current,O,f),Rn=G,g0(0,!1),ae&&typeof ae.onPostCommitFiberRoot=="function")try{ae.onPostCommitFiberRoot(jt,w)}catch{}return!0}finally{Z.p=_,F.T=g,yr(r,s)}}function Mt(r,s,f){s=ra(f,s),s=Lf(r.stateNode,s,2),r=ho(r,s,2),r!==null&&(Ft(r,2),xl(r))}function ot(r,s,f){if(r.tag===3)Mt(r,r,f);else for(;s!==null;){if(s.tag===3){Mt(s,r,f);break}else if(s.tag===1){var g=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(mr===null||!mr.has(g))){r=ra(f,r),f=Oy(2),g=ho(s,f,2),g!==null&&(Nf(f,g,s,r),Ft(g,2),xl(g));break}}s=s.return}}function Ct(r,s,f){var g=r.pingCache;if(g===null){g=r.pingCache=new m0;var _=new Set;g.set(s,_)}else _=g.get(s),_===void 0&&(_=new Set,g.set(s,_));_.has(f)||(mu=!0,_.add(f),r=Jt.bind(null,r,s,f),s.then(r,r))}function Jt(r,s,f){var g=r.pingCache;g!==null&&g.delete(s),r.pingedLanes|=r.suspendedLanes&f,r.warmLanes&=~f,ke===r&&(Ce&f)===f&&(Jn===4||Jn===3&&(Ce&62914560)===Ce&&300>zt()-Bn?(Rn&2)===0&&pl(r,0):ic|=f,bn===Ce&&(bn=0)),xl(r)}function Se(r,s){s===0&&(s=Qt()),r=so(r,s),r!==null&&(Ft(r,s),xl(r))}function $n(r){var s=r.memoizedState,f=0;s!==null&&(f=s.retryLane),Se(r,f)}function Fe(r,s){var f=0;switch(r.tag){case 13:var g=r.stateNode,_=r.memoizedState;_!==null&&(f=_.retryLane);break;case 19:g=r.stateNode;break;case 22:g=r.stateNode._retryCache;break;default:throw Error(i(314))}g!==null&&g.delete(s),Se(r,f)}function Mn(r,s){return Be(r,s)}var vi=null,cn=null,Fs=!1,kf=!1,sS=!1,Zd=0;function xl(r){r!==cn&&r.next===null&&(cn===null?vi=cn=r:cn=cn.next=r),kf=!0,Fs||(Fs=!0,yN())}function g0(r,s){if(!sS&&kf){sS=!0;do for(var f=!1,g=vi;g!==null;){if(r!==0){var _=g.pendingLanes;if(_===0)var w=0;else{var O=g.suspendedLanes,G=g.pingedLanes;w=(1<<31-ne(42|r)+1)-1,w&=_&~(O&~G),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(f=!0,Rw(g,w))}else w=Ce,w=at(g,g===ke?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||Ot(g,w)||(f=!0,Rw(g,w));g=g.next}while(f);sS=!1}}function xN(){ww()}function ww(){kf=Fs=!1;var r=0;Zd!==0&&(wN()&&(r=Zd),Zd=0);for(var s=zt(),f=null,g=vi;g!==null;){var _=g.next,w=Aw(g,s);w===0?(g.next=null,f===null?vi=_:f.next=_,_===null&&(cn=f)):(f=g,(r!==0||(w&3)!==0)&&(kf=!0)),g=_}g0(r)}function Aw(r,s){for(var f=r.suspendedLanes,g=r.pingedLanes,_=r.expirationTimes,w=r.pendingLanes&-62914561;0<w;){var O=31-ne(w),G=1<<O,$=_[O];$===-1?((G&f)===0||(G&g)!==0)&&(_[O]=se(G,s)):$<=s&&(r.expiredLanes|=G),w&=~G}if(s=ke,f=Ce,f=at(r,r===s?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g=r.callbackNode,f===0||r===s&&(Ze===2||Ze===9)||r.cancelPendingCommit!==null)return g!==null&&g!==null&&et(g),r.callbackNode=null,r.callbackPriority=0;if((f&3)===0||Ot(r,f)){if(s=f&-f,s===r.callbackPriority)return s;switch(g!==null&&et(g),An(f)){case 2:case 8:f=Nt;break;case 32:f=W;break;case 268435456:f=dt;break;default:f=W}return g=Cw.bind(null,r),f=Be(f,g),r.callbackPriority=s,r.callbackNode=f,s}return g!==null&&g!==null&&et(g),r.callbackPriority=2,r.callbackNode=null,2}function Cw(r,s){if(Bi!==0&&Bi!==5)return r.callbackNode=null,r.callbackPriority=0,null;var f=r.callbackNode;if(ml()&&r.callbackNode!==f)return null;var g=Ce;return g=at(r,r===ke?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),g===0?null:(gu(r,g,s),Aw(r,zt()),r.callbackNode!=null&&r.callbackNode===f?Cw.bind(null,r):null)}function Rw(r,s){if(ml())return null;gu(r,s,!0)}function yN(){CN(function(){(Rn&6)!==0?Be(ee,xN):ww()})}function oS(){return Zd===0&&(Zd=nt()),Zd}function Dw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:od(""+r)}function Uw(r,s){var f=s.ownerDocument.createElement("input");return f.name=s.name,f.value=s.value,r.id&&f.setAttribute("form",r.id),s.parentNode.insertBefore(f,s),r=new FormData(r),f.parentNode.removeChild(f),r}function vN(r,s,f,g,_){if(s==="submit"&&f&&f.stateNode===_){var w=Dw((_[Ni]||null).action),O=g.submitter;O&&(s=(s=O[Ni]||null)?Dw(s.formAction):O.getAttribute("formAction"),s!==null&&(w=s,O=null));var G=new zc("action","action",null,g,_);r.push({event:G,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Zd!==0){var $=O?Uw(_,O):new FormData(_);c0(f,{pending:!0,data:$,method:_.method,action:w},null,$)}}else typeof w=="function"&&(G.preventDefault(),$=O?Uw(_,O):new FormData(_),c0(f,{pending:!0,data:$,method:_.method,action:w},w,$))},currentTarget:_}]})}}for(var lS=0;lS<Sd.length;lS++){var cS=Sd[lS],bN=cS.toLowerCase(),_N=cS[0].toUpperCase()+cS.slice(1);Gi(bN,"on"+_N)}Gi(Ea,"onAnimationEnd"),Gi(Nm,"onAnimationIteration"),Gi(Va,"onAnimationStart"),Gi("dblclick","onDoubleClick"),Gi("focusin","onFocus"),Gi("focusout","onBlur"),Gi(Yx,"onTransitionRun"),Gi(ao,"onTransitionStart"),Gi(Gc,"onTransitionCancel"),Gi(ro,"onTransitionEnd"),X("onMouseEnter",["mouseout","mouseover"]),X("onMouseLeave",["mouseout","mouseover"]),X("onPointerEnter",["pointerout","pointerover"]),X("onPointerLeave",["pointerout","pointerover"]),ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ns("onBeforeInput",["compositionend","keypress","textInput","paste"]),ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var x0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(x0));function jw(r,s){s=(s&4)!==0;for(var f=0;f<r.length;f++){var g=r[f],_=g.event;g=g.listeners;t:{var w=void 0;if(s)for(var O=g.length-1;0<=O;O--){var G=g[O],$=G.instance,_t=G.currentTarget;if(G=G.listener,$!==w&&_.isPropagationStopped())break t;w=G,_.currentTarget=_t;try{w(_)}catch(Ht){Xl(Ht)}_.currentTarget=null,w=$}else for(O=0;O<g.length;O++){if(G=g[O],$=G.instance,_t=G.currentTarget,G=G.listener,$!==w&&_.isPropagationStopped())break t;w=G,_.currentTarget=_t;try{w(_)}catch(Ht){Xl(Ht)}_.currentTarget=null,w=$}}}}function pn(r,s){var f=s[Pa];f===void 0&&(f=s[Pa]=new Set);var g=r+"__bubble";f.has(g)||(Lw(s,r,2,!1),f.add(g))}function uS(r,s,f){var g=0;s&&(g|=4),Lw(f,r,g,s)}var Iy="_reactListening"+Math.random().toString(36).slice(2);function dS(r){if(!r[Iy]){r[Iy]=!0,Uc.forEach(function(f){f!=="selectionchange"&&(SN.has(f)||uS(f,!1,r),uS(f,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Iy]||(s[Iy]=!0,uS("selectionchange",!1,s))}}function Lw(r,s,f,g){switch(iA(s)){case 2:var _=ZN;break;case 8:_=KN;break;default:_=ES}f=_.bind(null,s,f,r),_=void 0,!cd||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(_=!0),g?_!==void 0?r.addEventListener(s,f,{capture:!0,passive:_}):r.addEventListener(s,f,!0):_!==void 0?r.addEventListener(s,f,{passive:_}):r.addEventListener(s,f,!1)}function hS(r,s,f,g,_){var w=g;if((s&1)===0&&(s&2)===0&&g!==null)t:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var G=g.stateNode.containerInfo;if(G===_)break;if(O===4)for(O=g.return;O!==null;){var $=O.tag;if(($===3||$===4)&&O.stateNode.containerInfo===_)return;O=O.return}for(;G!==null;){if(O=ts(G),O===null)return;if($=O.tag,$===5||$===6||$===26||$===27){g=w=O;continue t}G=G.parentNode}}g=g.return}xm(function(){var _t=w,Ht=Wh(f),qt=[];t:{var Tt=of.get(r);if(Tt!==void 0){var At=zc,He=r;switch(r){case"keypress":if(Io(f)===0)break t;case"keydown":case"keyup":At=Sm;break;case"focusin":He="focus",At=Kh;break;case"focusout":He="blur",At=Kh;break;case"beforeblur":case"afterblur":At=Kh;break;case"click":if(f.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":At=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":At=W_;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":At=Tm;break;case Ea:case Nm:case Va:At=jx;break;case ro:At=to;break;case"scroll":case"scrollend":At=Rx;break;case"wheel":At=Z_;break;case"copy":case"cut":case"paste":At=Nx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":At=Jh;break;case"toggle":case"beforetoggle":At=Vo}var Le=(s&4)!==0,Qn=!Le&&(r==="scroll"||r==="scrollend"),ht=Le?Tt!==null?Tt+"Capture":null:Tt;Le=[];for(var lt=_t,yt;lt!==null;){var Xt=lt;if(yt=Xt.stateNode,Xt=Xt.tag,Xt!==5&&Xt!==26&&Xt!==27||yt===null||ht===null||(Xt=Lc(lt,ht),Xt!=null&&Le.push(y0(lt,Xt,yt))),Qn)break;lt=lt.return}0<Le.length&&(Tt=new At(Tt,He,null,f,Ht),qt.push({event:Tt,listeners:Le}))}}if((s&7)===0){t:{if(Tt=r==="mouseover"||r==="pointerover",At=r==="mouseout"||r==="pointerout",Tt&&f!==Yh&&(He=f.relatedTarget||f.fromElement)&&(ts(He)||He[fa]))break t;if((At||Tt)&&(Tt=Ht.window===Ht?Ht:(Tt=Ht.ownerDocument)?Tt.defaultView||Tt.parentWindow:window,At?(He=f.relatedTarget||f.toElement,At=_t,He=He?ts(He):null,He!==null&&(Qn=o(He),Le=He.tag,He!==Qn||Le!==5&&Le!==27&&Le!==6)&&(He=null)):(At=null,He=_t),At!==He)){if(Le=bm,Xt="onMouseLeave",ht="onMouseEnter",lt="mouse",(r==="pointerout"||r==="pointerover")&&(Le=Jh,Xt="onPointerLeave",ht="onPointerEnter",lt="pointer"),Qn=At==null?Tt:Po(At),yt=He==null?Tt:Po(He),Tt=new Le(Xt,lt+"leave",At,f,Ht),Tt.target=Qn,Tt.relatedTarget=yt,Xt=null,ts(Ht)===_t&&(Le=new Le(ht,lt+"enter",He,f,Ht),Le.target=yt,Le.relatedTarget=Qn,Xt=Le),Qn=Xt,At&&He)e:{for(Le=At,ht=He,lt=0,yt=Le;yt;yt=Gf(yt))lt++;for(yt=0,Xt=ht;Xt;Xt=Gf(Xt))yt++;for(;0<lt-yt;)Le=Gf(Le),lt--;for(;0<yt-lt;)ht=Gf(ht),yt--;for(;lt--;){if(Le===ht||ht!==null&&Le===ht.alternate)break e;Le=Gf(Le),ht=Gf(ht)}Le=null}else Le=null;At!==null&&Nw(qt,Tt,At,Le,!1),He!==null&&Qn!==null&&Nw(qt,Qn,He,Le,!0)}}t:{if(Tt=_t?Po(_t):window,At=Tt.nodeName&&Tt.nodeName.toLowerCase(),At==="select"||At==="input"&&Tt.type==="file")var ye=tf;else if(Cm(Tt))if(ef)ye=Go;else{ye=Gx;var fn=K_}else At=Tt.nodeName,!At||At.toLowerCase()!=="input"||Tt.type!=="checkbox"&&Tt.type!=="radio"?_t&&qh(_t.elementType)&&(ye=tf):ye=vd;if(ye&&(ye=ye(r,_t))){Ba(qt,ye,f,Ht);break t}fn&&fn(r,Tt,_t),r==="focusout"&&_t&&Tt.type==="number"&&_t.memoizedProps.value!=null&&ea(Tt,"number",Tt.value)}switch(fn=_t?Po(_t):window,r){case"focusin":(Cm(fn)||fn.contentEditable==="true")&&(no=fn,af=_t,_d=null);break;case"focusout":_d=af=no=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,Lm(qt,f,Ht);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":Lm(qt,f,Ht)}var Te;if(fd)t:{switch(r){case"compositionstart":var Oe="onCompositionStart";break t;case"compositionend":Oe="onCompositionEnd";break t;case"compositionupdate":Oe="onCompositionUpdate";break t}Oe=void 0}else ko?gd(r,f)&&(Oe="onCompositionEnd"):r==="keydown"&&f.keyCode===229&&(Oe="onCompositionStart");Oe&&(md&&f.locale!=="ko"&&(ko||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&ko&&(Te=vm()):(Js=Ht,ym="value"in Js?Js.value:Js.textContent,ko=!0)),fn=Fy(_t,Oe),0<fn.length&&(Oe=new Qh(Oe,r,null,f,Ht),qt.push({event:Oe,listeners:fn}),Te?Oe.data=Te:(Te=wm(f),Te!==null&&(Oe.data=Te)))),(Te=pd?xd(r,f):Am(r,f))&&(Oe=Fy(_t,"onBeforeInput"),0<Oe.length&&(fn=new Qh("onBeforeInput","beforeinput",null,f,Ht),qt.push({event:fn,listeners:Oe}),fn.data=Te)),vN(qt,r,_t,f,Ht)}jw(qt,s)})}function y0(r,s,f){return{instance:r,listener:s,currentTarget:f}}function Fy(r,s){for(var f=s+"Capture",g=[];r!==null;){var _=r,w=_.stateNode;if(_=_.tag,_!==5&&_!==26&&_!==27||w===null||(_=Lc(r,f),_!=null&&g.unshift(y0(r,_,w)),_=Lc(r,s),_!=null&&g.push(y0(r,_,w))),r.tag===3)return g;r=r.return}return[]}function Gf(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Nw(r,s,f,g,_){for(var w=s._reactName,O=[];f!==null&&f!==g;){var G=f,$=G.alternate,_t=G.stateNode;if(G=G.tag,$!==null&&$===g)break;G!==5&&G!==26&&G!==27||_t===null||($=_t,_?(_t=Lc(f,w),_t!=null&&O.unshift(y0(f,_t,$))):_||(_t=Lc(f,w),_t!=null&&O.push(y0(f,_t,$)))),f=f.return}O.length!==0&&r.push({event:s,listeners:O})}var MN=/\r\n?/g,TN=/\u0000|\uFFFD/g;function Ow(r){return(typeof r=="string"?r:""+r).replace(MN,`
`).replace(TN,"")}function zw(r,s){return s=Ow(s),Ow(r)===s}function Vy(){}function Kn(r,s,f,g,_,w){switch(f){case"children":typeof g=="string"?s==="body"||s==="textarea"&&g===""||Ma(r,g):(typeof g=="number"||typeof g=="bigint")&&s!=="body"&&Ma(r,""+g);break;case"className":re(r,"class",g);break;case"tabIndex":re(r,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":re(r,f,g);break;case"style":sd(r,g,w);break;case"data":if(s!=="object"){re(r,"data",g);break}case"src":case"href":if(g===""&&(s!=="a"||f!=="href")){r.removeAttribute(f);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=od(""+g),r.setAttribute(f,g);break;case"action":case"formAction":if(typeof g=="function"){r.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(f==="formAction"?(s!=="input"&&Kn(r,s,"name",_.name,_,null),Kn(r,s,"formEncType",_.formEncType,_,null),Kn(r,s,"formMethod",_.formMethod,_,null),Kn(r,s,"formTarget",_.formTarget,_,null)):(Kn(r,s,"encType",_.encType,_,null),Kn(r,s,"method",_.method,_,null),Kn(r,s,"target",_.target,_,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){r.removeAttribute(f);break}g=od(""+g),r.setAttribute(f,g);break;case"onClick":g!=null&&(r.onclick=Vy);break;case"onScroll":g!=null&&pn("scroll",r);break;case"onScrollEnd":g!=null&&pn("scrollend",r);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"multiple":r.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":r.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){r.removeAttribute("xlink:href");break}f=od(""+g),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""+g):r.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,""):r.removeAttribute(f);break;case"capture":case"download":g===!0?r.setAttribute(f,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?r.setAttribute(f,g):r.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?r.setAttribute(f,g):r.removeAttribute(f);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?r.removeAttribute(f):r.setAttribute(f,g);break;case"popover":pn("beforetoggle",r),pn("toggle",r),Yt(r,"popover",g);break;case"xlinkActuate":le(r,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":le(r,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":le(r,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":le(r,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":le(r,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":le(r,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":le(r,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":le(r,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":le(r,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Yt(r,"is",g);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=mm.get(f)||f,Yt(r,f,g))}}function fS(r,s,f,g,_,w){switch(f){case"style":sd(r,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(i(61));if(f=g.__html,f!=null){if(_.children!=null)throw Error(i(60));r.innerHTML=f}}break;case"children":typeof g=="string"?Ma(r,g):(typeof g=="number"||typeof g=="bigint")&&Ma(r,""+g);break;case"onScroll":g!=null&&pn("scroll",r);break;case"onScrollEnd":g!=null&&pn("scrollend",r);break;case"onClick":g!=null&&(r.onclick=Vy);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jc.hasOwnProperty(f))t:{if(f[0]==="o"&&f[1]==="n"&&(_=f.endsWith("Capture"),s=f.slice(2,_?f.length-7:void 0),w=r[Ni]||null,w=w!=null?w[f]:null,typeof w=="function"&&r.removeEventListener(s,w,_),typeof g=="function")){typeof w!="function"&&w!==null&&(f in r?r[f]=null:r.hasAttribute(f)&&r.removeAttribute(f)),r.addEventListener(s,g,_);break t}f in r?r[f]=g:g===!0?r.setAttribute(f,""):Yt(r,f,g)}}}function ja(r,s,f){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pn("error",r),pn("load",r);var g=!1,_=!1,w;for(w in f)if(f.hasOwnProperty(w)){var O=f[w];if(O!=null)switch(w){case"src":g=!0;break;case"srcSet":_=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Kn(r,s,w,O,f,null)}}_&&Kn(r,s,"srcSet",f.srcSet,f,null),g&&Kn(r,s,"src",f.src,f,null);return;case"input":pn("invalid",r);var G=w=O=_=null,$=null,_t=null;for(g in f)if(f.hasOwnProperty(g)){var Ht=f[g];if(Ht!=null)switch(g){case"name":_=Ht;break;case"type":O=Ht;break;case"checked":$=Ht;break;case"defaultChecked":_t=Ht;break;case"value":w=Ht;break;case"defaultValue":G=Ht;break;case"children":case"dangerouslySetInnerHTML":if(Ht!=null)throw Error(i(137,s));break;default:Kn(r,s,g,Ht,f,null)}}Pn(r,w,G,$,_t,O,_,!1),si(r);return;case"select":pn("invalid",r),g=O=w=null;for(_ in f)if(f.hasOwnProperty(_)&&(G=f[_],G!=null))switch(_){case"value":w=G;break;case"defaultValue":O=G;break;case"multiple":g=G;default:Kn(r,s,_,G,f,null)}s=w,f=O,r.multiple=!!g,s!=null?Ai(r,!!g,s,!1):f!=null&&Ai(r,!!g,f,!0);return;case"textarea":pn("invalid",r),w=_=g=null;for(O in f)if(f.hasOwnProperty(O)&&(G=f[O],G!=null))switch(O){case"value":g=G;break;case"defaultValue":_=G;break;case"children":w=G;break;case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(91));break;default:Kn(r,s,O,G,f,null)}ki(r,g,_,w),si(r);return;case"option":for($ in f)if(f.hasOwnProperty($)&&(g=f[$],g!=null))switch($){case"selected":r.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Kn(r,s,$,g,f,null)}return;case"dialog":pn("beforetoggle",r),pn("toggle",r),pn("cancel",r),pn("close",r);break;case"iframe":case"object":pn("load",r);break;case"video":case"audio":for(g=0;g<x0.length;g++)pn(x0[g],r);break;case"image":pn("error",r),pn("load",r);break;case"details":pn("toggle",r);break;case"embed":case"source":case"link":pn("error",r),pn("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(_t in f)if(f.hasOwnProperty(_t)&&(g=f[_t],g!=null))switch(_t){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:Kn(r,s,_t,g,f,null)}return;default:if(qh(s)){for(Ht in f)f.hasOwnProperty(Ht)&&(g=f[Ht],g!==void 0&&fS(r,s,Ht,g,f,void 0));return}}for(G in f)f.hasOwnProperty(G)&&(g=f[G],g!=null&&Kn(r,s,G,g,f,null))}function EN(r,s,f,g){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var _=null,w=null,O=null,G=null,$=null,_t=null,Ht=null;for(At in f){var qt=f[At];if(f.hasOwnProperty(At)&&qt!=null)switch(At){case"checked":break;case"value":break;case"defaultValue":$=qt;default:g.hasOwnProperty(At)||Kn(r,s,At,null,g,qt)}}for(var Tt in g){var At=g[Tt];if(qt=f[Tt],g.hasOwnProperty(Tt)&&(At!=null||qt!=null))switch(Tt){case"type":w=At;break;case"name":_=At;break;case"checked":_t=At;break;case"defaultChecked":Ht=At;break;case"value":O=At;break;case"defaultValue":G=At;break;case"children":case"dangerouslySetInnerHTML":if(At!=null)throw Error(i(137,s));break;default:At!==qt&&Kn(r,s,Tt,At,g,qt)}}Ss(r,O,G,$,_t,Ht,w,_);return;case"select":At=O=G=Tt=null;for(w in f)if($=f[w],f.hasOwnProperty(w)&&$!=null)switch(w){case"value":break;case"multiple":At=$;default:g.hasOwnProperty(w)||Kn(r,s,w,null,g,$)}for(_ in g)if(w=g[_],$=f[_],g.hasOwnProperty(_)&&(w!=null||$!=null))switch(_){case"value":Tt=w;break;case"defaultValue":G=w;break;case"multiple":O=w;default:w!==$&&Kn(r,s,_,w,g,$)}s=G,f=O,g=At,Tt!=null?Ai(r,!!f,Tt,!1):!!g!=!!f&&(s!=null?Ai(r,!!f,s,!0):Ai(r,!!f,f?[]:"",!1));return;case"textarea":At=Tt=null;for(G in f)if(_=f[G],f.hasOwnProperty(G)&&_!=null&&!g.hasOwnProperty(G))switch(G){case"value":break;case"children":break;default:Kn(r,s,G,null,g,_)}for(O in g)if(_=g[O],w=f[O],g.hasOwnProperty(O)&&(_!=null||w!=null))switch(O){case"value":Tt=_;break;case"defaultValue":At=_;break;case"children":break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(i(91));break;default:_!==w&&Kn(r,s,O,_,g,w)}Hi(r,Tt,At);return;case"option":for(var He in f)if(Tt=f[He],f.hasOwnProperty(He)&&Tt!=null&&!g.hasOwnProperty(He))switch(He){case"selected":r.selected=!1;break;default:Kn(r,s,He,null,g,Tt)}for($ in g)if(Tt=g[$],At=f[$],g.hasOwnProperty($)&&Tt!==At&&(Tt!=null||At!=null))switch($){case"selected":r.selected=Tt&&typeof Tt!="function"&&typeof Tt!="symbol";break;default:Kn(r,s,$,Tt,g,At)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Le in f)Tt=f[Le],f.hasOwnProperty(Le)&&Tt!=null&&!g.hasOwnProperty(Le)&&Kn(r,s,Le,null,g,Tt);for(_t in g)if(Tt=g[_t],At=f[_t],g.hasOwnProperty(_t)&&Tt!==At&&(Tt!=null||At!=null))switch(_t){case"children":case"dangerouslySetInnerHTML":if(Tt!=null)throw Error(i(137,s));break;default:Kn(r,s,_t,Tt,g,At)}return;default:if(qh(s)){for(var Qn in f)Tt=f[Qn],f.hasOwnProperty(Qn)&&Tt!==void 0&&!g.hasOwnProperty(Qn)&&fS(r,s,Qn,void 0,g,Tt);for(Ht in g)Tt=g[Ht],At=f[Ht],!g.hasOwnProperty(Ht)||Tt===At||Tt===void 0&&At===void 0||fS(r,s,Ht,Tt,g,At);return}}for(var ht in f)Tt=f[ht],f.hasOwnProperty(ht)&&Tt!=null&&!g.hasOwnProperty(ht)&&Kn(r,s,ht,null,g,Tt);for(qt in g)Tt=g[qt],At=f[qt],!g.hasOwnProperty(qt)||Tt===At||Tt==null&&At==null||Kn(r,s,qt,Tt,g,At)}var pS=null,mS=null;function Hy(r){return r.nodeType===9?r:r.ownerDocument}function Pw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Bw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function gS(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var xS=null;function wN(){var r=window.event;return r&&r.type==="popstate"?r===xS?!1:(xS=r,!0):(xS=null,!1)}var Iw=typeof setTimeout=="function"?setTimeout:void 0,AN=typeof clearTimeout=="function"?clearTimeout:void 0,Fw=typeof Promise=="function"?Promise:void 0,CN=typeof queueMicrotask=="function"?queueMicrotask:typeof Fw<"u"?function(r){return Fw.resolve(null).then(r).catch(RN)}:Iw;function RN(r){setTimeout(function(){throw r})}function yu(r){return r==="head"}function Vw(r,s){var f=s,g=0,_=0;do{var w=f.nextSibling;if(r.removeChild(f),w&&w.nodeType===8)if(f=w.data,f==="/$"){if(0<g&&8>g){f=g;var O=r.ownerDocument;if(f&1&&v0(O.documentElement),f&2&&v0(O.body),f&4)for(f=O.head,v0(f),O=f.firstChild;O;){var G=O.nextSibling,$=O.nodeName;O[$r]||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&O.rel.toLowerCase()==="stylesheet"||f.removeChild(O),O=G}}if(_===0){r.removeChild(w),A0(s);return}_--}else f==="$"||f==="$?"||f==="$!"?_++:g=f.charCodeAt(0)-48;else g=0;f=w}while(f);A0(s)}function yS(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var f=s;switch(s=s.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":yS(f),zn(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}r.removeChild(f)}}function DN(r,s,f,g){for(;r.nodeType===1;){var _=f;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!g&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(g){if(!r[$r])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(w=r.getAttribute("rel"),w==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(w!==_.rel||r.getAttribute("href")!==(_.href==null||_.href===""?null:_.href)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin)||r.getAttribute("title")!==(_.title==null?null:_.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(w=r.getAttribute("src"),(w!==(_.src==null?null:_.src)||r.getAttribute("type")!==(_.type==null?null:_.type)||r.getAttribute("crossorigin")!==(_.crossOrigin==null?null:_.crossOrigin))&&w&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var w=_.name==null?null:""+_.name;if(_.type==="hidden"&&r.getAttribute("name")===w)return r}else return r;if(r=So(r.nextSibling),r===null)break}return null}function UN(r,s,f){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!f||(r=So(r.nextSibling),r===null))return null;return r}function vS(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function jN(r,s){var f=r.ownerDocument;if(r.data!=="$?"||f.readyState==="complete")s();else{var g=function(){s(),f.removeEventListener("DOMContentLoaded",g)};f.addEventListener("DOMContentLoaded",g),r._reactRetry=g}}function So(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var bS=null;function Hw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var f=r.data;if(f==="$"||f==="$!"||f==="$?"){if(s===0)return r;s--}else f==="/$"&&s++}r=r.previousSibling}return null}function kw(r,s,f){switch(s=Hy(f),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function v0(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);zn(r)}var Vs=new Map,Gw=new Set;function ky(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var sc=Z.d;Z.d={f:LN,r:NN,D:ON,C:zN,L:PN,m:BN,X:FN,S:IN,M:VN};function LN(){var r=sc.f(),s=Is();return r||s}function NN(r){var s=es(r);s!==null&&s.tag===5&&s.type==="form"?Sy(s):sc.r(r)}var Xf=typeof document>"u"?null:document;function Xw(r,s,f){var g=Xf;if(g&&typeof s=="string"&&s){var _=Fn(s);_='link[rel="'+r+'"][href="'+_+'"]',typeof f=="string"&&(_+='[crossorigin="'+f+'"]'),Gw.has(_)||(Gw.add(_),r={rel:r,crossOrigin:f,href:s},g.querySelector(_)===null&&(s=g.createElement("link"),ja(s,"link",r),wi(s),g.head.appendChild(s)))}}function ON(r){sc.D(r),Xw("dns-prefetch",r,null)}function zN(r,s){sc.C(r,s),Xw("preconnect",r,s)}function PN(r,s,f){sc.L(r,s,f);var g=Xf;if(g&&r&&s){var _='link[rel="preload"][as="'+Fn(s)+'"]';s==="image"&&f&&f.imageSrcSet?(_+='[imagesrcset="'+Fn(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(_+='[imagesizes="'+Fn(f.imageSizes)+'"]')):_+='[href="'+Fn(r)+'"]';var w=_;switch(s){case"style":w=qf(r);break;case"script":w=Yf(r)}Vs.has(w)||(r=y({rel:"preload",href:s==="image"&&f&&f.imageSrcSet?void 0:r,as:s},f),Vs.set(w,r),g.querySelector(_)!==null||s==="style"&&g.querySelector(b0(w))||s==="script"&&g.querySelector(_0(w))||(s=g.createElement("link"),ja(s,"link",r),wi(s),g.head.appendChild(s)))}}function BN(r,s){sc.m(r,s);var f=Xf;if(f&&r){var g=s&&typeof s.as=="string"?s.as:"script",_='link[rel="modulepreload"][as="'+Fn(g)+'"][href="'+Fn(r)+'"]',w=_;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Yf(r)}if(!Vs.has(w)&&(r=y({rel:"modulepreload",href:r},s),Vs.set(w,r),f.querySelector(_)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(_0(w)))return}g=f.createElement("link"),ja(g,"link",r),wi(g),f.head.appendChild(g)}}}function IN(r,s,f){sc.S(r,s,f);var g=Xf;if(g&&r){var _=Qs(g).hoistableStyles,w=qf(r);s=s||"default";var O=_.get(w);if(!O){var G={loading:0,preload:null};if(O=g.querySelector(b0(w)))G.loading=5;else{r=y({rel:"stylesheet",href:r,"data-precedence":s},f),(f=Vs.get(w))&&_S(r,f);var $=O=g.createElement("link");wi($),ja($,"link",r),$._p=new Promise(function(_t,Ht){$.onload=_t,$.onerror=Ht}),$.addEventListener("load",function(){G.loading|=1}),$.addEventListener("error",function(){G.loading|=2}),G.loading|=4,Gy(O,s,g)}O={type:"stylesheet",instance:O,count:1,state:G},_.set(w,O)}}}function FN(r,s){sc.X(r,s);var f=Xf;if(f&&r){var g=Qs(f).hoistableScripts,_=Yf(r),w=g.get(_);w||(w=f.querySelector(_0(_)),w||(r=y({src:r,async:!0},s),(s=Vs.get(_))&&SS(r,s),w=f.createElement("script"),wi(w),ja(w,"link",r),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function VN(r,s){sc.M(r,s);var f=Xf;if(f&&r){var g=Qs(f).hoistableScripts,_=Yf(r),w=g.get(_);w||(w=f.querySelector(_0(_)),w||(r=y({src:r,async:!0,type:"module"},s),(s=Vs.get(_))&&SS(r,s),w=f.createElement("script"),wi(w),ja(w,"link",r),f.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(_,w))}}function qw(r,s,f,g){var _=(_=Pt.current)?ky(_):null;if(!_)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(s=qf(f.href),f=Qs(_).hoistableStyles,g=f.get(s),g||(g={type:"style",instance:null,count:0,state:null},f.set(s,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){r=qf(f.href);var w=Qs(_).hoistableStyles,O=w.get(r);if(O||(_=_.ownerDocument||_,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(r,O),(w=_.querySelector(b0(r)))&&!w._p&&(O.instance=w,O.state.loading=5),Vs.has(r)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},Vs.set(r,f),w||HN(_,r,f,O.state))),s&&g===null)throw Error(i(528,""));return O}if(s&&g!==null)throw Error(i(529,""));return null;case"script":return s=f.async,f=f.src,typeof f=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Yf(f),f=Qs(_).hoistableScripts,g=f.get(s),g||(g={type:"script",instance:null,count:0,state:null},f.set(s,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function qf(r){return'href="'+Fn(r)+'"'}function b0(r){return'link[rel="stylesheet"]['+r+"]"}function Yw(r){return y({},r,{"data-precedence":r.precedence,precedence:null})}function HN(r,s,f,g){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?g.loading=1:(s=r.createElement("link"),g.preload=s,s.addEventListener("load",function(){return g.loading|=1}),s.addEventListener("error",function(){return g.loading|=2}),ja(s,"link",f),wi(s),r.head.appendChild(s))}function Yf(r){return'[src="'+Fn(r)+'"]'}function _0(r){return"script[async]"+r}function Ww(r,s,f){if(s.count++,s.instance===null)switch(s.type){case"style":var g=r.querySelector('style[data-href~="'+Fn(f.href)+'"]');if(g)return s.instance=g,wi(g),g;var _=y({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return g=(r.ownerDocument||r).createElement("style"),wi(g),ja(g,"style",_),Gy(g,f.precedence,r),s.instance=g;case"stylesheet":_=qf(f.href);var w=r.querySelector(b0(_));if(w)return s.state.loading|=4,s.instance=w,wi(w),w;g=Yw(f),(_=Vs.get(_))&&_S(g,_),w=(r.ownerDocument||r).createElement("link"),wi(w);var O=w;return O._p=new Promise(function(G,$){O.onload=G,O.onerror=$}),ja(w,"link",g),s.state.loading|=4,Gy(w,f.precedence,r),s.instance=w;case"script":return w=Yf(f.src),(_=r.querySelector(_0(w)))?(s.instance=_,wi(_),_):(g=f,(_=Vs.get(w))&&(g=y({},f),SS(g,_)),r=r.ownerDocument||r,_=r.createElement("script"),wi(_),ja(_,"link",g),r.head.appendChild(_),s.instance=_);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(g=s.instance,s.state.loading|=4,Gy(g,f.precedence,r));return s.instance}function Gy(r,s,f){for(var g=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),_=g.length?g[g.length-1]:null,w=_,O=0;O<g.length;O++){var G=g[O];if(G.dataset.precedence===s)w=G;else if(w!==_)break}w?w.parentNode.insertBefore(r,w.nextSibling):(s=f.nodeType===9?f.head:f,s.insertBefore(r,s.firstChild))}function _S(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function SS(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var Xy=null;function Zw(r,s,f){if(Xy===null){var g=new Map,_=Xy=new Map;_.set(f,g)}else _=Xy,g=_.get(f),g||(g=new Map,_.set(f,g));if(g.has(r))return g;for(g.set(r,null),f=f.getElementsByTagName(r),_=0;_<f.length;_++){var w=f[_];if(!(w[$r]||w[Ei]||r==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var O=w.getAttribute(s)||"";O=r+O;var G=g.get(O);G?G.push(w):g.set(O,[w])}}return g}function Kw(r,s,f){r=r.ownerDocument||r,r.head.insertBefore(f,s==="title"?r.querySelector("head > title"):null)}function kN(r,s,f){if(f===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Qw(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var S0=null;function GN(){}function XN(r,s,f){if(S0===null)throw Error(i(475));var g=S0;if(s.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var _=qf(f.href),w=r.querySelector(b0(_));if(w){r=w._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(g.count++,g=qy.bind(g),r.then(g,g)),s.state.loading|=4,s.instance=w,wi(w);return}w=r.ownerDocument||r,f=Yw(f),(_=Vs.get(_))&&_S(f,_),w=w.createElement("link"),wi(w);var O=w;O._p=new Promise(function(G,$){O.onload=G,O.onerror=$}),ja(w,"link",f),s.instance=w}g.stylesheets===null&&(g.stylesheets=new Map),g.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(g.count++,s=qy.bind(g),r.addEventListener("load",s),r.addEventListener("error",s))}}function qN(){if(S0===null)throw Error(i(475));var r=S0;return r.stylesheets&&r.count===0&&MS(r,r.stylesheets),0<r.count?function(s){var f=setTimeout(function(){if(r.stylesheets&&MS(r,r.stylesheets),r.unsuspend){var g=r.unsuspend;r.unsuspend=null,g()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(f)}}:null}function qy(){if(this.count--,this.count===0){if(this.stylesheets)MS(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Yy=null;function MS(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Yy=new Map,s.forEach(YN,r),Yy=null,qy.call(r))}function YN(r,s){if(!(s.state.loading&4)){var f=Yy.get(r);if(f)var g=f.get(null);else{f=new Map,Yy.set(r,f);for(var _=r.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<_.length;w++){var O=_[w];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(f.set(O.dataset.precedence,O),g=O)}g&&f.set(null,g)}_=s.instance,O=_.getAttribute("data-precedence"),w=f.get(O)||g,w===g&&f.set(null,_),f.set(O,_),this.count++,g=qy.bind(this),_.addEventListener("load",g),_.addEventListener("error",g),w?w.parentNode.insertBefore(_,w.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(_,r.firstChild)),s.state.loading|=4}}var M0={$$typeof:j,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function WN(r,s,f,g,_,w,O,G){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dt(0),this.hiddenUpdates=Dt(null),this.identifierPrefix=g,this.onUncaughtError=_,this.onCaughtError=w,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=G,this.incompleteTransitions=new Map}function Jw(r,s,f,g,_,w,O,G,$,_t,Ht,qt){return r=new WN(r,s,f,O,G,$,_t,qt),s=1,w===!0&&(s|=24),w=Ha(3,null,null,s),r.current=w,w.stateNode=r,s=pf(),s.refCount++,r.pooledCache=s,s.refCount++,w.memoizedState={element:g,isDehydrated:f,cache:s},Ym(w),r}function $w(r){return r?(r=Yo,r):Yo}function tA(r,s,f,g,_,w){_=$w(_),g.context===null?g.context=_:g.pendingContext=_,g=Cs(s),g.payload={element:f},w=w===void 0?null:w,w!==null&&(g.callback=w),f=ho(r,g,s),f!==null&&(Ua(f,r,s),Hl(f,r,s))}function eA(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var f=r.retryLane;r.retryLane=f!==0&&f<s?f:s}}function TS(r,s){eA(r,s),(r=r.alternate)&&eA(r,s)}function nA(r){if(r.tag===13){var s=so(r,67108864);s!==null&&Ua(s,r,67108864),TS(r,67108864)}}var Wy=!0;function ZN(r,s,f,g){var _=F.T;F.T=null;var w=Z.p;try{Z.p=2,ES(r,s,f,g)}finally{Z.p=w,F.T=_}}function KN(r,s,f,g){var _=F.T;F.T=null;var w=Z.p;try{Z.p=8,ES(r,s,f,g)}finally{Z.p=w,F.T=_}}function ES(r,s,f,g){if(Wy){var _=wS(g);if(_===null)hS(r,s,g,Zy,f),aA(r,g);else if(JN(_,r,s,f,g))g.stopPropagation();else if(aA(r,g),s&4&&-1<QN.indexOf(r)){for(;_!==null;){var w=es(_);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var O=ie(w.pendingLanes);if(O!==0){var G=w;for(G.pendingLanes|=2,G.entangledLanes|=2;O;){var $=1<<31-ne(O);G.entanglements[1]|=$,O&=~$}xl(w),(Rn&6)===0&&(ga=zt()+500,g0(0))}}break;case 13:G=so(w,2),G!==null&&Ua(G,w,2),Is(),TS(w,2)}if(w=wS(g),w===null&&hS(r,s,g,Zy,f),w===_)break;_=w}_!==null&&g.stopPropagation()}else hS(r,s,g,null,f)}}function wS(r){return r=Wh(r),AS(r)}var Zy=null;function AS(r){if(Zy=null,r=ts(r),r!==null){var s=o(r);if(s===null)r=null;else{var f=s.tag;if(f===13){if(r=c(s),r!==null)return r;r=null}else if(f===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Zy=r,null}function iA(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bt()){case ee:return 2;case Nt:return 8;case W:case V:return 32;case dt:return 268435456;default:return 32}default:return 32}}var CS=!1,vu=null,bu=null,_u=null,T0=new Map,E0=new Map,Su=[],QN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function aA(r,s){switch(r){case"focusin":case"focusout":vu=null;break;case"dragenter":case"dragleave":bu=null;break;case"mouseover":case"mouseout":_u=null;break;case"pointerover":case"pointerout":T0.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":E0.delete(s.pointerId)}}function w0(r,s,f,g,_,w){return r===null||r.nativeEvent!==w?(r={blockedOn:s,domEventName:f,eventSystemFlags:g,nativeEvent:w,targetContainers:[_]},s!==null&&(s=es(s),s!==null&&nA(s)),r):(r.eventSystemFlags|=g,s=r.targetContainers,_!==null&&s.indexOf(_)===-1&&s.push(_),r)}function JN(r,s,f,g,_){switch(s){case"focusin":return vu=w0(vu,r,s,f,g,_),!0;case"dragenter":return bu=w0(bu,r,s,f,g,_),!0;case"mouseover":return _u=w0(_u,r,s,f,g,_),!0;case"pointerover":var w=_.pointerId;return T0.set(w,w0(T0.get(w)||null,r,s,f,g,_)),!0;case"gotpointercapture":return w=_.pointerId,E0.set(w,w0(E0.get(w)||null,r,s,f,g,_)),!0}return!1}function rA(r){var s=ts(r.target);if(s!==null){var f=o(s);if(f!==null){if(s=f.tag,s===13){if(s=c(f),s!==null){r.blockedOn=s,Ti(r.priority,function(){if(f.tag===13){var g=pi();g=tn(g);var _=so(f,g);_!==null&&Ua(_,f,g),TS(f,g)}});return}}else if(s===3&&f.stateNode.current.memoizedState.isDehydrated){r.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Ky(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var f=wS(r.nativeEvent);if(f===null){f=r.nativeEvent;var g=new f.constructor(f.type,f);Yh=g,f.target.dispatchEvent(g),Yh=null}else return s=es(f),s!==null&&nA(s),r.blockedOn=f,!1;s.shift()}return!0}function sA(r,s,f){Ky(r)&&f.delete(s)}function $N(){CS=!1,vu!==null&&Ky(vu)&&(vu=null),bu!==null&&Ky(bu)&&(bu=null),_u!==null&&Ky(_u)&&(_u=null),T0.forEach(sA),E0.forEach(sA)}function Qy(r,s){r.blockedOn===s&&(r.blockedOn=null,CS||(CS=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,$N)))}var Jy=null;function oA(r){Jy!==r&&(Jy=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Jy===r&&(Jy=null);for(var s=0;s<r.length;s+=3){var f=r[s],g=r[s+1],_=r[s+2];if(typeof g!="function"){if(AS(g||f)===null)continue;break}var w=es(f);w!==null&&(r.splice(s,3),s-=3,c0(w,{pending:!0,data:_,method:f.method,action:g},g,_))}}))}function A0(r){function s($){return Qy($,r)}vu!==null&&Qy(vu,r),bu!==null&&Qy(bu,r),_u!==null&&Qy(_u,r),T0.forEach(s),E0.forEach(s);for(var f=0;f<Su.length;f++){var g=Su[f];g.blockedOn===r&&(g.blockedOn=null)}for(;0<Su.length&&(f=Su[0],f.blockedOn===null);)rA(f),f.blockedOn===null&&Su.shift();if(f=(r.ownerDocument||r).$$reactFormReplay,f!=null)for(g=0;g<f.length;g+=3){var _=f[g],w=f[g+1],O=_[Ni]||null;if(typeof w=="function")O||oA(f);else if(O){var G=null;if(w&&w.hasAttribute("formAction")){if(_=w,O=w[Ni]||null)G=O.formAction;else if(AS(_)!==null)continue}else G=O.action;typeof G=="function"?f[g+1]=G:(f.splice(g,3),g-=3),oA(f)}}}function RS(r){this._internalRoot=r}$y.prototype.render=RS.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var f=s.current,g=pi();tA(f,g,r,s,null,null)},$y.prototype.unmount=RS.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;tA(r.current,2,null,r,null,null),Is(),s[fa]=null}};function $y(r){this._internalRoot=r}$y.prototype.unstable_scheduleHydration=function(r){if(r){var s=We();r={blockedOn:null,target:r,priority:s};for(var f=0;f<Su.length&&s!==0&&s<Su[f].priority;f++);Su.splice(f,0,r),f===0&&rA(r)}};var lA=t.version;if(lA!=="19.1.0")throw Error(i(527,lA,"19.1.0"));Z.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var tO={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tv.isDisabled&&tv.supportsFiber)try{jt=tv.inject(tO),ae=tv}catch{}}return R0.createRoot=function(r,s){if(!a(r))throw Error(i(299));var f=!1,g="",_=Hd,w=Uf,O=Ny,G=null;return s!=null&&(s.unstable_strictMode===!0&&(f=!0),s.identifierPrefix!==void 0&&(g=s.identifierPrefix),s.onUncaughtError!==void 0&&(_=s.onUncaughtError),s.onCaughtError!==void 0&&(w=s.onCaughtError),s.onRecoverableError!==void 0&&(O=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(G=s.unstable_transitionCallbacks)),s=Jw(r,1,!1,null,null,f,g,_,w,O,G,null),r[fa]=s.current,dS(r),new RS(s)},R0.hydrateRoot=function(r,s,f){if(!a(r))throw Error(i(299));var g=!1,_="",w=Hd,O=Uf,G=Ny,$=null,_t=null;return f!=null&&(f.unstable_strictMode===!0&&(g=!0),f.identifierPrefix!==void 0&&(_=f.identifierPrefix),f.onUncaughtError!==void 0&&(w=f.onUncaughtError),f.onCaughtError!==void 0&&(O=f.onCaughtError),f.onRecoverableError!==void 0&&(G=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&($=f.unstable_transitionCallbacks),f.formState!==void 0&&(_t=f.formState)),s=Jw(r,1,!0,s,f??null,g,_,w,O,G,$,_t),s.context=$w(null),f=s.current,g=pi(),g=tn(g),_=Cs(g),_.callback=null,ho(f,_,g),f=g,s.current.lanes=f,Ft(s,f),xl(s),r[fa]=s.current,dS(r),new $y(s)},R0.version="19.1.0",R0}var yA;function hO(){if(yA)return jS.exports;yA=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),jS.exports=dO(),jS.exports}var fO=hO();const pO=e_(fO);var Ja=function(){return Ja=Object.assign||function(t){for(var e,i=1,a=arguments.length;i<a;i++){e=arguments[i];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ja.apply(this,arguments)};function zg(n,t,e){if(e||arguments.length===2)for(var i=0,a=t.length,o;i<a;i++)(o||!(i in t))&&(o||(o=Array.prototype.slice.call(t,0,i)),o[i]=t[i]);return n.concat(o||Array.prototype.slice.call(t))}var ui="-ms-",bg="-moz-",In="-webkit-",ZD="comm",n_="rule",YT="decl",mO="@import",KD="@keyframes",gO="@layer",QD=Math.abs,WT=String.fromCharCode,Q2=Object.assign;function xO(n,t){return _a(n,0)^45?(((t<<2^_a(n,0))<<2^_a(n,1))<<2^_a(n,2))<<2^_a(n,3):0}function JD(n){return n.trim()}function vc(n,t){return(n=t.exec(n))?n[0]:n}function on(n,t,e){return n.replace(t,e)}function F1(n,t,e){return n.indexOf(t,e)}function _a(n,t){return n.charCodeAt(t)|0}function Hp(n,t,e){return n.slice(t,e)}function El(n){return n.length}function $D(n){return n.length}function pg(n,t){return t.push(n),n}function yO(n,t){return n.map(t).join("")}function vA(n,t){return n.filter(function(e){return!vc(e,t)})}var i_=1,kp=1,t4=0,Zs=0,Ji=0,sm="";function a_(n,t,e,i,a,o,c,h){return{value:n,root:t,parent:e,type:i,props:a,children:o,line:i_,column:kp,length:c,return:"",siblings:h}}function Vu(n,t){return Q2(a_("",null,null,"",null,null,0,n.siblings),n,{length:-n.length},t)}function Wf(n){for(;n.root;)n=Vu(n.root,{children:[n]});pg(n,n.siblings)}function vO(){return Ji}function bO(){return Ji=Zs>0?_a(sm,--Zs):0,kp--,Ji===10&&(kp=1,i_--),Ji}function Lo(){return Ji=Zs<t4?_a(sm,Zs++):0,kp++,Ji===10&&(kp=1,i_++),Ji}function Dh(){return _a(sm,Zs)}function V1(){return Zs}function r_(n,t){return Hp(sm,n,t)}function J2(n){switch(n){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function _O(n){return i_=kp=1,t4=El(sm=n),Zs=0,[]}function SO(n){return sm="",n}function zS(n){return JD(r_(Zs-1,$2(n===91?n+2:n===40?n+1:n)))}function MO(n){for(;(Ji=Dh())&&Ji<33;)Lo();return J2(n)>2||J2(Ji)>3?"":" "}function TO(n,t){for(;--t&&Lo()&&!(Ji<48||Ji>102||Ji>57&&Ji<65||Ji>70&&Ji<97););return r_(n,V1()+(t<6&&Dh()==32&&Lo()==32))}function $2(n){for(;Lo();)switch(Ji){case n:return Zs;case 34:case 39:n!==34&&n!==39&&$2(Ji);break;case 40:n===41&&$2(n);break;case 92:Lo();break}return Zs}function EO(n,t){for(;Lo()&&n+Ji!==57;)if(n+Ji===84&&Dh()===47)break;return"/*"+r_(t,Zs-1)+"*"+WT(n===47?n:Lo())}function wO(n){for(;!J2(Dh());)Lo();return r_(n,Zs)}function AO(n){return SO(H1("",null,null,null,[""],n=_O(n),0,[0],n))}function H1(n,t,e,i,a,o,c,h,p){for(var m=0,y=0,v=c,b=0,M=0,E=0,R=1,C=1,T=1,D=0,j="",N=a,B=o,P=i,H=j;C;)switch(E=D,D=Lo()){case 40:if(E!=108&&_a(H,v-1)==58){F1(H+=on(zS(D),"&","&\f"),"&\f",QD(m?h[m-1]:0))!=-1&&(T=-1);break}case 34:case 39:case 91:H+=zS(D);break;case 9:case 10:case 13:case 32:H+=MO(E);break;case 92:H+=TO(V1()-1,7);continue;case 47:switch(Dh()){case 42:case 47:pg(CO(EO(Lo(),V1()),t,e,p),p);break;default:H+="/"}break;case 123*R:h[m++]=El(H)*T;case 125*R:case 59:case 0:switch(D){case 0:case 125:C=0;case 59+y:T==-1&&(H=on(H,/\f/g,"")),M>0&&El(H)-v&&pg(M>32?_A(H+";",i,e,v-1,p):_A(on(H," ","")+";",i,e,v-2,p),p);break;case 59:H+=";";default:if(pg(P=bA(H,t,e,m,y,a,h,j,N=[],B=[],v,o),o),D===123)if(y===0)H1(H,t,P,P,N,o,v,h,B);else switch(b===99&&_a(H,3)===110?100:b){case 100:case 108:case 109:case 115:H1(n,P,P,i&&pg(bA(n,P,P,0,0,a,h,j,a,N=[],v,B),B),a,B,v,h,i?N:B);break;default:H1(H,P,P,P,[""],B,0,h,B)}}m=y=M=0,R=T=1,j=H="",v=c;break;case 58:v=1+El(H),M=E;default:if(R<1){if(D==123)--R;else if(D==125&&R++==0&&bO()==125)continue}switch(H+=WT(D),D*R){case 38:T=y>0?1:(H+="\f",-1);break;case 44:h[m++]=(El(H)-1)*T,T=1;break;case 64:Dh()===45&&(H+=zS(Lo())),b=Dh(),y=v=El(j=H+=wO(V1())),D++;break;case 45:E===45&&El(H)==2&&(R=0)}}return o}function bA(n,t,e,i,a,o,c,h,p,m,y,v){for(var b=a-1,M=a===0?o:[""],E=$D(M),R=0,C=0,T=0;R<i;++R)for(var D=0,j=Hp(n,b+1,b=QD(C=c[R])),N=n;D<E;++D)(N=JD(C>0?M[D]+" "+j:on(j,/&\f/g,M[D])))&&(p[T++]=N);return a_(n,t,e,a===0?n_:h,p,m,y,v)}function CO(n,t,e,i){return a_(n,t,e,ZD,WT(vO()),Hp(n,2,-2),0,i)}function _A(n,t,e,i,a){return a_(n,t,e,YT,Hp(n,0,i),Hp(n,i+1,-1),i,a)}function e4(n,t,e){switch(xO(n,t)){case 5103:return In+"print-"+n+n;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return In+n+n;case 4789:return bg+n+n;case 5349:case 4246:case 4810:case 6968:case 2756:return In+n+bg+n+ui+n+n;case 5936:switch(_a(n,t+11)){case 114:return In+n+ui+on(n,/[svh]\w+-[tblr]{2}/,"tb")+n;case 108:return In+n+ui+on(n,/[svh]\w+-[tblr]{2}/,"tb-rl")+n;case 45:return In+n+ui+on(n,/[svh]\w+-[tblr]{2}/,"lr")+n}case 6828:case 4268:case 2903:return In+n+ui+n+n;case 6165:return In+n+ui+"flex-"+n+n;case 5187:return In+n+on(n,/(\w+).+(:[^]+)/,In+"box-$1$2"+ui+"flex-$1$2")+n;case 5443:return In+n+ui+"flex-item-"+on(n,/flex-|-self/g,"")+(vc(n,/flex-|baseline/)?"":ui+"grid-row-"+on(n,/flex-|-self/g,""))+n;case 4675:return In+n+ui+"flex-line-pack"+on(n,/align-content|flex-|-self/g,"")+n;case 5548:return In+n+ui+on(n,"shrink","negative")+n;case 5292:return In+n+ui+on(n,"basis","preferred-size")+n;case 6060:return In+"box-"+on(n,"-grow","")+In+n+ui+on(n,"grow","positive")+n;case 4554:return In+on(n,/([^-])(transform)/g,"$1"+In+"$2")+n;case 6187:return on(on(on(n,/(zoom-|grab)/,In+"$1"),/(image-set)/,In+"$1"),n,"")+n;case 5495:case 3959:return on(n,/(image-set\([^]*)/,In+"$1$`$1");case 4968:return on(on(n,/(.+:)(flex-)?(.*)/,In+"box-pack:$3"+ui+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+In+n+n;case 4200:if(!vc(n,/flex-|baseline/))return ui+"grid-column-align"+Hp(n,t)+n;break;case 2592:case 3360:return ui+on(n,"template-","")+n;case 4384:case 3616:return e&&e.some(function(i,a){return t=a,vc(i.props,/grid-\w+-end/)})?~F1(n+(e=e[t].value),"span",0)?n:ui+on(n,"-start","")+n+ui+"grid-row-span:"+(~F1(e,"span",0)?vc(e,/\d+/):+vc(e,/\d+/)-+vc(n,/\d+/))+";":ui+on(n,"-start","")+n;case 4896:case 4128:return e&&e.some(function(i){return vc(i.props,/grid-\w+-start/)})?n:ui+on(on(n,"-end","-span"),"span ","")+n;case 4095:case 3583:case 4068:case 2532:return on(n,/(.+)-inline(.+)/,In+"$1$2")+n;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(El(n)-1-t>6)switch(_a(n,t+1)){case 109:if(_a(n,t+4)!==45)break;case 102:return on(n,/(.+:)(.+)-([^]+)/,"$1"+In+"$2-$3$1"+bg+(_a(n,t+3)==108?"$3":"$2-$3"))+n;case 115:return~F1(n,"stretch",0)?e4(on(n,"stretch","fill-available"),t,e)+n:n}break;case 5152:case 5920:return on(n,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(i,a,o,c,h,p,m){return ui+a+":"+o+m+(c?ui+a+"-span:"+(h?p:+p-+o)+m:"")+n});case 4949:if(_a(n,t+6)===121)return on(n,":",":"+In)+n;break;case 6444:switch(_a(n,_a(n,14)===45?18:11)){case 120:return on(n,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+In+(_a(n,14)===45?"inline-":"")+"box$3$1"+In+"$2$3$1"+ui+"$2box$3")+n;case 100:return on(n,":",":"+ui)+n}break;case 5719:case 2647:case 2135:case 3927:case 2391:return on(n,"scroll-","scroll-snap-")+n}return n}function tb(n,t){for(var e="",i=0;i<n.length;i++)e+=t(n[i],i,n,t)||"";return e}function RO(n,t,e,i){switch(n.type){case gO:if(n.children.length)break;case mO:case YT:return n.return=n.return||n.value;case ZD:return"";case KD:return n.return=n.value+"{"+tb(n.children,i)+"}";case n_:if(!El(n.value=n.props.join(",")))return""}return El(e=tb(n.children,i))?n.return=n.value+"{"+e+"}":""}function DO(n){var t=$D(n);return function(e,i,a,o){for(var c="",h=0;h<t;h++)c+=n[h](e,i,a,o)||"";return c}}function UO(n){return function(t){t.root||(t=t.return)&&n(t)}}function jO(n,t,e,i){if(n.length>-1&&!n.return)switch(n.type){case YT:n.return=e4(n.value,n.length,e);return;case KD:return tb([Vu(n,{value:on(n.value,"@","@"+In)})],i);case n_:if(n.length)return yO(e=n.props,function(a){switch(vc(a,i=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Wf(Vu(n,{props:[on(a,/:(read-\w+)/,":"+bg+"$1")]})),Wf(Vu(n,{props:[a]})),Q2(n,{props:vA(e,i)});break;case"::placeholder":Wf(Vu(n,{props:[on(a,/:(plac\w+)/,":"+In+"input-$1")]})),Wf(Vu(n,{props:[on(a,/:(plac\w+)/,":"+bg+"$1")]})),Wf(Vu(n,{props:[on(a,/:(plac\w+)/,ui+"input-$1")]})),Wf(Vu(n,{props:[a]})),Q2(n,{props:vA(e,i)});break}return""})}}var LO={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ys={},Gp=typeof process<"u"&&ys!==void 0&&(ys.REACT_APP_SC_ATTR||ys.SC_ATTR)||"data-styled",n4="active",i4="data-styled-version",s_="6.1.17",ZT=`/*!sc*/
`,eb=typeof window<"u"&&"HTMLElement"in window,NO=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&ys!==void 0&&ys.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&ys.REACT_APP_SC_DISABLE_SPEEDY!==""?ys.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&ys.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&ys!==void 0&&ys.SC_DISABLE_SPEEDY!==void 0&&ys.SC_DISABLE_SPEEDY!==""&&ys.SC_DISABLE_SPEEDY!=="false"&&ys.SC_DISABLE_SPEEDY),OO={},o_=Object.freeze([]),Xp=Object.freeze({});function a4(n,t,e){return e===void 0&&(e=Xp),n.theme!==e.theme&&n.theme||t||e.theme}var r4=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),zO=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,PO=/(^-|-$)/g;function SA(n){return n.replace(zO,"-").replace(PO,"")}var BO=/(a)(d)/gi,ev=52,MA=function(n){return String.fromCharCode(n+(n>25?39:97))};function tT(n){var t,e="";for(t=Math.abs(n);t>ev;t=t/ev|0)e=MA(t%ev)+e;return(MA(t%ev)+e).replace(BO,"$1-$2")}var PS,s4=5381,Up=function(n,t){for(var e=t.length;e;)n=33*n^t.charCodeAt(--e);return n},o4=function(n){return Up(s4,n)};function l4(n){return tT(o4(n)>>>0)}function IO(n){return n.displayName||n.name||"Component"}function BS(n){return typeof n=="string"&&!0}var c4=typeof Symbol=="function"&&Symbol.for,u4=c4?Symbol.for("react.memo"):60115,FO=c4?Symbol.for("react.forward_ref"):60112,VO={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},HO={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},d4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kO=((PS={})[FO]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},PS[u4]=d4,PS);function TA(n){return("type"in(t=n)&&t.type.$$typeof)===u4?d4:"$$typeof"in n?kO[n.$$typeof]:VO;var t}var GO=Object.defineProperty,XO=Object.getOwnPropertyNames,EA=Object.getOwnPropertySymbols,qO=Object.getOwnPropertyDescriptor,YO=Object.getPrototypeOf,wA=Object.prototype;function h4(n,t,e){if(typeof t!="string"){if(wA){var i=YO(t);i&&i!==wA&&h4(n,i,e)}var a=XO(t);EA&&(a=a.concat(EA(t)));for(var o=TA(n),c=TA(t),h=0;h<a.length;++h){var p=a[h];if(!(p in HO||e&&e[p]||c&&p in c||o&&p in o)){var m=qO(t,p);try{GO(n,p,m)}catch{}}}}return n}function qp(n){return typeof n=="function"}function KT(n){return typeof n=="object"&&"styledComponentId"in n}function Th(n,t){return n&&t?"".concat(n," ").concat(t):n||t||""}function eT(n,t){if(n.length===0)return"";for(var e=n[0],i=1;i<n.length;i++)e+=n[i];return e}function Pg(n){return n!==null&&typeof n=="object"&&n.constructor.name===Object.name&&!("props"in n&&n.$$typeof)}function nT(n,t,e){if(e===void 0&&(e=!1),!e&&!Pg(n)&&!Array.isArray(n))return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)n[i]=nT(n[i],t[i]);else if(Pg(t))for(var i in t)n[i]=nT(n[i],t[i]);return n}function QT(n,t){Object.defineProperty(n,"toString",{value:t})}function hx(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(n," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var WO=function(){function n(t){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=t}return n.prototype.indexOfGroup=function(t){for(var e=0,i=0;i<t;i++)e+=this.groupSizes[i];return e},n.prototype.insertRules=function(t,e){if(t>=this.groupSizes.length){for(var i=this.groupSizes,a=i.length,o=a;t>=o;)if((o<<=1)<0)throw hx(16,"".concat(t));this.groupSizes=new Uint32Array(o),this.groupSizes.set(i),this.length=o;for(var c=a;c<o;c++)this.groupSizes[c]=0}for(var h=this.indexOfGroup(t+1),p=(c=0,e.length);c<p;c++)this.tag.insertRule(h,e[c])&&(this.groupSizes[t]++,h++)},n.prototype.clearGroup=function(t){if(t<this.length){var e=this.groupSizes[t],i=this.indexOfGroup(t),a=i+e;this.groupSizes[t]=0;for(var o=i;o<a;o++)this.tag.deleteRule(i)}},n.prototype.getGroup=function(t){var e="";if(t>=this.length||this.groupSizes[t]===0)return e;for(var i=this.groupSizes[t],a=this.indexOfGroup(t),o=a+i,c=a;c<o;c++)e+="".concat(this.tag.getRule(c)).concat(ZT);return e},n}(),k1=new Map,nb=new Map,G1=1,nv=function(n){if(k1.has(n))return k1.get(n);for(;nb.has(G1);)G1++;var t=G1++;return k1.set(n,t),nb.set(t,n),t},ZO=function(n,t){G1=t+1,k1.set(n,t),nb.set(t,n)},KO="style[".concat(Gp,"][").concat(i4,'="').concat(s_,'"]'),QO=new RegExp("^".concat(Gp,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),JO=function(n,t,e){for(var i,a=e.split(","),o=0,c=a.length;o<c;o++)(i=a[o])&&n.registerName(t,i)},$O=function(n,t){for(var e,i=((e=t.textContent)!==null&&e!==void 0?e:"").split(ZT),a=[],o=0,c=i.length;o<c;o++){var h=i[o].trim();if(h){var p=h.match(QO);if(p){var m=0|parseInt(p[1],10),y=p[2];m!==0&&(ZO(y,m),JO(n,y,p[3]),n.getTag().insertRules(m,a)),a.length=0}else a.push(h)}}},AA=function(n){for(var t=document.querySelectorAll(KO),e=0,i=t.length;e<i;e++){var a=t[e];a&&a.getAttribute(Gp)!==n4&&($O(n,a),a.parentNode&&a.parentNode.removeChild(a))}};function tz(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var f4=function(n){var t=document.head,e=n||t,i=document.createElement("style"),a=function(h){var p=Array.from(h.querySelectorAll("style[".concat(Gp,"]")));return p[p.length-1]}(e),o=a!==void 0?a.nextSibling:null;i.setAttribute(Gp,n4),i.setAttribute(i4,s_);var c=tz();return c&&i.setAttribute("nonce",c),e.insertBefore(i,o),i},ez=function(){function n(t){this.element=f4(t),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var i=document.styleSheets,a=0,o=i.length;a<o;a++){var c=i[a];if(c.ownerNode===e)return c}throw hx(17)}(this.element),this.length=0}return n.prototype.insertRule=function(t,e){try{return this.sheet.insertRule(e,t),this.length++,!0}catch{return!1}},n.prototype.deleteRule=function(t){this.sheet.deleteRule(t),this.length--},n.prototype.getRule=function(t){var e=this.sheet.cssRules[t];return e&&e.cssText?e.cssText:""},n}(),nz=function(){function n(t){this.element=f4(t),this.nodes=this.element.childNodes,this.length=0}return n.prototype.insertRule=function(t,e){if(t<=this.length&&t>=0){var i=document.createTextNode(e);return this.element.insertBefore(i,this.nodes[t]||null),this.length++,!0}return!1},n.prototype.deleteRule=function(t){this.element.removeChild(this.nodes[t]),this.length--},n.prototype.getRule=function(t){return t<this.length?this.nodes[t].textContent:""},n}(),iz=function(){function n(t){this.rules=[],this.length=0}return n.prototype.insertRule=function(t,e){return t<=this.length&&(this.rules.splice(t,0,e),this.length++,!0)},n.prototype.deleteRule=function(t){this.rules.splice(t,1),this.length--},n.prototype.getRule=function(t){return t<this.length?this.rules[t]:""},n}(),CA=eb,az={isServer:!eb,useCSSOMInjection:!NO},ib=function(){function n(t,e,i){t===void 0&&(t=Xp),e===void 0&&(e={});var a=this;this.options=Ja(Ja({},az),t),this.gs=e,this.names=new Map(i),this.server=!!t.isServer,!this.server&&eb&&CA&&(CA=!1,AA(this)),QT(this,function(){return function(o){for(var c=o.getTag(),h=c.length,p="",m=function(v){var b=function(T){return nb.get(T)}(v);if(b===void 0)return"continue";var M=o.names.get(b),E=c.getGroup(v);if(M===void 0||!M.size||E.length===0)return"continue";var R="".concat(Gp,".g").concat(v,'[id="').concat(b,'"]'),C="";M!==void 0&&M.forEach(function(T){T.length>0&&(C+="".concat(T,","))}),p+="".concat(E).concat(R,'{content:"').concat(C,'"}').concat(ZT)},y=0;y<h;y++)m(y);return p}(a)})}return n.registerId=function(t){return nv(t)},n.prototype.rehydrate=function(){!this.server&&eb&&AA(this)},n.prototype.reconstructWithOptions=function(t,e){return e===void 0&&(e=!0),new n(Ja(Ja({},this.options),t),this.gs,e&&this.names||void 0)},n.prototype.allocateGSInstance=function(t){return this.gs[t]=(this.gs[t]||0)+1},n.prototype.getTag=function(){return this.tag||(this.tag=(t=function(e){var i=e.useCSSOMInjection,a=e.target;return e.isServer?new iz(a):i?new ez(a):new nz(a)}(this.options),new WO(t)));var t},n.prototype.hasNameForId=function(t,e){return this.names.has(t)&&this.names.get(t).has(e)},n.prototype.registerName=function(t,e){if(nv(t),this.names.has(t))this.names.get(t).add(e);else{var i=new Set;i.add(e),this.names.set(t,i)}},n.prototype.insertRules=function(t,e,i){this.registerName(t,e),this.getTag().insertRules(nv(t),i)},n.prototype.clearNames=function(t){this.names.has(t)&&this.names.get(t).clear()},n.prototype.clearRules=function(t){this.getTag().clearGroup(nv(t)),this.clearNames(t)},n.prototype.clearTag=function(){this.tag=void 0},n}(),rz=/&/g,sz=/^\s*\/\/.*$/gm;function p4(n,t){return n.map(function(e){return e.type==="rule"&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(i){return"".concat(t," ").concat(i)})),Array.isArray(e.children)&&e.type!=="@keyframes"&&(e.children=p4(e.children,t)),e})}function oz(n){var t,e,i,a=Xp,o=a.options,c=o===void 0?Xp:o,h=a.plugins,p=h===void 0?o_:h,m=function(b,M,E){return E.startsWith(e)&&E.endsWith(e)&&E.replaceAll(e,"").length>0?".".concat(t):b},y=p.slice();y.push(function(b){b.type===n_&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(rz,e).replace(i,m))}),c.prefix&&y.push(jO),y.push(RO);var v=function(b,M,E,R){M===void 0&&(M=""),E===void 0&&(E=""),R===void 0&&(R="&"),t=R,e=M,i=new RegExp("\\".concat(e,"\\b"),"g");var C=b.replace(sz,""),T=AO(E||M?"".concat(E," ").concat(M," { ").concat(C," }"):C);c.namespace&&(T=p4(T,c.namespace));var D=[];return tb(T,DO(y.concat(UO(function(j){return D.push(j)})))),D};return v.hash=p.length?p.reduce(function(b,M){return M.name||hx(15),Up(b,M.name)},s4).toString():"",v}var lz=new ib,iT=oz(),m4=Er.createContext({shouldForwardProp:void 0,styleSheet:lz,stylis:iT});m4.Consumer;Er.createContext(void 0);function aT(){return vt.useContext(m4)}var cz=function(){function n(t,e){var i=this;this.inject=function(a,o){o===void 0&&(o=iT);var c=i.name+o.hash;a.hasNameForId(i.id,c)||a.insertRules(i.id,c,o(i.rules,c,"@keyframes"))},this.name=t,this.id="sc-keyframes-".concat(t),this.rules=e,QT(this,function(){throw hx(12,String(i.name))})}return n.prototype.getName=function(t){return t===void 0&&(t=iT),this.name+t.hash},n}(),uz=function(n){return n>="A"&&n<="Z"};function RA(n){for(var t="",e=0;e<n.length;e++){var i=n[e];if(e===1&&i==="-"&&n[0]==="-")return n;uz(i)?t+="-"+i.toLowerCase():t+=i}return t.startsWith("ms-")?"-"+t:t}var g4=function(n){return n==null||n===!1||n===""},x4=function(n){var t,e,i=[];for(var a in n){var o=n[a];n.hasOwnProperty(a)&&!g4(o)&&(Array.isArray(o)&&o.isCss||qp(o)?i.push("".concat(RA(a),":"),o,";"):Pg(o)?i.push.apply(i,zg(zg(["".concat(a," {")],x4(o),!1),["}"],!1)):i.push("".concat(RA(a),": ").concat((t=a,(e=o)==null||typeof e=="boolean"||e===""?"":typeof e!="number"||e===0||t in LO||t.startsWith("--")?String(e).trim():"".concat(e,"px")),";")))}return i};function qu(n,t,e,i){if(g4(n))return[];if(KT(n))return[".".concat(n.styledComponentId)];if(qp(n)){if(!qp(o=n)||o.prototype&&o.prototype.isReactComponent||!t)return[n];var a=n(t);return qu(a,t,e,i)}var o;return n instanceof cz?e?(n.inject(e,i),[n.getName(i)]):[n]:Pg(n)?x4(n):Array.isArray(n)?Array.prototype.concat.apply(o_,n.map(function(c){return qu(c,t,e,i)})):[n.toString()]}function y4(n){for(var t=0;t<n.length;t+=1){var e=n[t];if(qp(e)&&!KT(e))return!1}return!0}var dz=o4(s_),hz=function(){function n(t,e,i){this.rules=t,this.staticRulesId="",this.isStatic=(i===void 0||i.isStatic)&&y4(t),this.componentId=e,this.baseHash=Up(dz,e),this.baseStyle=i,ib.registerId(e)}return n.prototype.generateAndInjectStyles=function(t,e,i){var a=this.baseStyle?this.baseStyle.generateAndInjectStyles(t,e,i):"";if(this.isStatic&&!i.hash)if(this.staticRulesId&&e.hasNameForId(this.componentId,this.staticRulesId))a=Th(a,this.staticRulesId);else{var o=eT(qu(this.rules,t,e,i)),c=tT(Up(this.baseHash,o)>>>0);if(!e.hasNameForId(this.componentId,c)){var h=i(o,".".concat(c),void 0,this.componentId);e.insertRules(this.componentId,c,h)}a=Th(a,c),this.staticRulesId=c}else{for(var p=Up(this.baseHash,i.hash),m="",y=0;y<this.rules.length;y++){var v=this.rules[y];if(typeof v=="string")m+=v;else if(v){var b=eT(qu(v,t,e,i));p=Up(p,b+y),m+=b}}if(m){var M=tT(p>>>0);e.hasNameForId(this.componentId,M)||e.insertRules(this.componentId,M,i(m,".".concat(M),void 0,this.componentId)),a=Th(a,M)}}return a},n}(),JT=Er.createContext(void 0);JT.Consumer;var IS={};function fz(n,t,e){var i=KT(n),a=n,o=!BS(n),c=t.attrs,h=c===void 0?o_:c,p=t.componentId,m=p===void 0?function(N,B){var P=typeof N!="string"?"sc":SA(N);IS[P]=(IS[P]||0)+1;var H="".concat(P,"-").concat(l4(s_+P+IS[P]));return B?"".concat(B,"-").concat(H):H}(t.displayName,t.parentComponentId):p,y=t.displayName,v=y===void 0?function(N){return BS(N)?"styled.".concat(N):"Styled(".concat(IO(N),")")}(n):y,b=t.displayName&&t.componentId?"".concat(SA(t.displayName),"-").concat(t.componentId):t.componentId||m,M=i&&a.attrs?a.attrs.concat(h).filter(Boolean):h,E=t.shouldForwardProp;if(i&&a.shouldForwardProp){var R=a.shouldForwardProp;if(t.shouldForwardProp){var C=t.shouldForwardProp;E=function(N,B){return R(N,B)&&C(N,B)}}else E=R}var T=new hz(e,b,i?a.componentStyle:void 0);function D(N,B){return function(P,H,k){var I=P.attrs,z=P.componentStyle,K=P.defaultProps,ft=P.foldedComponentIds,st=P.styledComponentId,xt=P.target,bt=Er.useContext(JT),F=aT(),Z=P.shouldForwardProp||F.shouldForwardProp,Q=a4(H,bt,K)||Xp,ut=function(Rt,Pt,Wt){for(var $t,we=Ja(Ja({},Pt),{className:void 0,theme:Wt}),ve=0;ve<Rt.length;ve+=1){var Pe=qp($t=Rt[ve])?$t(we):$t;for(var Ne in Pe)we[Ne]=Ne==="className"?Th(we[Ne],Pe[Ne]):Ne==="style"?Ja(Ja({},we[Ne]),Pe[Ne]):Pe[Ne]}return Pt.className&&(we.className=Th(we.className,Pt.className)),we}(I,H,Q),q=ut.as||xt,it={};for(var St in ut)ut[St]===void 0||St[0]==="$"||St==="as"||St==="theme"&&ut.theme===Q||(St==="forwardedAs"?it.as=ut.forwardedAs:Z&&!Z(St,q)||(it[St]=ut[St]));var Lt=function(Rt,Pt){var Wt=aT(),$t=Rt.generateAndInjectStyles(Pt,Wt.styleSheet,Wt.stylis);return $t}(z,ut),rt=Th(ft,st);return Lt&&(rt+=" "+Lt),ut.className&&(rt+=" "+ut.className),it[BS(q)&&!r4.has(q)?"class":"className"]=rt,k&&(it.ref=k),vt.createElement(q,it)}(j,N,B)}D.displayName=v;var j=Er.forwardRef(D);return j.attrs=M,j.componentStyle=T,j.displayName=v,j.shouldForwardProp=E,j.foldedComponentIds=i?Th(a.foldedComponentIds,a.styledComponentId):"",j.styledComponentId=b,j.target=i?a.target:n,Object.defineProperty(j,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(N){this._foldedDefaultProps=i?function(B){for(var P=[],H=1;H<arguments.length;H++)P[H-1]=arguments[H];for(var k=0,I=P;k<I.length;k++)nT(B,I[k],!0);return B}({},a.defaultProps,N):N}}),QT(j,function(){return".".concat(j.styledComponentId)}),o&&h4(j,n,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),j}function DA(n,t){for(var e=[n[0]],i=0,a=t.length;i<a;i+=1)e.push(t[i],n[i+1]);return e}var UA=function(n){return Object.assign(n,{isCss:!0})};function v4(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];if(qp(n)||Pg(n))return UA(qu(DA(o_,zg([n],t,!0))));var i=n;return t.length===0&&i.length===1&&typeof i[0]=="string"?qu(i):UA(qu(DA(i,t)))}function rT(n,t,e){if(e===void 0&&(e=Xp),!t)throw hx(1,t);var i=function(a){for(var o=[],c=1;c<arguments.length;c++)o[c-1]=arguments[c];return n(t,e,v4.apply(void 0,zg([a],o,!1)))};return i.attrs=function(a){return rT(n,t,Ja(Ja({},e),{attrs:Array.prototype.concat(e.attrs,a).filter(Boolean)}))},i.withConfig=function(a){return rT(n,t,Ja(Ja({},e),a))},i}var b4=function(n){return rT(fz,n)},L=b4;r4.forEach(function(n){L[n]=b4(n)});var pz=function(){function n(t,e){this.rules=t,this.componentId=e,this.isStatic=y4(t),ib.registerId(this.componentId+1)}return n.prototype.createStyles=function(t,e,i,a){var o=a(eT(qu(this.rules,e,i,a)),""),c=this.componentId+t;i.insertRules(c,c,o)},n.prototype.removeStyles=function(t,e){e.clearRules(this.componentId+t)},n.prototype.renderStyles=function(t,e,i,a){t>2&&ib.registerId(this.componentId+t),this.removeStyles(t,i),this.createStyles(t,e,i,a)},n}();function _4(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var i=v4.apply(void 0,zg([n],t,!1)),a="sc-global-".concat(l4(JSON.stringify(i))),o=new pz(i,a),c=function(p){var m=aT(),y=Er.useContext(JT),v=Er.useRef(m.styleSheet.allocateGSInstance(a)).current;return m.styleSheet.server&&h(v,p,m.styleSheet,y,m.stylis),Er.useLayoutEffect(function(){if(!m.styleSheet.server)return h(v,p,m.styleSheet,y,m.stylis),function(){return o.removeStyles(v,m.styleSheet)}},[v,p,m.styleSheet,y,m.stylis]),null};function h(p,m,y,v,b){if(o.isStatic)o.renderStyles(p,OO,y,b);else{var M=Ja(Ja({},m),{theme:a4(m,v,c.defaultProps)});o.renderStyles(p,M,y,b)}}return Er.memo(c)}/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const l_="175",yh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},vh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},S4=0,sT=1,M4=2,mz=3,T4=0,c_=1,_g=2,Do=3,wc=0,Ar=1,wl=2,Tc=0,Uh=1,ab=2,oT=3,lT=4,E4=5,ku=100,w4=101,A4=102,C4=103,R4=104,D4=200,U4=201,j4=202,L4=203,rb=204,sb=205,N4=206,O4=207,z4=208,P4=209,B4=210,I4=211,F4=212,V4=213,H4=214,ob=0,lb=1,cb=2,zh=3,ub=4,db=5,hb=6,fb=7,fx=0,k4=1,G4=2,Cl=0,X4=1,q4=2,Y4=3,$T=4,W4=5,Z4=6,K4=7,cT="attached",Q4="detached",u_=300,Ac=301,Wu=302,Bg=303,Ig=304,om=306,Fg=1e3,Ys=1001,Vg=1002,za=1003,tE=1004,gz=1004,jp=1005,xz=1005,ua=1006,Sg=1007,yz=1007,Al=1008,vz=1008,No=1009,eE=1010,nE=1011,Yp=1012,d_=1013,Cc=1014,Kr=1015,lm=1016,h_=1017,f_=1018,Wp=1020,iE=35902,aE=1021,rE=1022,$a=1023,sE=1024,oE=1025,Zp=1026,Kp=1027,p_=1028,px=1029,lE=1030,m_=1031,bz=1032,g_=1033,Mg=33776,Tg=33777,Eg=33778,wg=33779,pb=35840,mb=35841,gb=35842,xb=35843,yb=36196,vb=37492,bb=37496,_b=37808,Sb=37809,Mb=37810,Tb=37811,Eb=37812,wb=37813,Ab=37814,Cb=37815,Rb=37816,Db=37817,Ub=37818,jb=37819,Lb=37820,Nb=37821,Ag=36492,Ob=36494,zb=36495,cE=36283,Pb=36284,Bb=36285,Ib=36286,J4=2200,$4=2201,tU=2202,Hg=2300,Fb=2301,X1=2302,Eh=2400,wh=2401,kg=2402,x_=2500,uE=2501,_z=0,Sz=1,Mz=2,eU=3200,nU=3201,Tz=3202,Ez=3203,$u=0,iU=1,_c="",Qa="srgb",Zu="srgb-linear",Gg="linear",Xn="srgb",wz=0,bh=7680,Az=7681,Cz=7682,Rz=7683,Dz=34055,Uz=34056,jz=5386,Lz=512,Nz=513,Oz=514,zz=515,Pz=516,Bz=517,Iz=518,uT=519,aU=512,rU=513,sU=514,dE=515,oU=516,lU=517,cU=518,uU=519,Xg=35044,jh=35048,Fz=35040,Vz=35045,Hz=35049,kz=35041,Gz=35046,Xz=35050,qz=35042,Yz="100",dT="300 es",jo=2e3,qg=2001,Wz={COMPUTE:"compute",RENDER:"render"};let zl=class{addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){const i=this._listeners;return i===void 0?!1:i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){const i=this._listeners;if(i===void 0)return;const a=i[t];if(a!==void 0){const o=a.indexOf(e);o!==-1&&a.splice(o,1)}}dispatchEvent(t){const e=this._listeners;if(e===void 0)return;const i=e[t.type];if(i!==void 0){t.target=this;const a=i.slice(0);for(let o=0,c=a.length;o<c;o++)a[o].call(this,t);t.target=null}}};const Ya=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let jA=1234567;const Lh=Math.PI/180,Qp=180/Math.PI;function vs(){const n=Math.random()*4294967295|0,t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Ya[n&255]+Ya[n>>8&255]+Ya[n>>16&255]+Ya[n>>24&255]+"-"+Ya[t&255]+Ya[t>>8&255]+"-"+Ya[t>>16&15|64]+Ya[t>>24&255]+"-"+Ya[e&63|128]+Ya[e>>8&255]+"-"+Ya[e>>16&255]+Ya[e>>24&255]+Ya[i&255]+Ya[i>>8&255]+Ya[i>>16&255]+Ya[i>>24&255]).toLowerCase()}function Ye(n,t,e){return Math.max(t,Math.min(e,n))}function hE(n,t){return(n%t+t)%t}function Zz(n,t,e,i,a){return i+(n-t)*(a-i)/(e-t)}function Kz(n,t,e){return n!==t?(e-n)/(t-n):0}function Cg(n,t,e){return(1-e)*n+e*t}function Qz(n,t,e,i){return Cg(n,t,1-Math.exp(-e*i))}function Jz(n,t=1){return t-Math.abs(hE(n,t*2)-t)}function $z(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*(3-2*n))}function tP(n,t,e){return n<=t?0:n>=e?1:(n=(n-t)/(e-t),n*n*n*(n*(n*6-15)+10))}function eP(n,t){return n+Math.floor(Math.random()*(t-n+1))}function nP(n,t){return n+Math.random()*(t-n)}function iP(n){return n*(.5-Math.random())}function aP(n){n!==void 0&&(jA=n);let t=jA+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function rP(n){return n*Lh}function sP(n){return n*Qp}function oP(n){return(n&n-1)===0&&n!==0}function lP(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function cP(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function uP(n,t,e,i,a){const o=Math.cos,c=Math.sin,h=o(e/2),p=c(e/2),m=o((t+i)/2),y=c((t+i)/2),v=o((t-i)/2),b=c((t-i)/2),M=o((i-t)/2),E=c((i-t)/2);switch(a){case"XYX":n.set(h*y,p*v,p*b,h*m);break;case"YZY":n.set(p*b,h*y,p*v,h*m);break;case"ZXZ":n.set(p*v,p*b,h*y,h*m);break;case"XZX":n.set(h*y,p*E,p*M,h*m);break;case"YXY":n.set(p*M,h*y,p*E,h*m);break;case"ZYZ":n.set(p*E,p*M,h*y,h*m);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+a)}}function Tr(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function $e(n,t){switch(t.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const dP={DEG2RAD:Lh,RAD2DEG:Qp,generateUUID:vs,clamp:Ye,euclideanModulo:hE,mapLinear:Zz,inverseLerp:Kz,lerp:Cg,damp:Qz,pingpong:Jz,smoothstep:$z,smootherstep:tP,randInt:eP,randFloat:nP,randFloatSpread:iP,seededRandom:aP,degToRad:rP,radToDeg:sP,isPowerOfTwo:oP,ceilPowerOfTwo:lP,floorPowerOfTwo:cP,setQuaternionFromProperEuler:uP,normalize:$e,denormalize:Tr};class Gt{constructor(t=0,e=0){Gt.prototype.isVector2=!0,this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,a=t.elements;return this.x=a[0]*e+a[3]*i+a[6],this.y=a[1]*e+a[4]*i+a[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ye(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),a=Math.sin(e),o=this.x-t.x,c=this.y-t.y;return this.x=o*i-c*a+t.x,this.y=o*a+c*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ke{constructor(t,e,i,a,o,c,h,p,m){Ke.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],t!==void 0&&this.set(t,e,i,a,o,c,h,p,m)}set(t,e,i,a,o,c,h,p,m){const y=this.elements;return y[0]=t,y[1]=a,y[2]=h,y[3]=e,y[4]=o,y[5]=p,y[6]=i,y[7]=c,y[8]=m,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,a=e.elements,o=this.elements,c=i[0],h=i[3],p=i[6],m=i[1],y=i[4],v=i[7],b=i[2],M=i[5],E=i[8],R=a[0],C=a[3],T=a[6],D=a[1],j=a[4],N=a[7],B=a[2],P=a[5],H=a[8];return o[0]=c*R+h*D+p*B,o[3]=c*C+h*j+p*P,o[6]=c*T+h*N+p*H,o[1]=m*R+y*D+v*B,o[4]=m*C+y*j+v*P,o[7]=m*T+y*N+v*H,o[2]=b*R+M*D+E*B,o[5]=b*C+M*j+E*P,o[8]=b*T+M*N+E*H,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],c=t[4],h=t[5],p=t[6],m=t[7],y=t[8];return e*c*y-e*h*m-i*o*y+i*h*p+a*o*m-a*c*p}invert(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],c=t[4],h=t[5],p=t[6],m=t[7],y=t[8],v=y*c-h*m,b=h*p-y*o,M=m*o-c*p,E=e*v+i*b+a*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0);const R=1/E;return t[0]=v*R,t[1]=(a*m-y*i)*R,t[2]=(h*i-a*c)*R,t[3]=b*R,t[4]=(y*e-a*p)*R,t[5]=(a*o-h*e)*R,t[6]=M*R,t[7]=(i*p-m*e)*R,t[8]=(c*e-i*o)*R,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,a,o,c,h){const p=Math.cos(o),m=Math.sin(o);return this.set(i*p,i*m,-i*(p*c+m*h)+c+t,-a*m,a*p,-a*(-m*c+p*h)+h+e,0,0,1),this}scale(t,e){return this.premultiply(FS.makeScale(t,e)),this}rotate(t){return this.premultiply(FS.makeRotation(-t)),this}translate(t,e){return this.premultiply(FS.makeTranslation(t,e)),this}makeTranslation(t,e){return t.isVector2?this.set(1,0,t.x,0,1,t.y,0,0,1):this.set(1,0,t,0,1,e,0,0,1),this}makeRotation(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,i,e,0,0,0,1),this}makeScale(t,e){return this.set(t,0,0,0,e,0,0,0,1),this}equals(t){const e=this.elements,i=t.elements;for(let a=0;a<9;a++)if(e[a]!==i[a])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}clone(){return new this.constructor().fromArray(this.elements)}}const FS=new Ke;function dU(n){for(let t=n.length-1;t>=0;--t)if(n[t]>=65535)return!0;return!1}const hP={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lp(n,t){return new hP[n](t)}function Yg(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function hU(){const n=Yg("canvas");return n.style.display="block",n}const LA={};function q1(n){n in LA||(LA[n]=!0,console.warn(n))}function fP(n,t,e){return new Promise(function(i,a){function o(){switch(n.clientWaitSync(t,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:a();break;case n.TIMEOUT_EXPIRED:setTimeout(o,e);break;default:i()}}setTimeout(o,e)})}function pP(n){const t=n.elements;t[2]=.5*t[2]+.5*t[3],t[6]=.5*t[6]+.5*t[7],t[10]=.5*t[10]+.5*t[11],t[14]=.5*t[14]+.5*t[15]}function mP(n){const t=n.elements;t[11]===-1?(t[10]=-t[10]-1,t[14]=-t[14]):(t[10]=-t[10],t[14]=-t[14]+1)}const NA=new Ke().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),OA=new Ke().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function gP(){const n={enabled:!0,workingColorSpace:Zu,spaces:{},convert:function(a,o,c){return this.enabled===!1||o===c||!o||!c||(this.spaces[o].transfer===Xn&&(a.r=Ec(a.r),a.g=Ec(a.g),a.b=Ec(a.b)),this.spaces[o].primaries!==this.spaces[c].primaries&&(a.applyMatrix3(this.spaces[o].toXYZ),a.applyMatrix3(this.spaces[c].fromXYZ)),this.spaces[c].transfer===Xn&&(a.r=Vp(a.r),a.g=Vp(a.g),a.b=Vp(a.b))),a},fromWorkingColorSpace:function(a,o){return this.convert(a,this.workingColorSpace,o)},toWorkingColorSpace:function(a,o){return this.convert(a,o,this.workingColorSpace)},getPrimaries:function(a){return this.spaces[a].primaries},getTransfer:function(a){return a===_c?Gg:this.spaces[a].transfer},getLuminanceCoefficients:function(a,o=this.workingColorSpace){return a.fromArray(this.spaces[o].luminanceCoefficients)},define:function(a){Object.assign(this.spaces,a)},_getMatrix:function(a,o,c){return a.copy(this.spaces[o].toXYZ).multiply(this.spaces[c].fromXYZ)},_getDrawingBufferColorSpace:function(a){return this.spaces[a].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(a=this.workingColorSpace){return this.spaces[a].workingColorSpaceConfig.unpackColorSpace}},t=[.64,.33,.3,.6,.15,.06],e=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[Zu]:{primaries:t,whitePoint:i,transfer:Gg,toXYZ:NA,fromXYZ:OA,luminanceCoefficients:e,workingColorSpaceConfig:{unpackColorSpace:Qa},outputColorSpaceConfig:{drawingBufferColorSpace:Qa}},[Qa]:{primaries:t,whitePoint:i,transfer:Xn,toXYZ:NA,fromXYZ:OA,luminanceCoefficients:e,outputColorSpaceConfig:{drawingBufferColorSpace:Qa}}}),n}const _n=gP();function Ec(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function Vp(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let Zf;class fU{static getDataURL(t,e="image/png"){if(/^data:/i.test(t.src)||typeof HTMLCanvasElement>"u")return t.src;let i;if(t instanceof HTMLCanvasElement)i=t;else{Zf===void 0&&(Zf=Yg("canvas")),Zf.width=t.width,Zf.height=t.height;const a=Zf.getContext("2d");t instanceof ImageData?a.putImageData(t,0,0):a.drawImage(t,0,0,t.width,t.height),i=Zf}return i.toDataURL(e)}static sRGBToLinear(t){if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap){const e=Yg("canvas");e.width=t.width,e.height=t.height;const i=e.getContext("2d");i.drawImage(t,0,0,t.width,t.height);const a=i.getImageData(0,0,t.width,t.height),o=a.data;for(let c=0;c<o.length;c++)o[c]=Ec(o[c]/255)*255;return i.putImageData(a,0,0),e}else if(t.data){const e=t.data.slice(0);for(let i=0;i<e.length;i++)e instanceof Uint8Array||e instanceof Uint8ClampedArray?e[i]=Math.floor(Ec(e[i]/255)*255):e[i]=Ec(e[i]);return{data:e,width:t.width,height:t.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),t}}let xP=0;class Xu{constructor(t=null){this.isSource=!0,Object.defineProperty(this,"id",{value:xP++}),this.uuid=vs(),this.data=t,this.dataReady=!0,this.version=0}set needsUpdate(t){t===!0&&this.version++}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.images[this.uuid]!==void 0)return t.images[this.uuid];const i={uuid:this.uuid,url:""},a=this.data;if(a!==null){let o;if(Array.isArray(a)){o=[];for(let c=0,h=a.length;c<h;c++)a[c].isDataTexture?o.push(VS(a[c].image)):o.push(VS(a[c]))}else o=VS(a);i.url=o}return e||(t.images[this.uuid]=i),i}}function VS(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?fU.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yP=0;class Li extends zl{constructor(t=Li.DEFAULT_IMAGE,e=Li.DEFAULT_MAPPING,i=Ys,a=Ys,o=ua,c=Al,h=$a,p=No,m=Li.DEFAULT_ANISOTROPY,y=_c){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yP++}),this.uuid=vs(),this.name="",this.source=new Xu(t),this.mipmaps=[],this.mapping=e,this.channel=0,this.wrapS=i,this.wrapT=a,this.magFilter=o,this.minFilter=c,this.anisotropy=m,this.format=h,this.internalFormat=null,this.type=p,this.offset=new Gt(0,0),this.repeat=new Gt(1,1),this.center=new Gt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Ke,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=y,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.renderTarget=t.renderTarget,this.isRenderTargetTexture=t.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const e=t===void 0||typeof t=="string";if(!e&&t.textures[this.uuid]!==void 0)return t.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),e||(t.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(this.mapping!==u_)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case Fg:t.x=t.x-Math.floor(t.x);break;case Ys:t.x=t.x<0?0:1;break;case Vg:Math.abs(Math.floor(t.x)%2)===1?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x);break}if(t.y<0||t.y>1)switch(this.wrapT){case Fg:t.y=t.y-Math.floor(t.y);break;case Ys:t.y=t.y<0?0:1;break;case Vg:Math.abs(Math.floor(t.y)%2)===1?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y);break}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){t===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(t){t===!0&&this.pmremVersion++}}Li.DEFAULT_IMAGE=null;Li.DEFAULT_MAPPING=u_;Li.DEFAULT_ANISOTROPY=1;class En{constructor(t=0,e=0,i=0,a=1){En.prototype.isVector4=!0,this.x=t,this.y=e,this.z=i,this.w=a}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,a){return this.x=t,this.y=e,this.z=i,this.w=a,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w!==void 0?t.w:1,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,a=this.z,o=this.w,c=t.elements;return this.x=c[0]*e+c[4]*i+c[8]*a+c[12]*o,this.y=c[1]*e+c[5]*i+c[9]*a+c[13]*o,this.z=c[2]*e+c[6]*i+c[10]*a+c[14]*o,this.w=c[3]*e+c[7]*i+c[11]*a+c[15]*o,this}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this.w/=t.w,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,a,o;const p=t.elements,m=p[0],y=p[4],v=p[8],b=p[1],M=p[5],E=p[9],R=p[2],C=p[6],T=p[10];if(Math.abs(y-b)<.01&&Math.abs(v-R)<.01&&Math.abs(E-C)<.01){if(Math.abs(y+b)<.1&&Math.abs(v+R)<.1&&Math.abs(E+C)<.1&&Math.abs(m+M+T-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;const j=(m+1)/2,N=(M+1)/2,B=(T+1)/2,P=(y+b)/4,H=(v+R)/4,k=(E+C)/4;return j>N&&j>B?j<.01?(i=0,a=.707106781,o=.707106781):(i=Math.sqrt(j),a=P/i,o=H/i):N>B?N<.01?(i=.707106781,a=0,o=.707106781):(a=Math.sqrt(N),i=P/a,o=k/a):B<.01?(i=.707106781,a=.707106781,o=0):(o=Math.sqrt(B),i=H/o,a=k/o),this.set(i,a,o,e),this}let D=Math.sqrt((C-E)*(C-E)+(v-R)*(v-R)+(b-y)*(b-y));return Math.abs(D)<.001&&(D=1),this.x=(C-E)/D,this.y=(v-R)/D,this.z=(b-y)/D,this.w=Math.acos((m+M+T-1)/2),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this.w=e[15],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this.z=Ye(this.z,t.z,e.z),this.w=Ye(this.w,t.w,e.w),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this.z=Ye(this.z,t,e),this.w=Ye(this.w,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class y_ extends zl{constructor(t=1,e=1,i={}){super(),this.isRenderTarget=!0,this.width=t,this.height=e,this.depth=1,this.scissor=new En(0,0,t,e),this.scissorTest=!1,this.viewport=new En(0,0,t,e);const a={width:t,height:e,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:ua,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const o=new Li(a,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);o.flipY=!1,o.generateMipmaps=i.generateMipmaps,o.internalFormat=i.internalFormat,this.textures=[];const c=i.count;for(let h=0;h<c;h++)this.textures[h]=o.clone(),this.textures[h].isRenderTargetTexture=!0,this.textures[h].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(t){this.textures[0]=t}set depthTexture(t){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),t!==null&&(t.renderTarget=this),this._depthTexture=t}get depthTexture(){return this._depthTexture}setSize(t,e,i=1){if(this.width!==t||this.height!==e||this.depth!==i){this.width=t,this.height=e,this.depth=i;for(let a=0,o=this.textures.length;a<o;a++)this.textures[a].image.width=t,this.textures[a].image.height=e,this.textures[a].image.depth=i;this.dispose()}this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return new this.constructor().copy(this)}copy(t){this.width=t.width,this.height=t.height,this.depth=t.depth,this.scissor.copy(t.scissor),this.scissorTest=t.scissorTest,this.viewport.copy(t.viewport),this.textures.length=0;for(let e=0,i=t.textures.length;e<i;e++){this.textures[e]=t.textures[e].clone(),this.textures[e].isRenderTargetTexture=!0,this.textures[e].renderTarget=this;const a=Object.assign({},t.textures[e].image);this.textures[e].source=new Xu(a)}return this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.resolveDepthBuffer=t.resolveDepthBuffer,this.resolveStencilBuffer=t.resolveStencilBuffer,t.depthTexture!==null&&(this.depthTexture=t.depthTexture.clone()),this.samples=t.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Ol extends y_{constructor(t=1,e=1,i={}){super(t,e,i),this.isWebGLRenderTarget=!0}}class mx extends Li{constructor(t=null,e=1,i=1,a=1){super(null),this.isDataArrayTexture=!0,this.image={data:t,width:e,height:i,depth:a},this.magFilter=za,this.minFilter=za,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class vP extends Ol{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isWebGLArrayRenderTarget=!0,this.depth=i,this.texture=new mx(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class v_ extends Li{constructor(t=null,e=1,i=1,a=1){super(null),this.isData3DTexture=!0,this.image={data:t,width:e,height:i,depth:a},this.magFilter=za,this.minFilter=za,this.wrapR=Ys,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bP extends Ol{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isWebGL3DRenderTarget=!0,this.depth=i,this.texture=new v_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class er{constructor(t=0,e=0,i=0,a=1){this.isQuaternion=!0,this._x=t,this._y=e,this._z=i,this._w=a}static slerpFlat(t,e,i,a,o,c,h){let p=i[a+0],m=i[a+1],y=i[a+2],v=i[a+3];const b=o[c+0],M=o[c+1],E=o[c+2],R=o[c+3];if(h===0){t[e+0]=p,t[e+1]=m,t[e+2]=y,t[e+3]=v;return}if(h===1){t[e+0]=b,t[e+1]=M,t[e+2]=E,t[e+3]=R;return}if(v!==R||p!==b||m!==M||y!==E){let C=1-h;const T=p*b+m*M+y*E+v*R,D=T>=0?1:-1,j=1-T*T;if(j>Number.EPSILON){const B=Math.sqrt(j),P=Math.atan2(B,T*D);C=Math.sin(C*P)/B,h=Math.sin(h*P)/B}const N=h*D;if(p=p*C+b*N,m=m*C+M*N,y=y*C+E*N,v=v*C+R*N,C===1-h){const B=1/Math.sqrt(p*p+m*m+y*y+v*v);p*=B,m*=B,y*=B,v*=B}}t[e]=p,t[e+1]=m,t[e+2]=y,t[e+3]=v}static multiplyQuaternionsFlat(t,e,i,a,o,c){const h=i[a],p=i[a+1],m=i[a+2],y=i[a+3],v=o[c],b=o[c+1],M=o[c+2],E=o[c+3];return t[e]=h*E+y*v+p*M-m*b,t[e+1]=p*E+y*b+m*v-h*M,t[e+2]=m*E+y*M+h*b-p*v,t[e+3]=y*E-h*v-p*b-m*M,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,a){return this._x=t,this._y=e,this._z=i,this._w=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e=!0){const i=t._x,a=t._y,o=t._z,c=t._order,h=Math.cos,p=Math.sin,m=h(i/2),y=h(a/2),v=h(o/2),b=p(i/2),M=p(a/2),E=p(o/2);switch(c){case"XYZ":this._x=b*y*v+m*M*E,this._y=m*M*v-b*y*E,this._z=m*y*E+b*M*v,this._w=m*y*v-b*M*E;break;case"YXZ":this._x=b*y*v+m*M*E,this._y=m*M*v-b*y*E,this._z=m*y*E-b*M*v,this._w=m*y*v+b*M*E;break;case"ZXY":this._x=b*y*v-m*M*E,this._y=m*M*v+b*y*E,this._z=m*y*E+b*M*v,this._w=m*y*v-b*M*E;break;case"ZYX":this._x=b*y*v-m*M*E,this._y=m*M*v+b*y*E,this._z=m*y*E-b*M*v,this._w=m*y*v+b*M*E;break;case"YZX":this._x=b*y*v+m*M*E,this._y=m*M*v+b*y*E,this._z=m*y*E-b*M*v,this._w=m*y*v-b*M*E;break;case"XZY":this._x=b*y*v-m*M*E,this._y=m*M*v-b*y*E,this._z=m*y*E+b*M*v,this._w=m*y*v+b*M*E;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+c)}return e===!0&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,a=Math.sin(i);return this._x=t.x*a,this._y=t.y*a,this._z=t.z*a,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],a=e[4],o=e[8],c=e[1],h=e[5],p=e[9],m=e[2],y=e[6],v=e[10],b=i+h+v;if(b>0){const M=.5/Math.sqrt(b+1);this._w=.25/M,this._x=(y-p)*M,this._y=(o-m)*M,this._z=(c-a)*M}else if(i>h&&i>v){const M=2*Math.sqrt(1+i-h-v);this._w=(y-p)/M,this._x=.25*M,this._y=(a+c)/M,this._z=(o+m)/M}else if(h>v){const M=2*Math.sqrt(1+h-i-v);this._w=(o-m)/M,this._x=(a+c)/M,this._y=.25*M,this._z=(p+y)/M}else{const M=2*Math.sqrt(1+v-i-h);this._w=(c-a)/M,this._x=(o+m)/M,this._y=(p+y)/M,this._z=.25*M}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<Number.EPSILON?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(Ye(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(i===0)return this;const a=Math.min(1,e/i);return this.slerp(t,a),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return t===0?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t){return this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,a=t._y,o=t._z,c=t._w,h=e._x,p=e._y,m=e._z,y=e._w;return this._x=i*y+c*h+a*m-o*p,this._y=a*y+c*p+o*h-i*m,this._z=o*y+c*m+i*p-a*h,this._w=c*y-i*h-a*p-o*m,this._onChangeCallback(),this}slerp(t,e){if(e===0)return this;if(e===1)return this.copy(t);const i=this._x,a=this._y,o=this._z,c=this._w;let h=c*t._w+i*t._x+a*t._y+o*t._z;if(h<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,h=-h):this.copy(t),h>=1)return this._w=c,this._x=i,this._y=a,this._z=o,this;const p=1-h*h;if(p<=Number.EPSILON){const M=1-e;return this._w=M*c+e*this._w,this._x=M*i+e*this._x,this._y=M*a+e*this._y,this._z=M*o+e*this._z,this.normalize(),this}const m=Math.sqrt(p),y=Math.atan2(m,h),v=Math.sin((1-e)*y)/m,b=Math.sin(e*y)/m;return this._w=c*v+this._w*b,this._x=i*v+this._x*b,this._y=a*v+this._y*b,this._z=o*v+this._z*b,this._onChangeCallback(),this}slerpQuaternions(t,e,i){return this.copy(t).slerp(e,i)}random(){const t=2*Math.PI*Math.random(),e=2*Math.PI*Math.random(),i=Math.random(),a=Math.sqrt(1-i),o=Math.sqrt(i);return this.set(a*Math.sin(t),a*Math.cos(t),o*Math.sin(e),o*Math.cos(e))}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(t=0,e=0,i=0){J.prototype.isVector3=!0,this.x=t,this.y=e,this.z=i}set(t,e,i){return i===void 0&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return this.applyQuaternion(zA.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(zA.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*e+o[3]*i+o[6]*a,this.y=o[1]*e+o[4]*i+o[7]*a,this.z=o[2]*e+o[5]*i+o[8]*a,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,a=this.z,o=t.elements,c=1/(o[3]*e+o[7]*i+o[11]*a+o[15]);return this.x=(o[0]*e+o[4]*i+o[8]*a+o[12])*c,this.y=(o[1]*e+o[5]*i+o[9]*a+o[13])*c,this.z=(o[2]*e+o[6]*i+o[10]*a+o[14])*c,this}applyQuaternion(t){const e=this.x,i=this.y,a=this.z,o=t.x,c=t.y,h=t.z,p=t.w,m=2*(c*a-h*i),y=2*(h*e-o*a),v=2*(o*i-c*e);return this.x=e+p*m+c*v-h*y,this.y=i+p*y+h*m-o*v,this.z=a+p*v+o*y-c*m,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,a=this.z,o=t.elements;return this.x=o[0]*e+o[4]*i+o[8]*a,this.y=o[1]*e+o[5]*i+o[9]*a,this.z=o[2]*e+o[6]*i+o[10]*a,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Ye(this.x,t.x,e.x),this.y=Ye(this.y,t.y,e.y),this.z=Ye(this.z,t.z,e.z),this}clampScalar(t,e){return this.x=Ye(this.x,t,e),this.y=Ye(this.y,t,e),this.z=Ye(this.z,t,e),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ye(i,t,e))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,a=t.y,o=t.z,c=e.x,h=e.y,p=e.z;return this.x=a*p-o*h,this.y=o*c-i*p,this.z=i*h-a*c,this}projectOnVector(t){const e=t.lengthSq();if(e===0)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return HS.copy(this).projectOnVector(t),this.sub(HS)}reflect(t){return this.sub(HS.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(e===0)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(Ye(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,a=this.z-t.z;return e*e+i*i+a*a}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const a=Math.sin(e)*t;return this.x=a*Math.sin(i),this.y=Math.cos(e)*t,this.z=a*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),a=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=a,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,e*4)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,e*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}setFromColor(t){return this.x=t.r,this.y=t.g,this.z=t.b,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e){return this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const t=Math.random()*Math.PI*2,e=Math.random()*2-1,i=Math.sqrt(1-e*e);return this.x=i*Math.cos(t),this.y=e,this.z=i*Math.sin(t),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const HS=new J,zA=new er;class Cr{constructor(t=new J(1/0,1/0,1/0),e=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e+=3)this.expandByPoint(Mo.fromArray(t,e));return this}setFromBufferAttribute(t){this.makeEmpty();for(let e=0,i=t.count;e<i;e++)this.expandByPoint(Mo.fromBufferAttribute(t,e));return this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=Mo.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t,e=!1){return this.makeEmpty(),this.expandByObject(t,e)}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t,e=!1){t.updateWorldMatrix(!1,!1);const i=t.geometry;if(i!==void 0){const o=i.getAttribute("position");if(e===!0&&o!==void 0&&t.isInstancedMesh!==!0)for(let c=0,h=o.count;c<h;c++)t.isMesh===!0?t.getVertexPosition(c,Mo):Mo.fromBufferAttribute(o,c),Mo.applyMatrix4(t.matrixWorld),this.expandByPoint(Mo);else t.boundingBox!==void 0?(t.boundingBox===null&&t.computeBoundingBox(),iv.copy(t.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),iv.copy(i.boundingBox)),iv.applyMatrix4(t.matrixWorld),this.union(iv)}const a=t.children;for(let o=0,c=a.length;o<c;o++)this.expandByObject(a[o],e);return this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y&&t.z>=this.min.z&&t.z<=this.max.z}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y&&t.max.z>=this.min.z&&t.min.z<=this.max.z}intersectsSphere(t){return this.clampPoint(t.center,Mo),Mo.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(D0),av.subVectors(this.max,D0),Kf.subVectors(t.a,D0),Qf.subVectors(t.b,D0),Jf.subVectors(t.c,D0),Tu.subVectors(Qf,Kf),Eu.subVectors(Jf,Qf),Kd.subVectors(Kf,Jf);let e=[0,-Tu.z,Tu.y,0,-Eu.z,Eu.y,0,-Kd.z,Kd.y,Tu.z,0,-Tu.x,Eu.z,0,-Eu.x,Kd.z,0,-Kd.x,-Tu.y,Tu.x,0,-Eu.y,Eu.x,0,-Kd.y,Kd.x,0];return!kS(e,Kf,Qf,Jf,av)||(e=[1,0,0,0,1,0,0,0,1],!kS(e,Kf,Qf,Jf,av))?!1:(rv.crossVectors(Tu,Eu),e=[rv.x,rv.y,rv.z],kS(e,Kf,Qf,Jf,av))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,Mo).distanceTo(t)}getBoundingSphere(t){return this.isEmpty()?t.makeEmpty():(this.getCenter(t.center),t.radius=this.getSize(Mo).length()*.5),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()?this:(oc[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),oc[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),oc[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),oc[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),oc[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),oc[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),oc[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),oc[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(oc),this)}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const oc=[new J,new J,new J,new J,new J,new J,new J,new J],Mo=new J,iv=new Cr,Kf=new J,Qf=new J,Jf=new J,Tu=new J,Eu=new J,Kd=new J,D0=new J,av=new J,rv=new J,Qd=new J;function kS(n,t,e,i,a){for(let o=0,c=n.length-3;o<=c;o+=3){Qd.fromArray(n,o);const h=a.x*Math.abs(Qd.x)+a.y*Math.abs(Qd.y)+a.z*Math.abs(Qd.z),p=t.dot(Qd),m=e.dot(Qd),y=i.dot(Qd);if(Math.max(-Math.max(p,m,y),Math.min(p,m,y))>h)return!1}return!0}const _P=new Cr,U0=new J,GS=new J;class nr{constructor(t=new J,e=-1){this.isSphere=!0,this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;e!==void 0?i.copy(e):_P.setFromPoints(t).getCenter(i);let a=0;for(let o=0,c=t.length;o<c;o++)a=Math.max(a,i.distanceToSquared(t[o]));return this.radius=Math.sqrt(a),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){if(this.isEmpty())return this.center.copy(t),this.radius=0,this;U0.subVectors(t,this.center);const e=U0.lengthSq();if(e>this.radius*this.radius){const i=Math.sqrt(e),a=(i-this.radius)*.5;this.center.addScaledVector(U0,a/i),this.radius+=a}return this}union(t){return t.isEmpty()?this:this.isEmpty()?(this.copy(t),this):(this.center.equals(t.center)===!0?this.radius=Math.max(this.radius,t.radius):(GS.subVectors(t.center,this.center).setLength(t.radius),this.expandByPoint(U0.copy(t.center).add(GS)),this.expandByPoint(U0.copy(t.center).sub(GS))),this)}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return new this.constructor().copy(this)}}const lc=new J,XS=new J,sv=new J,wu=new J,qS=new J,ov=new J,YS=new J;class Vh{constructor(t=new J,e=new J(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.origin).addScaledVector(this.direction,t)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,lc)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=lc.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(lc.copy(this.origin).addScaledVector(this.direction,e),lc.distanceToSquared(t))}distanceSqToSegment(t,e,i,a){XS.copy(t).add(e).multiplyScalar(.5),sv.copy(e).sub(t).normalize(),wu.copy(this.origin).sub(XS);const o=t.distanceTo(e)*.5,c=-this.direction.dot(sv),h=wu.dot(this.direction),p=-wu.dot(sv),m=wu.lengthSq(),y=Math.abs(1-c*c);let v,b,M,E;if(y>0)if(v=c*p-h,b=c*h-p,E=o*y,v>=0)if(b>=-E)if(b<=E){const R=1/y;v*=R,b*=R,M=v*(v+c*b+2*h)+b*(c*v+b+2*p)+m}else b=o,v=Math.max(0,-(c*b+h)),M=-v*v+b*(b+2*p)+m;else b=-o,v=Math.max(0,-(c*b+h)),M=-v*v+b*(b+2*p)+m;else b<=-E?(v=Math.max(0,-(-c*o+h)),b=v>0?-o:Math.min(Math.max(-o,-p),o),M=-v*v+b*(b+2*p)+m):b<=E?(v=0,b=Math.min(Math.max(-o,-p),o),M=b*(b+2*p)+m):(v=Math.max(0,-(c*o+h)),b=v>0?o:Math.min(Math.max(-o,-p),o),M=-v*v+b*(b+2*p)+m);else b=c>0?-o:o,v=Math.max(0,-(c*b+h)),M=-v*v+b*(b+2*p)+m;return i&&i.copy(this.origin).addScaledVector(this.direction,v),a&&a.copy(XS).addScaledVector(sv,b),M}intersectSphere(t,e){lc.subVectors(t.center,this.origin);const i=lc.dot(this.direction),a=lc.dot(lc)-i*i,o=t.radius*t.radius;if(a>o)return null;const c=Math.sqrt(o-a),h=i-c,p=i+c;return p<0?null:h<0?this.at(p,e):this.at(h,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(e===0)return t.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return i===null?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return e===0||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,a,o,c,h,p;const m=1/this.direction.x,y=1/this.direction.y,v=1/this.direction.z,b=this.origin;return m>=0?(i=(t.min.x-b.x)*m,a=(t.max.x-b.x)*m):(i=(t.max.x-b.x)*m,a=(t.min.x-b.x)*m),y>=0?(o=(t.min.y-b.y)*y,c=(t.max.y-b.y)*y):(o=(t.max.y-b.y)*y,c=(t.min.y-b.y)*y),i>c||o>a||((o>i||isNaN(i))&&(i=o),(c<a||isNaN(a))&&(a=c),v>=0?(h=(t.min.z-b.z)*v,p=(t.max.z-b.z)*v):(h=(t.max.z-b.z)*v,p=(t.min.z-b.z)*v),i>p||h>a)||((h>i||i!==i)&&(i=h),(p<a||a!==a)&&(a=p),a<0)?null:this.at(i>=0?i:a,e)}intersectsBox(t){return this.intersectBox(t,lc)!==null}intersectTriangle(t,e,i,a,o){qS.subVectors(e,t),ov.subVectors(i,t),YS.crossVectors(qS,ov);let c=this.direction.dot(YS),h;if(c>0){if(a)return null;h=1}else if(c<0)h=-1,c=-c;else return null;wu.subVectors(this.origin,t);const p=h*this.direction.dot(ov.crossVectors(wu,ov));if(p<0)return null;const m=h*this.direction.dot(qS.cross(wu));if(m<0||p+m>c)return null;const y=-h*wu.dot(YS);return y<0?null:this.at(y/c,o)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ve{constructor(t,e,i,a,o,c,h,p,m,y,v,b,M,E,R,C){Ve.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],t!==void 0&&this.set(t,e,i,a,o,c,h,p,m,y,v,b,M,E,R,C)}set(t,e,i,a,o,c,h,p,m,y,v,b,M,E,R,C){const T=this.elements;return T[0]=t,T[4]=e,T[8]=i,T[12]=a,T[1]=o,T[5]=c,T[9]=h,T[13]=p,T[2]=m,T[6]=y,T[10]=v,T[14]=b,T[3]=M,T[7]=E,T[11]=R,T[15]=C,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ve().fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,a=1/$f.setFromMatrixColumn(t,0).length(),o=1/$f.setFromMatrixColumn(t,1).length(),c=1/$f.setFromMatrixColumn(t,2).length();return e[0]=i[0]*a,e[1]=i[1]*a,e[2]=i[2]*a,e[3]=0,e[4]=i[4]*o,e[5]=i[5]*o,e[6]=i[6]*o,e[7]=0,e[8]=i[8]*c,e[9]=i[9]*c,e[10]=i[10]*c,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){const e=this.elements,i=t.x,a=t.y,o=t.z,c=Math.cos(i),h=Math.sin(i),p=Math.cos(a),m=Math.sin(a),y=Math.cos(o),v=Math.sin(o);if(t.order==="XYZ"){const b=c*y,M=c*v,E=h*y,R=h*v;e[0]=p*y,e[4]=-p*v,e[8]=m,e[1]=M+E*m,e[5]=b-R*m,e[9]=-h*p,e[2]=R-b*m,e[6]=E+M*m,e[10]=c*p}else if(t.order==="YXZ"){const b=p*y,M=p*v,E=m*y,R=m*v;e[0]=b+R*h,e[4]=E*h-M,e[8]=c*m,e[1]=c*v,e[5]=c*y,e[9]=-h,e[2]=M*h-E,e[6]=R+b*h,e[10]=c*p}else if(t.order==="ZXY"){const b=p*y,M=p*v,E=m*y,R=m*v;e[0]=b-R*h,e[4]=-c*v,e[8]=E+M*h,e[1]=M+E*h,e[5]=c*y,e[9]=R-b*h,e[2]=-c*m,e[6]=h,e[10]=c*p}else if(t.order==="ZYX"){const b=c*y,M=c*v,E=h*y,R=h*v;e[0]=p*y,e[4]=E*m-M,e[8]=b*m+R,e[1]=p*v,e[5]=R*m+b,e[9]=M*m-E,e[2]=-m,e[6]=h*p,e[10]=c*p}else if(t.order==="YZX"){const b=c*p,M=c*m,E=h*p,R=h*m;e[0]=p*y,e[4]=R-b*v,e[8]=E*v+M,e[1]=v,e[5]=c*y,e[9]=-h*y,e[2]=-m*y,e[6]=M*v+E,e[10]=b-R*v}else if(t.order==="XZY"){const b=c*p,M=c*m,E=h*p,R=h*m;e[0]=p*y,e[4]=-v,e[8]=m*y,e[1]=b*v+R,e[5]=c*y,e[9]=M*v-E,e[2]=E*v-M,e[6]=h*y,e[10]=R*v+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(SP,t,MP)}lookAt(t,e,i){const a=this.elements;return ms.subVectors(t,e),ms.lengthSq()===0&&(ms.z=1),ms.normalize(),Au.crossVectors(i,ms),Au.lengthSq()===0&&(Math.abs(i.z)===1?ms.x+=1e-4:ms.z+=1e-4,ms.normalize(),Au.crossVectors(i,ms)),Au.normalize(),lv.crossVectors(ms,Au),a[0]=Au.x,a[4]=lv.x,a[8]=ms.x,a[1]=Au.y,a[5]=lv.y,a[9]=ms.y,a[2]=Au.z,a[6]=lv.z,a[10]=ms.z,this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,a=e.elements,o=this.elements,c=i[0],h=i[4],p=i[8],m=i[12],y=i[1],v=i[5],b=i[9],M=i[13],E=i[2],R=i[6],C=i[10],T=i[14],D=i[3],j=i[7],N=i[11],B=i[15],P=a[0],H=a[4],k=a[8],I=a[12],z=a[1],K=a[5],ft=a[9],st=a[13],xt=a[2],bt=a[6],F=a[10],Z=a[14],Q=a[3],ut=a[7],q=a[11],it=a[15];return o[0]=c*P+h*z+p*xt+m*Q,o[4]=c*H+h*K+p*bt+m*ut,o[8]=c*k+h*ft+p*F+m*q,o[12]=c*I+h*st+p*Z+m*it,o[1]=y*P+v*z+b*xt+M*Q,o[5]=y*H+v*K+b*bt+M*ut,o[9]=y*k+v*ft+b*F+M*q,o[13]=y*I+v*st+b*Z+M*it,o[2]=E*P+R*z+C*xt+T*Q,o[6]=E*H+R*K+C*bt+T*ut,o[10]=E*k+R*ft+C*F+T*q,o[14]=E*I+R*st+C*Z+T*it,o[3]=D*P+j*z+N*xt+B*Q,o[7]=D*H+j*K+N*bt+B*ut,o[11]=D*k+j*ft+N*F+B*q,o[15]=D*I+j*st+N*Z+B*it,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],a=t[8],o=t[12],c=t[1],h=t[5],p=t[9],m=t[13],y=t[2],v=t[6],b=t[10],M=t[14],E=t[3],R=t[7],C=t[11],T=t[15];return E*(+o*p*v-a*m*v-o*h*b+i*m*b+a*h*M-i*p*M)+R*(+e*p*M-e*m*b+o*c*b-a*c*M+a*m*y-o*p*y)+C*(+e*m*v-e*h*M-o*c*v+i*c*M+o*h*y-i*m*y)+T*(-a*h*y-e*p*v+e*h*b+a*c*v-i*c*b+i*p*y)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const a=this.elements;return t.isVector3?(a[12]=t.x,a[13]=t.y,a[14]=t.z):(a[12]=t,a[13]=e,a[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],a=t[2],o=t[3],c=t[4],h=t[5],p=t[6],m=t[7],y=t[8],v=t[9],b=t[10],M=t[11],E=t[12],R=t[13],C=t[14],T=t[15],D=v*C*m-R*b*m+R*p*M-h*C*M-v*p*T+h*b*T,j=E*b*m-y*C*m-E*p*M+c*C*M+y*p*T-c*b*T,N=y*R*m-E*v*m+E*h*M-c*R*M-y*h*T+c*v*T,B=E*v*p-y*R*p-E*h*b+c*R*b+y*h*C-c*v*C,P=e*D+i*j+a*N+o*B;if(P===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const H=1/P;return t[0]=D*H,t[1]=(R*b*o-v*C*o-R*a*M+i*C*M+v*a*T-i*b*T)*H,t[2]=(h*C*o-R*p*o+R*a*m-i*C*m-h*a*T+i*p*T)*H,t[3]=(v*p*o-h*b*o-v*a*m+i*b*m+h*a*M-i*p*M)*H,t[4]=j*H,t[5]=(y*C*o-E*b*o+E*a*M-e*C*M-y*a*T+e*b*T)*H,t[6]=(E*p*o-c*C*o-E*a*m+e*C*m+c*a*T-e*p*T)*H,t[7]=(c*b*o-y*p*o+y*a*m-e*b*m-c*a*M+e*p*M)*H,t[8]=N*H,t[9]=(E*v*o-y*R*o-E*i*M+e*R*M+y*i*T-e*v*T)*H,t[10]=(c*R*o-E*h*o+E*i*m-e*R*m-c*i*T+e*h*T)*H,t[11]=(y*h*o-c*v*o-y*i*m+e*v*m+c*i*M-e*h*M)*H,t[12]=B*H,t[13]=(y*R*a-E*v*a+E*i*b-e*R*b-y*i*C+e*v*C)*H,t[14]=(E*h*a-c*R*a-E*i*p+e*R*p+c*i*C-e*h*C)*H,t[15]=(c*v*a-y*h*a+y*i*p-e*v*p-c*i*b+e*h*b)*H,this}scale(t){const e=this.elements,i=t.x,a=t.y,o=t.z;return e[0]*=i,e[4]*=a,e[8]*=o,e[1]*=i,e[5]*=a,e[9]*=o,e[2]*=i,e[6]*=a,e[10]*=o,e[3]*=i,e[7]*=a,e[11]*=o,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],a=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,a))}makeTranslation(t,e,i){return t.isVector3?this.set(1,0,0,t.x,0,1,0,t.y,0,0,1,t.z,0,0,0,1):this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),a=Math.sin(e),o=1-i,c=t.x,h=t.y,p=t.z,m=o*c,y=o*h;return this.set(m*c+i,m*h-a*p,m*p+a*h,0,m*h+a*p,y*h+i,y*p-a*c,0,m*p-a*h,y*p+a*c,o*p*p+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i,a,o,c){return this.set(1,i,o,0,t,1,c,0,e,a,1,0,0,0,0,1),this}compose(t,e,i){const a=this.elements,o=e._x,c=e._y,h=e._z,p=e._w,m=o+o,y=c+c,v=h+h,b=o*m,M=o*y,E=o*v,R=c*y,C=c*v,T=h*v,D=p*m,j=p*y,N=p*v,B=i.x,P=i.y,H=i.z;return a[0]=(1-(R+T))*B,a[1]=(M+N)*B,a[2]=(E-j)*B,a[3]=0,a[4]=(M-N)*P,a[5]=(1-(b+T))*P,a[6]=(C+D)*P,a[7]=0,a[8]=(E+j)*H,a[9]=(C-D)*H,a[10]=(1-(b+R))*H,a[11]=0,a[12]=t.x,a[13]=t.y,a[14]=t.z,a[15]=1,this}decompose(t,e,i){const a=this.elements;let o=$f.set(a[0],a[1],a[2]).length();const c=$f.set(a[4],a[5],a[6]).length(),h=$f.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),t.x=a[12],t.y=a[13],t.z=a[14],To.copy(this);const m=1/o,y=1/c,v=1/h;return To.elements[0]*=m,To.elements[1]*=m,To.elements[2]*=m,To.elements[4]*=y,To.elements[5]*=y,To.elements[6]*=y,To.elements[8]*=v,To.elements[9]*=v,To.elements[10]*=v,e.setFromRotationMatrix(To),i.x=o,i.y=c,i.z=h,this}makePerspective(t,e,i,a,o,c,h=jo){const p=this.elements,m=2*o/(e-t),y=2*o/(i-a),v=(e+t)/(e-t),b=(i+a)/(i-a);let M,E;if(h===jo)M=-(c+o)/(c-o),E=-2*c*o/(c-o);else if(h===qg)M=-c/(c-o),E=-c*o/(c-o);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+h);return p[0]=m,p[4]=0,p[8]=v,p[12]=0,p[1]=0,p[5]=y,p[9]=b,p[13]=0,p[2]=0,p[6]=0,p[10]=M,p[14]=E,p[3]=0,p[7]=0,p[11]=-1,p[15]=0,this}makeOrthographic(t,e,i,a,o,c,h=jo){const p=this.elements,m=1/(e-t),y=1/(i-a),v=1/(c-o),b=(e+t)*m,M=(i+a)*y;let E,R;if(h===jo)E=(c+o)*v,R=-2*v;else if(h===qg)E=o*v,R=-1*v;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+h);return p[0]=2*m,p[4]=0,p[8]=0,p[12]=-b,p[1]=0,p[5]=2*y,p[9]=0,p[13]=-M,p[2]=0,p[6]=0,p[10]=R,p[14]=-E,p[3]=0,p[7]=0,p[11]=0,p[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let a=0;a<16;a++)if(e[a]!==i[a])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const $f=new J,To=new Ve,SP=new J(0,0,0),MP=new J(1,1,1),Au=new J,lv=new J,ms=new J,PA=new Ve,BA=new er;class bs{constructor(t=0,e=0,i=0,a=bs.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=e,this._z=i,this._order=a}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,a=this._order){return this._x=t,this._y=e,this._z=i,this._order=a,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,i=!0){const a=t.elements,o=a[0],c=a[4],h=a[8],p=a[1],m=a[5],y=a[9],v=a[2],b=a[6],M=a[10];switch(e){case"XYZ":this._y=Math.asin(Ye(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(-y,M),this._z=Math.atan2(-c,o)):(this._x=Math.atan2(b,m),this._z=0);break;case"YXZ":this._x=Math.asin(-Ye(y,-1,1)),Math.abs(y)<.9999999?(this._y=Math.atan2(h,M),this._z=Math.atan2(p,m)):(this._y=Math.atan2(-v,o),this._z=0);break;case"ZXY":this._x=Math.asin(Ye(b,-1,1)),Math.abs(b)<.9999999?(this._y=Math.atan2(-v,M),this._z=Math.atan2(-c,m)):(this._y=0,this._z=Math.atan2(p,o));break;case"ZYX":this._y=Math.asin(-Ye(v,-1,1)),Math.abs(v)<.9999999?(this._x=Math.atan2(b,M),this._z=Math.atan2(p,o)):(this._x=0,this._z=Math.atan2(-c,m));break;case"YZX":this._z=Math.asin(Ye(p,-1,1)),Math.abs(p)<.9999999?(this._x=Math.atan2(-y,m),this._y=Math.atan2(-v,o)):(this._x=0,this._y=Math.atan2(h,M));break;case"XZY":this._z=Math.asin(-Ye(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(b,m),this._y=Math.atan2(h,o)):(this._x=Math.atan2(-y,M),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,i===!0&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return PA.makeRotationFromQuaternion(t),this.setFromRotationMatrix(PA,e,i)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return BA.setFromEuler(this),this.setFromQuaternion(BA,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],t[3]!==void 0&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}bs.DEFAULT_ORDER="XYZ";class Jp{constructor(){this.mask=1}set(t){this.mask=(1<<t|0)>>>0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return(this.mask&t.mask)!==0}isEnabled(t){return(this.mask&(1<<t|0))!==0}}let TP=0;const IA=new J,tp=new er,cc=new Ve,cv=new J,j0=new J,EP=new J,wP=new er,FA=new J(1,0,0),VA=new J(0,1,0),HA=new J(0,0,1),kA={type:"added"},AP={type:"removed"},ep={type:"childadded",child:null},WS={type:"childremoved",child:null};class wn extends zl{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:TP++}),this.uuid=vs(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wn.DEFAULT_UP.clone();const t=new J,e=new bs,i=new er,a=new J(1,1,1);function o(){i.setFromEuler(e,!1)}function c(){e.setFromQuaternion(i,void 0,!1)}e._onChange(o),i._onChange(c),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:a},modelViewMatrix:{value:new Ve},normalMatrix:{value:new Ke}}),this.matrix=new Ve,this.matrixWorld=new Ve,this.matrixAutoUpdate=wn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jp,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return tp.setFromAxisAngle(t,e),this.quaternion.multiply(tp),this}rotateOnWorldAxis(t,e){return tp.setFromAxisAngle(t,e),this.quaternion.premultiply(tp),this}rotateX(t){return this.rotateOnAxis(FA,t)}rotateY(t){return this.rotateOnAxis(VA,t)}rotateZ(t){return this.rotateOnAxis(HA,t)}translateOnAxis(t,e){return IA.copy(t).applyQuaternion(this.quaternion),this.position.add(IA.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(FA,t)}translateY(t){return this.translateOnAxis(VA,t)}translateZ(t){return this.translateOnAxis(HA,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(cc.copy(this.matrixWorld).invert())}lookAt(t,e,i){t.isVector3?cv.copy(t):cv.set(t,e,i);const a=this.parent;this.updateWorldMatrix(!0,!1),j0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?cc.lookAt(j0,cv,this.up):cc.lookAt(cv,j0,this.up),this.quaternion.setFromRotationMatrix(cc),a&&(cc.extractRotation(a.matrixWorld),tp.setFromRotationMatrix(cc),this.quaternion.premultiply(tp.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(t.removeFromParent(),t.parent=this,this.children.push(t),t.dispatchEvent(kA),ep.child=t,this.dispatchEvent(ep),ep.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const e=this.children.indexOf(t);return e!==-1&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(AP),WS.child=t,this.dispatchEvent(WS),WS.child=null),this}removeFromParent(){const t=this.parent;return t!==null&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),cc.copy(this.matrixWorld).invert(),t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),cc.multiply(t.parent.matrixWorld)),t.applyMatrix4(cc),t.removeFromParent(),t.parent=this,this.children.push(t),t.updateWorldMatrix(!1,!0),t.dispatchEvent(kA),ep.child=t,this.dispatchEvent(ep),ep.child=null,this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let i=0,a=this.children.length;i<a;i++){const c=this.children[i].getObjectByProperty(t,e);if(c!==void 0)return c}}getObjectsByProperty(t,e,i=[]){this[t]===e&&i.push(this);const a=this.children;for(let o=0,c=a.length;o<c;o++)a[o].getObjectsByProperty(t,e,i);return i}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(j0,t,EP),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(j0,wP,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let i=0,a=e.length;i<a;i++)e[i].traverse(t)}traverseVisible(t){if(this.visible===!1)return;t(this);const e=this.children;for(let i=0,a=e.length;i<a;i++)e[i].traverseVisible(t)}traverseAncestors(t){const e=this.parent;e!==null&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,a=e.length;i<a;i++)e[i].updateMatrixWorld(t)}updateWorldMatrix(t,e){const i=this.parent;if(t===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),e===!0){const a=this.children;for(let o=0,c=a.length;o<c;o++)a[o].updateWorldMatrix(!1,!0)}}toJSON(t){const e=t===void 0||typeof t=="string",i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const a={};a.uuid=this.uuid,a.type=this.type,this.name!==""&&(a.name=this.name),this.castShadow===!0&&(a.castShadow=!0),this.receiveShadow===!0&&(a.receiveShadow=!0),this.visible===!1&&(a.visible=!1),this.frustumCulled===!1&&(a.frustumCulled=!1),this.renderOrder!==0&&(a.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(a.userData=this.userData),a.layers=this.layers.mask,a.matrix=this.matrix.toArray(),a.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(a.matrixAutoUpdate=!1),this.isInstancedMesh&&(a.type="InstancedMesh",a.count=this.count,a.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(a.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(a.type="BatchedMesh",a.perObjectFrustumCulled=this.perObjectFrustumCulled,a.sortObjects=this.sortObjects,a.drawRanges=this._drawRanges,a.reservedRanges=this._reservedRanges,a.visibility=this._visibility,a.active=this._active,a.bounds=this._bounds.map(h=>({boxInitialized:h.boxInitialized,boxMin:h.box.min.toArray(),boxMax:h.box.max.toArray(),sphereInitialized:h.sphereInitialized,sphereRadius:h.sphere.radius,sphereCenter:h.sphere.center.toArray()})),a.maxInstanceCount=this._maxInstanceCount,a.maxVertexCount=this._maxVertexCount,a.maxIndexCount=this._maxIndexCount,a.geometryInitialized=this._geometryInitialized,a.geometryCount=this._geometryCount,a.matricesTexture=this._matricesTexture.toJSON(t),this._colorsTexture!==null&&(a.colorsTexture=this._colorsTexture.toJSON(t)),this.boundingSphere!==null&&(a.boundingSphere={center:a.boundingSphere.center.toArray(),radius:a.boundingSphere.radius}),this.boundingBox!==null&&(a.boundingBox={min:a.boundingBox.min.toArray(),max:a.boundingBox.max.toArray()}));function o(h,p){return h[p.uuid]===void 0&&(h[p.uuid]=p.toJSON(t)),p.uuid}if(this.isScene)this.background&&(this.background.isColor?a.background=this.background.toJSON():this.background.isTexture&&(a.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(a.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){a.geometry=o(t.geometries,this.geometry);const h=this.geometry.parameters;if(h!==void 0&&h.shapes!==void 0){const p=h.shapes;if(Array.isArray(p))for(let m=0,y=p.length;m<y;m++){const v=p[m];o(t.shapes,v)}else o(t.shapes,p)}}if(this.isSkinnedMesh&&(a.bindMode=this.bindMode,a.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(o(t.skeletons,this.skeleton),a.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const h=[];for(let p=0,m=this.material.length;p<m;p++)h.push(o(t.materials,this.material[p]));a.material=h}else a.material=o(t.materials,this.material);if(this.children.length>0){a.children=[];for(let h=0;h<this.children.length;h++)a.children.push(this.children[h].toJSON(t).object)}if(this.animations.length>0){a.animations=[];for(let h=0;h<this.animations.length;h++){const p=this.animations[h];a.animations.push(o(t.animations,p))}}if(e){const h=c(t.geometries),p=c(t.materials),m=c(t.textures),y=c(t.images),v=c(t.shapes),b=c(t.skeletons),M=c(t.animations),E=c(t.nodes);h.length>0&&(i.geometries=h),p.length>0&&(i.materials=p),m.length>0&&(i.textures=m),y.length>0&&(i.images=y),v.length>0&&(i.shapes=v),b.length>0&&(i.skeletons=b),M.length>0&&(i.animations=M),E.length>0&&(i.nodes=E)}return i.object=a,i;function c(h){const p=[];for(const m in h){const y=h[m];delete y.metadata,p.push(y)}return p}}clone(t){return new this.constructor().copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),e===!0)for(let i=0;i<t.children.length;i++){const a=t.children[i];this.add(a.clone())}return this}}wn.DEFAULT_UP=new J(0,1,0);wn.DEFAULT_MATRIX_AUTO_UPDATE=!0;wn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Eo=new J,uc=new J,ZS=new J,dc=new J,np=new J,ip=new J,GA=new J,KS=new J,QS=new J,JS=new J,$S=new En,tM=new En,eM=new En;class Zr{constructor(t=new J,e=new J,i=new J){this.a=t,this.b=e,this.c=i}static getNormal(t,e,i,a){a.subVectors(i,e),Eo.subVectors(t,e),a.cross(Eo);const o=a.lengthSq();return o>0?a.multiplyScalar(1/Math.sqrt(o)):a.set(0,0,0)}static getBarycoord(t,e,i,a,o){Eo.subVectors(a,e),uc.subVectors(i,e),ZS.subVectors(t,e);const c=Eo.dot(Eo),h=Eo.dot(uc),p=Eo.dot(ZS),m=uc.dot(uc),y=uc.dot(ZS),v=c*m-h*h;if(v===0)return o.set(0,0,0),null;const b=1/v,M=(m*p-h*y)*b,E=(c*y-h*p)*b;return o.set(1-M-E,E,M)}static containsPoint(t,e,i,a){return this.getBarycoord(t,e,i,a,dc)===null?!1:dc.x>=0&&dc.y>=0&&dc.x+dc.y<=1}static getInterpolation(t,e,i,a,o,c,h,p){return this.getBarycoord(t,e,i,a,dc)===null?(p.x=0,p.y=0,"z"in p&&(p.z=0),"w"in p&&(p.w=0),null):(p.setScalar(0),p.addScaledVector(o,dc.x),p.addScaledVector(c,dc.y),p.addScaledVector(h,dc.z),p)}static getInterpolatedAttribute(t,e,i,a,o,c){return $S.setScalar(0),tM.setScalar(0),eM.setScalar(0),$S.fromBufferAttribute(t,e),tM.fromBufferAttribute(t,i),eM.fromBufferAttribute(t,a),c.setScalar(0),c.addScaledVector($S,o.x),c.addScaledVector(tM,o.y),c.addScaledVector(eM,o.z),c}static isFrontFacing(t,e,i,a){return Eo.subVectors(i,e),uc.subVectors(t,e),Eo.cross(uc).dot(a)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,a){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[a]),this}setFromAttributeAndIndices(t,e,i,a){return this.a.fromBufferAttribute(t,e),this.b.fromBufferAttribute(t,i),this.c.fromBufferAttribute(t,a),this}clone(){return new this.constructor().copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Eo.subVectors(this.c,this.b),uc.subVectors(this.a,this.b),Eo.cross(uc).length()*.5}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Zr.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Zr.getBarycoord(t,this.a,this.b,this.c,e)}getInterpolation(t,e,i,a,o){return Zr.getInterpolation(t,this.a,this.b,this.c,e,i,a,o)}containsPoint(t){return Zr.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Zr.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const i=this.a,a=this.b,o=this.c;let c,h;np.subVectors(a,i),ip.subVectors(o,i),KS.subVectors(t,i);const p=np.dot(KS),m=ip.dot(KS);if(p<=0&&m<=0)return e.copy(i);QS.subVectors(t,a);const y=np.dot(QS),v=ip.dot(QS);if(y>=0&&v<=y)return e.copy(a);const b=p*v-y*m;if(b<=0&&p>=0&&y<=0)return c=p/(p-y),e.copy(i).addScaledVector(np,c);JS.subVectors(t,o);const M=np.dot(JS),E=ip.dot(JS);if(E>=0&&M<=E)return e.copy(o);const R=M*m-p*E;if(R<=0&&m>=0&&E<=0)return h=m/(m-E),e.copy(i).addScaledVector(ip,h);const C=y*E-M*v;if(C<=0&&v-y>=0&&M-E>=0)return GA.subVectors(o,a),h=(v-y)/(v-y+(M-E)),e.copy(a).addScaledVector(GA,h);const T=1/(C+R+b);return c=R*T,h=b*T,e.copy(i).addScaledVector(np,c).addScaledVector(ip,h)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const pU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Cu={h:0,s:0,l:0},uv={h:0,s:0,l:0};function nM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*6*(2/3-e):n}class he{constructor(t,e,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(t,e,i)}set(t,e,i){if(e===void 0&&i===void 0){const a=t;a&&a.isColor?this.copy(a):typeof a=="number"?this.setHex(a):typeof a=="string"&&this.setStyle(a)}else this.setRGB(t,e,i);return this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t,e=Qa){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(t&255)/255,_n.toWorkingColorSpace(this,e),this}setRGB(t,e,i,a=_n.workingColorSpace){return this.r=t,this.g=e,this.b=i,_n.toWorkingColorSpace(this,a),this}setHSL(t,e,i,a=_n.workingColorSpace){if(t=hE(t,1),e=Ye(e,0,1),i=Ye(i,0,1),e===0)this.r=this.g=this.b=i;else{const o=i<=.5?i*(1+e):i+e-i*e,c=2*i-o;this.r=nM(c,o,t+1/3),this.g=nM(c,o,t),this.b=nM(c,o,t-1/3)}return _n.toWorkingColorSpace(this,a),this}setStyle(t,e=Qa){function i(o){o!==void 0&&parseFloat(o)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let a;if(a=/^(\w+)\(([^\)]*)\)/.exec(t)){let o;const c=a[1],h=a[2];switch(c){case"rgb":case"rgba":if(o=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(255,parseInt(o[1],10))/255,Math.min(255,parseInt(o[2],10))/255,Math.min(255,parseInt(o[3],10))/255,e);if(o=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setRGB(Math.min(100,parseInt(o[1],10))/100,Math.min(100,parseInt(o[2],10))/100,Math.min(100,parseInt(o[3],10))/100,e);break;case"hsl":case"hsla":if(o=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(h))return i(o[4]),this.setHSL(parseFloat(o[1])/360,parseFloat(o[2])/100,parseFloat(o[3])/100,e);break;default:console.warn("THREE.Color: Unknown color model "+t)}}else if(a=/^\#([A-Fa-f\d]+)$/.exec(t)){const o=a[1],c=o.length;if(c===3)return this.setRGB(parseInt(o.charAt(0),16)/15,parseInt(o.charAt(1),16)/15,parseInt(o.charAt(2),16)/15,e);if(c===6)return this.setHex(parseInt(o,16),e);console.warn("THREE.Color: Invalid hex color "+t)}else if(t&&t.length>0)return this.setColorName(t,e);return this}setColorName(t,e=Qa){const i=pU[t.toLowerCase()];return i!==void 0?this.setHex(i,e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copySRGBToLinear(t){return this.r=Ec(t.r),this.g=Ec(t.g),this.b=Ec(t.b),this}copyLinearToSRGB(t){return this.r=Vp(t.r),this.g=Vp(t.g),this.b=Vp(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(t=Qa){return _n.fromWorkingColorSpace(Wa.copy(this),t),Math.round(Ye(Wa.r*255,0,255))*65536+Math.round(Ye(Wa.g*255,0,255))*256+Math.round(Ye(Wa.b*255,0,255))}getHexString(t=Qa){return("000000"+this.getHex(t).toString(16)).slice(-6)}getHSL(t,e=_n.workingColorSpace){_n.fromWorkingColorSpace(Wa.copy(this),e);const i=Wa.r,a=Wa.g,o=Wa.b,c=Math.max(i,a,o),h=Math.min(i,a,o);let p,m;const y=(h+c)/2;if(h===c)p=0,m=0;else{const v=c-h;switch(m=y<=.5?v/(c+h):v/(2-c-h),c){case i:p=(a-o)/v+(a<o?6:0);break;case a:p=(o-i)/v+2;break;case o:p=(i-a)/v+4;break}p/=6}return t.h=p,t.s=m,t.l=y,t}getRGB(t,e=_n.workingColorSpace){return _n.fromWorkingColorSpace(Wa.copy(this),e),t.r=Wa.r,t.g=Wa.g,t.b=Wa.b,t}getStyle(t=Qa){_n.fromWorkingColorSpace(Wa.copy(this),t);const e=Wa.r,i=Wa.g,a=Wa.b;return t!==Qa?`color(${t} ${e.toFixed(3)} ${i.toFixed(3)} ${a.toFixed(3)})`:`rgb(${Math.round(e*255)},${Math.round(i*255)},${Math.round(a*255)})`}offsetHSL(t,e,i){return this.getHSL(Cu),this.setHSL(Cu.h+t,Cu.s+e,Cu.l+i)}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Cu),t.getHSL(uv);const i=Cg(Cu.h,uv.h,e),a=Cg(Cu.s,uv.s,e),o=Cg(Cu.l,uv.l,e);return this.setHSL(i,a,o),this}setFromVector3(t){return this.r=t.x,this.g=t.y,this.b=t.z,this}applyMatrix3(t){const e=this.r,i=this.g,a=this.b,o=t.elements;return this.r=o[0]*e+o[3]*i+o[6]*a,this.g=o[1]*e+o[4]*i+o[7]*a,this.b=o[2]*e+o[5]*i+o[8]*a,this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Wa=new he;he.NAMES=pU;let CP=0;class ir extends zl{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:CP++}),this.uuid=vs(),this.name="",this.type="Material",this.blending=Uh,this.side=wc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=rb,this.blendDst=sb,this.blendEquation=ku,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new he(0,0,0),this.blendAlpha=0,this.depthFunc=zh,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=uT,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=bh,this.stencilZFail=bh,this.stencilZPass=bh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(t!==void 0)for(const e in t){const i=t[e];if(i===void 0){console.warn(`THREE.Material: parameter '${e}' has value of undefined.`);continue}const a=this[e];if(a===void 0){console.warn(`THREE.Material: '${e}' is not a property of THREE.${this.type}.`);continue}a&&a.isColor?a.set(i):a&&a.isVector3&&i&&i.isVector3?a.copy(i):this[e]=i}}toJSON(t){const e=t===void 0||typeof t=="string";e&&(t={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(t).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(t).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(t).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(t).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(t).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==Uh&&(i.blending=this.blending),this.side!==wc&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==rb&&(i.blendSrc=this.blendSrc),this.blendDst!==sb&&(i.blendDst=this.blendDst),this.blendEquation!==ku&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==zh&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==uT&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==bh&&(i.stencilFail=this.stencilFail),this.stencilZFail!==bh&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==bh&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function a(o){const c=[];for(const h in o){const p=o[h];delete p.metadata,c.push(p)}return c}if(e){const o=a(t.textures),c=a(t.images);o.length>0&&(i.textures=o),c.length>0&&(i.images=c)}return i}clone(){return new this.constructor().copy(this)}copy(t){this.name=t.name,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.blendColor.copy(t.blendColor),this.blendAlpha=t.blendAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(e!==null){const a=e.length;i=new Array(a);for(let o=0;o!==a;++o)i[o]=e[o].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaHash=t.alphaHash,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.forceSinglePass=t.forceSinglePass,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){t===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class td extends ir{constructor(t){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new he(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bs,this.combine=fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}const Sc=RP();function RP(){const n=new ArrayBuffer(4),t=new Float32Array(n),e=new Uint32Array(n),i=new Uint32Array(512),a=new Uint32Array(512);for(let p=0;p<256;++p){const m=p-127;m<-27?(i[p]=0,i[p|256]=32768,a[p]=24,a[p|256]=24):m<-14?(i[p]=1024>>-m-14,i[p|256]=1024>>-m-14|32768,a[p]=-m-1,a[p|256]=-m-1):m<=15?(i[p]=m+15<<10,i[p|256]=m+15<<10|32768,a[p]=13,a[p|256]=13):m<128?(i[p]=31744,i[p|256]=64512,a[p]=24,a[p|256]=24):(i[p]=31744,i[p|256]=64512,a[p]=13,a[p|256]=13)}const o=new Uint32Array(2048),c=new Uint32Array(64),h=new Uint32Array(64);for(let p=1;p<1024;++p){let m=p<<13,y=0;for(;(m&8388608)===0;)m<<=1,y-=8388608;m&=-8388609,y+=947912704,o[p]=m|y}for(let p=1024;p<2048;++p)o[p]=939524096+(p-1024<<13);for(let p=1;p<31;++p)c[p]=p<<23;c[31]=1199570944,c[32]=2147483648;for(let p=33;p<63;++p)c[p]=2147483648+(p-32<<23);c[63]=3347054592;for(let p=1;p<64;++p)p!==32&&(h[p]=1024);return{floatView:t,uint32View:e,baseTable:i,shiftTable:a,mantissaTable:o,exponentTable:c,offsetTable:h}}function Yr(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ye(n,-65504,65504),Sc.floatView[0]=n;const t=Sc.uint32View[0],e=t>>23&511;return Sc.baseTable[e]+((t&8388607)>>Sc.shiftTable[e])}function mg(n){const t=n>>10;return Sc.uint32View[0]=Sc.mantissaTable[Sc.offsetTable[t]+(n&1023)]+Sc.exponentTable[t],Sc.floatView[0]}class DP{static toHalfFloat(t){return Yr(t)}static fromHalfFloat(t){return mg(t)}}const Zi=new J,dv=new Gt;let UP=0;class qn{constructor(t,e,i=!1){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:UP++}),this.name="",this.array=t,this.itemSize=e,this.count=t!==void 0?t.length/e:0,this.normalized=i,this.usage=Xg,this.updateRanges=[],this.gpuType=Kr,this.version=0}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this.gpuType=t.gpuType,this}copyAt(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let a=0,o=this.itemSize;a<o;a++)this.array[t+a]=e.array[i+a];return this}copyArray(t){return this.array.set(t),this}applyMatrix3(t){if(this.itemSize===2)for(let e=0,i=this.count;e<i;e++)dv.fromBufferAttribute(this,e),dv.applyMatrix3(t),this.setXY(e,dv.x,dv.y);else if(this.itemSize===3)for(let e=0,i=this.count;e<i;e++)Zi.fromBufferAttribute(this,e),Zi.applyMatrix3(t),this.setXYZ(e,Zi.x,Zi.y,Zi.z);return this}applyMatrix4(t){for(let e=0,i=this.count;e<i;e++)Zi.fromBufferAttribute(this,e),Zi.applyMatrix4(t),this.setXYZ(e,Zi.x,Zi.y,Zi.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)Zi.fromBufferAttribute(this,e),Zi.applyNormalMatrix(t),this.setXYZ(e,Zi.x,Zi.y,Zi.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)Zi.fromBufferAttribute(this,e),Zi.transformDirection(t),this.setXYZ(e,Zi.x,Zi.y,Zi.z);return this}set(t,e=0){return this.array.set(t,e),this}getComponent(t,e){let i=this.array[t*this.itemSize+e];return this.normalized&&(i=Tr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=$e(i,this.array)),this.array[t*this.itemSize+e]=i,this}getX(t){let e=this.array[t*this.itemSize];return this.normalized&&(e=Tr(e,this.array)),e}setX(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize]=e,this}getY(t){let e=this.array[t*this.itemSize+1];return this.normalized&&(e=Tr(e,this.array)),e}setY(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+1]=e,this}getZ(t){let e=this.array[t*this.itemSize+2];return this.normalized&&(e=Tr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+2]=e,this}getW(t){let e=this.array[t*this.itemSize+3];return this.normalized&&(e=Tr(e,this.array)),e}setW(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+3]=e,this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array)),this.array[t+0]=e,this.array[t+1]=i,this}setXYZ(t,e,i,a){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=a,this}setXYZW(t,e,i,a,o){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array),o=$e(o,this.array)),this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=a,this.array[t+3]=o,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(t.name=this.name),this.usage!==Xg&&(t.usage=this.usage),t}}class jP extends qn{constructor(t,e,i){super(new Int8Array(t),e,i)}}class LP extends qn{constructor(t,e,i){super(new Uint8Array(t),e,i)}}class NP extends qn{constructor(t,e,i){super(new Uint8ClampedArray(t),e,i)}}class OP extends qn{constructor(t,e,i){super(new Int16Array(t),e,i)}}class fE extends qn{constructor(t,e,i){super(new Uint16Array(t),e,i)}}class zP extends qn{constructor(t,e,i){super(new Int32Array(t),e,i)}}class pE extends qn{constructor(t,e,i){super(new Uint32Array(t),e,i)}}class PP extends qn{constructor(t,e,i){super(new Uint16Array(t),e,i),this.isFloat16BufferAttribute=!0}getX(t){let e=mg(this.array[t*this.itemSize]);return this.normalized&&(e=Tr(e,this.array)),e}setX(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize]=Yr(e),this}getY(t){let e=mg(this.array[t*this.itemSize+1]);return this.normalized&&(e=Tr(e,this.array)),e}setY(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+1]=Yr(e),this}getZ(t){let e=mg(this.array[t*this.itemSize+2]);return this.normalized&&(e=Tr(e,this.array)),e}setZ(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+2]=Yr(e),this}getW(t){let e=mg(this.array[t*this.itemSize+3]);return this.normalized&&(e=Tr(e,this.array)),e}setW(t,e){return this.normalized&&(e=$e(e,this.array)),this.array[t*this.itemSize+3]=Yr(e),this}setXY(t,e,i){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array)),this.array[t+0]=Yr(e),this.array[t+1]=Yr(i),this}setXYZ(t,e,i,a){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array)),this.array[t+0]=Yr(e),this.array[t+1]=Yr(i),this.array[t+2]=Yr(a),this}setXYZW(t,e,i,a,o){return t*=this.itemSize,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array),o=$e(o,this.array)),this.array[t+0]=Yr(e),this.array[t+1]=Yr(i),this.array[t+2]=Yr(a),this.array[t+3]=Yr(o),this}}class be extends qn{constructor(t,e,i){super(new Float32Array(t),e,i)}}let BP=0;const Hs=new Ve,iM=new wn,ap=new J,gs=new Cr,L0=new Cr,va=new J;class an extends zl{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:BP++}),this.uuid=vs(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return Array.isArray(t)?this.index=new(dU(t)?pE:fE)(t,1):this.index=t,this}setIndirect(t){return this.indirect=t,this}getIndirect(){return this.indirect}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return this.attributes[t]!==void 0}addGroup(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;e!==void 0&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const o=new Ke().getNormalMatrix(t);i.applyNormalMatrix(o),i.needsUpdate=!0}const a=this.attributes.tangent;return a!==void 0&&(a.transformDirection(t),a.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(t){return Hs.makeRotationFromQuaternion(t),this.applyMatrix4(Hs),this}rotateX(t){return Hs.makeRotationX(t),this.applyMatrix4(Hs),this}rotateY(t){return Hs.makeRotationY(t),this.applyMatrix4(Hs),this}rotateZ(t){return Hs.makeRotationZ(t),this.applyMatrix4(Hs),this}translate(t,e,i){return Hs.makeTranslation(t,e,i),this.applyMatrix4(Hs),this}scale(t,e,i){return Hs.makeScale(t,e,i),this.applyMatrix4(Hs),this}lookAt(t){return iM.lookAt(t),iM.updateMatrix(),this.applyMatrix4(iM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(ap).negate(),this.translate(ap.x,ap.y,ap.z),this}setFromPoints(t){const e=this.getAttribute("position");if(e===void 0){const i=[];for(let a=0,o=t.length;a<o;a++){const c=t[a];i.push(c.x,c.y,c.z||0)}this.setAttribute("position",new be(i,3))}else{const i=Math.min(t.length,e.count);for(let a=0;a<i;a++){const o=t[a];e.setXYZ(a,o.x,o.y,o.z||0)}t.length>e.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),e.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(t!==void 0){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,a=e.length;i<a;i++){const o=e[i];gs.setFromBufferAttribute(o),this.morphTargetsRelative?(va.addVectors(this.boundingBox.min,gs.min),this.boundingBox.expandByPoint(va),va.addVectors(this.boundingBox.max,gs.max),this.boundingBox.expandByPoint(va)):(this.boundingBox.expandByPoint(gs.min),this.boundingBox.expandByPoint(gs.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nr);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(t){const i=this.boundingSphere.center;if(gs.setFromBufferAttribute(t),e)for(let o=0,c=e.length;o<c;o++){const h=e[o];L0.setFromBufferAttribute(h),this.morphTargetsRelative?(va.addVectors(gs.min,L0.min),gs.expandByPoint(va),va.addVectors(gs.max,L0.max),gs.expandByPoint(va)):(gs.expandByPoint(L0.min),gs.expandByPoint(L0.max))}gs.getCenter(i);let a=0;for(let o=0,c=t.count;o<c;o++)va.fromBufferAttribute(t,o),a=Math.max(a,i.distanceToSquared(va));if(e)for(let o=0,c=e.length;o<c;o++){const h=e[o],p=this.morphTargetsRelative;for(let m=0,y=h.count;m<y;m++)va.fromBufferAttribute(h,m),p&&(ap.fromBufferAttribute(t,m),va.add(ap)),a=Math.max(a,i.distanceToSquared(va))}this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(t===null||e.position===void 0||e.normal===void 0||e.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.position,a=e.normal,o=e.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new qn(new Float32Array(4*i.count),4));const c=this.getAttribute("tangent"),h=[],p=[];for(let k=0;k<i.count;k++)h[k]=new J,p[k]=new J;const m=new J,y=new J,v=new J,b=new Gt,M=new Gt,E=new Gt,R=new J,C=new J;function T(k,I,z){m.fromBufferAttribute(i,k),y.fromBufferAttribute(i,I),v.fromBufferAttribute(i,z),b.fromBufferAttribute(o,k),M.fromBufferAttribute(o,I),E.fromBufferAttribute(o,z),y.sub(m),v.sub(m),M.sub(b),E.sub(b);const K=1/(M.x*E.y-E.x*M.y);isFinite(K)&&(R.copy(y).multiplyScalar(E.y).addScaledVector(v,-M.y).multiplyScalar(K),C.copy(v).multiplyScalar(M.x).addScaledVector(y,-E.x).multiplyScalar(K),h[k].add(R),h[I].add(R),h[z].add(R),p[k].add(C),p[I].add(C),p[z].add(C))}let D=this.groups;D.length===0&&(D=[{start:0,count:t.count}]);for(let k=0,I=D.length;k<I;++k){const z=D[k],K=z.start,ft=z.count;for(let st=K,xt=K+ft;st<xt;st+=3)T(t.getX(st+0),t.getX(st+1),t.getX(st+2))}const j=new J,N=new J,B=new J,P=new J;function H(k){B.fromBufferAttribute(a,k),P.copy(B);const I=h[k];j.copy(I),j.sub(B.multiplyScalar(B.dot(I))).normalize(),N.crossVectors(P,I);const K=N.dot(p[k])<0?-1:1;c.setXYZW(k,j.x,j.y,j.z,K)}for(let k=0,I=D.length;k<I;++k){const z=D[k],K=z.start,ft=z.count;for(let st=K,xt=K+ft;st<xt;st+=3)H(t.getX(st+0)),H(t.getX(st+1)),H(t.getX(st+2))}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(e!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new qn(new Float32Array(e.count*3),3),this.setAttribute("normal",i);else for(let b=0,M=i.count;b<M;b++)i.setXYZ(b,0,0,0);const a=new J,o=new J,c=new J,h=new J,p=new J,m=new J,y=new J,v=new J;if(t)for(let b=0,M=t.count;b<M;b+=3){const E=t.getX(b+0),R=t.getX(b+1),C=t.getX(b+2);a.fromBufferAttribute(e,E),o.fromBufferAttribute(e,R),c.fromBufferAttribute(e,C),y.subVectors(c,o),v.subVectors(a,o),y.cross(v),h.fromBufferAttribute(i,E),p.fromBufferAttribute(i,R),m.fromBufferAttribute(i,C),h.add(y),p.add(y),m.add(y),i.setXYZ(E,h.x,h.y,h.z),i.setXYZ(R,p.x,p.y,p.z),i.setXYZ(C,m.x,m.y,m.z)}else for(let b=0,M=e.count;b<M;b+=3)a.fromBufferAttribute(e,b+0),o.fromBufferAttribute(e,b+1),c.fromBufferAttribute(e,b+2),y.subVectors(c,o),v.subVectors(a,o),y.cross(v),i.setXYZ(b+0,y.x,y.y,y.z),i.setXYZ(b+1,y.x,y.y,y.z),i.setXYZ(b+2,y.x,y.y,y.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)va.fromBufferAttribute(t,e),va.normalize(),t.setXYZ(e,va.x,va.y,va.z)}toNonIndexed(){function t(h,p){const m=h.array,y=h.itemSize,v=h.normalized,b=new m.constructor(p.length*y);let M=0,E=0;for(let R=0,C=p.length;R<C;R++){h.isInterleavedBufferAttribute?M=p[R]*h.data.stride+h.offset:M=p[R]*y;for(let T=0;T<y;T++)b[E++]=m[M++]}return new qn(b,y,v)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new an,i=this.index.array,a=this.attributes;for(const h in a){const p=a[h],m=t(p,i);e.setAttribute(h,m)}const o=this.morphAttributes;for(const h in o){const p=[],m=o[h];for(let y=0,v=m.length;y<v;y++){const b=m[y],M=t(b,i);p.push(M)}e.morphAttributes[h]=p}e.morphTargetsRelative=this.morphTargetsRelative;const c=this.groups;for(let h=0,p=c.length;h<p;h++){const m=c[h];e.addGroup(m.start,m.count,m.materialIndex)}return e}toJSON(){const t={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,this.name!==""&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),this.parameters!==void 0){const p=this.parameters;for(const m in p)p[m]!==void 0&&(t[m]=p[m]);return t}t.data={attributes:{}};const e=this.index;e!==null&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const p in i){const m=i[p];t.data.attributes[p]=m.toJSON(t.data)}const a={};let o=!1;for(const p in this.morphAttributes){const m=this.morphAttributes[p],y=[];for(let v=0,b=m.length;v<b;v++){const M=m[v];y.push(M.toJSON(t.data))}y.length>0&&(a[p]=y,o=!0)}o&&(t.data.morphAttributes=a,t.data.morphTargetsRelative=this.morphTargetsRelative);const c=this.groups;c.length>0&&(t.data.groups=JSON.parse(JSON.stringify(c)));const h=this.boundingSphere;return h!==null&&(t.data.boundingSphere={center:h.center.toArray(),radius:h.radius}),t}clone(){return new this.constructor().copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;i!==null&&this.setIndex(i.clone());const a=t.attributes;for(const m in a){const y=a[m];this.setAttribute(m,y.clone(e))}const o=t.morphAttributes;for(const m in o){const y=[],v=o[m];for(let b=0,M=v.length;b<M;b++)y.push(v[b].clone(e));this.morphAttributes[m]=y}this.morphTargetsRelative=t.morphTargetsRelative;const c=t.groups;for(let m=0,y=c.length;m<y;m++){const v=c[m];this.addGroup(v.start,v.count,v.materialIndex)}const h=t.boundingBox;h!==null&&(this.boundingBox=h.clone());const p=t.boundingSphere;return p!==null&&(this.boundingSphere=p.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XA=new Ve,Jd=new Vh,hv=new nr,qA=new J,fv=new J,pv=new J,mv=new J,aM=new J,gv=new J,YA=new J,xv=new J;class $i extends wn{constructor(t=new an,e=new td){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=a.length;o<c;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}getVertexPosition(t,e){const i=this.geometry,a=i.attributes.position,o=i.morphAttributes.position,c=i.morphTargetsRelative;e.fromBufferAttribute(a,t);const h=this.morphTargetInfluences;if(o&&h){gv.set(0,0,0);for(let p=0,m=o.length;p<m;p++){const y=h[p],v=o[p];y!==0&&(aM.fromBufferAttribute(v,t),c?gv.addScaledVector(aM,y):gv.addScaledVector(aM.sub(e),y))}e.add(gv)}return e}raycast(t,e){const i=this.geometry,a=this.material,o=this.matrixWorld;a!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),hv.copy(i.boundingSphere),hv.applyMatrix4(o),Jd.copy(t.ray).recast(t.near),!(hv.containsPoint(Jd.origin)===!1&&(Jd.intersectSphere(hv,qA)===null||Jd.origin.distanceToSquared(qA)>(t.far-t.near)**2))&&(XA.copy(o).invert(),Jd.copy(t.ray).applyMatrix4(XA),!(i.boundingBox!==null&&Jd.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(t,e,Jd)))}_computeIntersections(t,e,i){let a;const o=this.geometry,c=this.material,h=o.index,p=o.attributes.position,m=o.attributes.uv,y=o.attributes.uv1,v=o.attributes.normal,b=o.groups,M=o.drawRange;if(h!==null)if(Array.isArray(c))for(let E=0,R=b.length;E<R;E++){const C=b[E],T=c[C.materialIndex],D=Math.max(C.start,M.start),j=Math.min(h.count,Math.min(C.start+C.count,M.start+M.count));for(let N=D,B=j;N<B;N+=3){const P=h.getX(N),H=h.getX(N+1),k=h.getX(N+2);a=yv(this,T,t,i,m,y,v,P,H,k),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=C.materialIndex,e.push(a))}}else{const E=Math.max(0,M.start),R=Math.min(h.count,M.start+M.count);for(let C=E,T=R;C<T;C+=3){const D=h.getX(C),j=h.getX(C+1),N=h.getX(C+2);a=yv(this,c,t,i,m,y,v,D,j,N),a&&(a.faceIndex=Math.floor(C/3),e.push(a))}}else if(p!==void 0)if(Array.isArray(c))for(let E=0,R=b.length;E<R;E++){const C=b[E],T=c[C.materialIndex],D=Math.max(C.start,M.start),j=Math.min(p.count,Math.min(C.start+C.count,M.start+M.count));for(let N=D,B=j;N<B;N+=3){const P=N,H=N+1,k=N+2;a=yv(this,T,t,i,m,y,v,P,H,k),a&&(a.faceIndex=Math.floor(N/3),a.face.materialIndex=C.materialIndex,e.push(a))}}else{const E=Math.max(0,M.start),R=Math.min(p.count,M.start+M.count);for(let C=E,T=R;C<T;C+=3){const D=C,j=C+1,N=C+2;a=yv(this,c,t,i,m,y,v,D,j,N),a&&(a.faceIndex=Math.floor(C/3),e.push(a))}}}}function IP(n,t,e,i,a,o,c,h){let p;if(t.side===Ar?p=i.intersectTriangle(c,o,a,!0,h):p=i.intersectTriangle(a,o,c,t.side===wc,h),p===null)return null;xv.copy(h),xv.applyMatrix4(n.matrixWorld);const m=e.ray.origin.distanceTo(xv);return m<e.near||m>e.far?null:{distance:m,point:xv.clone(),object:n}}function yv(n,t,e,i,a,o,c,h,p,m){n.getVertexPosition(h,fv),n.getVertexPosition(p,pv),n.getVertexPosition(m,mv);const y=IP(n,t,e,i,fv,pv,mv,YA);if(y){const v=new J;Zr.getBarycoord(YA,fv,pv,mv,v),a&&(y.uv=Zr.getInterpolatedAttribute(a,h,p,m,v,new Gt)),o&&(y.uv1=Zr.getInterpolatedAttribute(o,h,p,m,v,new Gt)),c&&(y.normal=Zr.getInterpolatedAttribute(c,h,p,m,v,new J),y.normal.dot(i.direction)>0&&y.normal.multiplyScalar(-1));const b={a:h,b:p,c:m,normal:new J,materialIndex:0};Zr.getNormal(fv,pv,mv,b.normal),y.face=b,y.barycoord=v}return y}class Hh extends an{constructor(t=1,e=1,i=1,a=1,o=1,c=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:a,heightSegments:o,depthSegments:c};const h=this;a=Math.floor(a),o=Math.floor(o),c=Math.floor(c);const p=[],m=[],y=[],v=[];let b=0,M=0;E("z","y","x",-1,-1,i,e,t,c,o,0),E("z","y","x",1,-1,i,e,-t,c,o,1),E("x","z","y",1,1,t,i,e,a,c,2),E("x","z","y",1,-1,t,i,-e,a,c,3),E("x","y","z",1,-1,t,e,i,a,o,4),E("x","y","z",-1,-1,t,e,-i,a,o,5),this.setIndex(p),this.setAttribute("position",new be(m,3)),this.setAttribute("normal",new be(y,3)),this.setAttribute("uv",new be(v,2));function E(R,C,T,D,j,N,B,P,H,k,I){const z=N/H,K=B/k,ft=N/2,st=B/2,xt=P/2,bt=H+1,F=k+1;let Z=0,Q=0;const ut=new J;for(let q=0;q<F;q++){const it=q*K-st;for(let St=0;St<bt;St++){const Lt=St*z-ft;ut[R]=Lt*D,ut[C]=it*j,ut[T]=xt,m.push(ut.x,ut.y,ut.z),ut[R]=0,ut[C]=0,ut[T]=P>0?1:-1,y.push(ut.x,ut.y,ut.z),v.push(St/H),v.push(1-q/k),Z+=1}}for(let q=0;q<k;q++)for(let it=0;it<H;it++){const St=b+it+bt*q,Lt=b+it+bt*(q+1),rt=b+(it+1)+bt*(q+1),Rt=b+(it+1)+bt*q;p.push(St,Lt,Rt),p.push(Lt,rt,Rt),Q+=6}h.addGroup(M,Q,I),M+=Q,b+=Z}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new Hh(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function $p(n){const t={};for(const e in n){t[e]={};for(const i in n[e]){const a=n[e][i];a&&(a.isColor||a.isMatrix3||a.isMatrix4||a.isVector2||a.isVector3||a.isVector4||a.isTexture||a.isQuaternion)?a.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),t[e][i]=null):t[e][i]=a.clone():Array.isArray(a)?t[e][i]=a.slice():t[e][i]=a}}return t}function Mr(n){const t={};for(let e=0;e<n.length;e++){const i=$p(n[e]);for(const a in i)t[a]=i[a]}return t}function FP(n){const t=[];for(let e=0;e<n.length;e++)t.push(n[e].clone());return t}function mU(n){const t=n.getRenderTarget();return t===null?n.outputColorSpace:t.isXRRenderTarget===!0?t.texture.colorSpace:_n.workingColorSpace}const gU={clone:$p,merge:Mr};var VP=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,HP=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Oo extends ir{constructor(t){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=VP,this.fragmentShader=HP,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,t!==void 0&&this.setValues(t)}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=$p(t.uniforms),this.uniformsGroups=FP(t.uniformsGroups),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.fog=t.fog,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const a in this.uniforms){const c=this.uniforms[a].value;c&&c.isTexture?e.uniforms[a]={type:"t",value:c.toJSON(t).uuid}:c&&c.isColor?e.uniforms[a]={type:"c",value:c.getHex()}:c&&c.isVector2?e.uniforms[a]={type:"v2",value:c.toArray()}:c&&c.isVector3?e.uniforms[a]={type:"v3",value:c.toArray()}:c&&c.isVector4?e.uniforms[a]={type:"v4",value:c.toArray()}:c&&c.isMatrix3?e.uniforms[a]={type:"m3",value:c.toArray()}:c&&c.isMatrix4?e.uniforms[a]={type:"m4",value:c.toArray()}:e.uniforms[a]={value:c}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.lights=this.lights,e.clipping=this.clipping;const i={};for(const a in this.extensions)this.extensions[a]===!0&&(i[a]=!0);return Object.keys(i).length>0&&(e.extensions=i),e}}class b_ extends wn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ve,this.projectionMatrix=new Ve,this.projectionMatrixInverse=new Ve,this.coordinateSystem=jo}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this.coordinateSystem=t.coordinateSystem,this}getWorldDirection(t){return super.getWorldDirection(t).negate()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const Ru=new J,WA=new Gt,ZA=new Gt;class Vi extends b_{constructor(t=50,e=1,i=.1,a=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=a,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=Qp*2*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(Lh*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return Qp*2*Math.atan(Math.tan(Lh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(t,e,i){Ru.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),e.set(Ru.x,Ru.y).multiplyScalar(-t/Ru.z),Ru.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(Ru.x,Ru.y).multiplyScalar(-t/Ru.z)}getViewSize(t,e){return this.getViewBounds(t,WA,ZA),e.subVectors(ZA,WA)}setViewOffset(t,e,i,a,o,c){this.aspect=t/e,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(Lh*.5*this.fov)/this.zoom,i=2*e,a=this.aspect*i,o=-.5*a;const c=this.view;if(this.view!==null&&this.view.enabled){const p=c.fullWidth,m=c.fullHeight;o+=c.offsetX*a/p,e-=c.offsetY*i/m,a*=c.width/p,i*=c.height/m}const h=this.filmOffset;h!==0&&(o+=t*h/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+a,e,e-i,t,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,this.view!==null&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}const rp=-90,sp=1;class xU extends wn{constructor(t,e,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const a=new Vi(rp,sp,t,e);a.layers=this.layers,this.add(a);const o=new Vi(rp,sp,t,e);o.layers=this.layers,this.add(o);const c=new Vi(rp,sp,t,e);c.layers=this.layers,this.add(c);const h=new Vi(rp,sp,t,e);h.layers=this.layers,this.add(h);const p=new Vi(rp,sp,t,e);p.layers=this.layers,this.add(p);const m=new Vi(rp,sp,t,e);m.layers=this.layers,this.add(m)}updateCoordinateSystem(){const t=this.coordinateSystem,e=this.children.concat(),[i,a,o,c,h,p]=e;for(const m of e)this.remove(m);if(t===jo)i.up.set(0,1,0),i.lookAt(1,0,0),a.up.set(0,1,0),a.lookAt(-1,0,0),o.up.set(0,0,-1),o.lookAt(0,1,0),c.up.set(0,0,1),c.lookAt(0,-1,0),h.up.set(0,1,0),h.lookAt(0,0,1),p.up.set(0,1,0),p.lookAt(0,0,-1);else if(t===qg)i.up.set(0,-1,0),i.lookAt(-1,0,0),a.up.set(0,-1,0),a.lookAt(1,0,0),o.up.set(0,0,1),o.lookAt(0,1,0),c.up.set(0,0,-1),c.lookAt(0,-1,0),h.up.set(0,-1,0),h.lookAt(0,0,1),p.up.set(0,-1,0),p.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+t);for(const m of e)this.add(m),m.updateMatrixWorld()}update(t,e){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:a}=this;this.coordinateSystem!==t.coordinateSystem&&(this.coordinateSystem=t.coordinateSystem,this.updateCoordinateSystem());const[o,c,h,p,m,y]=this.children,v=t.getRenderTarget(),b=t.getActiveCubeFace(),M=t.getActiveMipmapLevel(),E=t.xr.enabled;t.xr.enabled=!1;const R=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0,a),t.render(e,o),t.setRenderTarget(i,1,a),t.render(e,c),t.setRenderTarget(i,2,a),t.render(e,h),t.setRenderTarget(i,3,a),t.render(e,p),t.setRenderTarget(i,4,a),t.render(e,m),i.texture.generateMipmaps=R,t.setRenderTarget(i,5,a),t.render(e,y),t.setRenderTarget(v,b,M),t.xr.enabled=E,i.texture.needsPMREMUpdate=!0}}class gx extends Li{constructor(t=[],e=Ac,i,a,o,c,h,p,m,y){super(t,e,i,a,o,c,h,p,m,y),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}class yU extends Ol{constructor(t=1,e={}){super(t,t,e),this.isWebGLCubeRenderTarget=!0;const i={width:t,height:t,depth:1},a=[i,i,i,i,i,i];this.texture=new gx(a,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=e.generateMipmaps!==void 0?e.generateMipmaps:!1,this.texture.minFilter=e.minFilter!==void 0?e.minFilter:ua}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.colorSpace=e.colorSpace,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},a=new Hh(5,5,5),o=new Oo({name:"CubemapFromEquirect",uniforms:$p(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ar,blending:Tc});o.uniforms.tEquirect.value=e;const c=new $i(a,o),h=e.minFilter;return e.minFilter===Al&&(e.minFilter=ua),new xU(1,10,this).update(t,c),e.minFilter=h,c.geometry.dispose(),c.material.dispose(),this}clear(t,e=!0,i=!0,a=!0){const o=t.getRenderTarget();for(let c=0;c<6;c++)t.setRenderTarget(this,c),t.clear(e,i,a);t.setRenderTarget(o)}}class Np extends wn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const kP={type:"move"};class Y1{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Np,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Np,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Np,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(t){return this._targetRay!==null&&this._targetRay.dispatchEvent(t),this._grip!==null&&this._grip.dispatchEvent(t),this._hand!==null&&this._hand.dispatchEvent(t),this}connect(t){if(t&&t.hand){const e=this._hand;if(e)for(const i of t.hand.values())this._getHandJoint(e,i)}return this.dispatchEvent({type:"connected",data:t}),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(t,e,i){let a=null,o=null,c=null;const h=this._targetRay,p=this._grip,m=this._hand;if(t&&e.session.visibilityState!=="visible-blurred"){if(m&&t.hand){c=!0;for(const R of t.hand.values()){const C=e.getJointPose(R,i),T=this._getHandJoint(m,R);C!==null&&(T.matrix.fromArray(C.transform.matrix),T.matrix.decompose(T.position,T.rotation,T.scale),T.matrixWorldNeedsUpdate=!0,T.jointRadius=C.radius),T.visible=C!==null}const y=m.joints["index-finger-tip"],v=m.joints["thumb-tip"],b=y.position.distanceTo(v.position),M=.02,E=.005;m.inputState.pinching&&b>M+E?(m.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!m.inputState.pinching&&b<=M-E&&(m.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else p!==null&&t.gripSpace&&(o=e.getPose(t.gripSpace,i),o!==null&&(p.matrix.fromArray(o.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,o.linearVelocity?(p.hasLinearVelocity=!0,p.linearVelocity.copy(o.linearVelocity)):p.hasLinearVelocity=!1,o.angularVelocity?(p.hasAngularVelocity=!0,p.angularVelocity.copy(o.angularVelocity)):p.hasAngularVelocity=!1));h!==null&&(a=e.getPose(t.targetRaySpace,i),a===null&&o!==null&&(a=o),a!==null&&(h.matrix.fromArray(a.transform.matrix),h.matrix.decompose(h.position,h.rotation,h.scale),h.matrixWorldNeedsUpdate=!0,a.linearVelocity?(h.hasLinearVelocity=!0,h.linearVelocity.copy(a.linearVelocity)):h.hasLinearVelocity=!1,a.angularVelocity?(h.hasAngularVelocity=!0,h.angularVelocity.copy(a.angularVelocity)):h.hasAngularVelocity=!1,this.dispatchEvent(kP)))}return h!==null&&(h.visible=a!==null),p!==null&&(p.visible=o!==null),m!==null&&(m.visible=c!==null),this}_getHandJoint(t,e){if(t.joints[e.jointName]===void 0){const i=new Np;i.matrixAutoUpdate=!1,i.visible=!1,t.joints[e.jointName]=i,t.add(i)}return t.joints[e.jointName]}}class __{constructor(t,e=25e-5){this.isFogExp2=!0,this.name="",this.color=new he(t),this.density=e}clone(){return new __(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class S_{constructor(t,e=1,i=1e3){this.isFog=!0,this.name="",this.color=new he(t),this.near=e,this.far=i}clone(){return new S_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class mE extends wn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new bs,this.environmentIntensity=1,this.environmentRotation=new bs,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),t.background!==null&&(this.background=t.background.clone()),t.environment!==null&&(this.environment=t.environment.clone()),t.fog!==null&&(this.fog=t.fog.clone()),this.backgroundBlurriness=t.backgroundBlurriness,this.backgroundIntensity=t.backgroundIntensity,this.backgroundRotation.copy(t.backgroundRotation),this.environmentIntensity=t.environmentIntensity,this.environmentRotation.copy(t.environmentRotation),t.overrideMaterial!==null&&(this.overrideMaterial=t.overrideMaterial.clone()),this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return this.fog!==null&&(e.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(e.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(e.object.backgroundIntensity=this.backgroundIntensity),e.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(e.object.environmentIntensity=this.environmentIntensity),e.object.environmentRotation=this.environmentRotation.toArray(),e}}class M_{constructor(t,e){this.isInterleavedBuffer=!0,this.array=t,this.stride=e,this.count=t!==void 0?t.length/e:0,this.usage=Xg,this.updateRanges=[],this.version=0,this.uuid=vs()}onUploadCallback(){}set needsUpdate(t){t===!0&&this.version++}setUsage(t){return this.usage=t,this}addUpdateRange(t,e){this.updateRanges.push({start:t,count:e})}clearUpdateRanges(){this.updateRanges.length=0}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,i){t*=this.stride,i*=e.stride;for(let a=0,o=this.stride;a<o;a++)this.array[t+a]=e.array[i+a];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=vs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(e,this.stride);return i.setUsage(this.usage),i}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return t.arrayBuffers===void 0&&(t.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=vs()),t.arrayBuffers[this.array.buffer._uuid]===void 0&&(t.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const vr=new J;class Ph{constructor(t,e,i,a=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=a}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,i=this.data.count;e<i;e++)vr.fromBufferAttribute(this,e),vr.applyMatrix4(t),this.setXYZ(e,vr.x,vr.y,vr.z);return this}applyNormalMatrix(t){for(let e=0,i=this.count;e<i;e++)vr.fromBufferAttribute(this,e),vr.applyNormalMatrix(t),this.setXYZ(e,vr.x,vr.y,vr.z);return this}transformDirection(t){for(let e=0,i=this.count;e<i;e++)vr.fromBufferAttribute(this,e),vr.transformDirection(t),this.setXYZ(e,vr.x,vr.y,vr.z);return this}getComponent(t,e){let i=this.array[t*this.data.stride+this.offset+e];return this.normalized&&(i=Tr(i,this.array)),i}setComponent(t,e,i){return this.normalized&&(i=$e(i,this.array)),this.data.array[t*this.data.stride+this.offset+e]=i,this}setX(t,e){return this.normalized&&(e=$e(e,this.array)),this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.normalized&&(e=$e(e,this.array)),this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.normalized&&(e=$e(e,this.array)),this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.normalized&&(e=$e(e,this.array)),this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){let e=this.data.array[t*this.data.stride+this.offset];return this.normalized&&(e=Tr(e,this.array)),e}getY(t){let e=this.data.array[t*this.data.stride+this.offset+1];return this.normalized&&(e=Tr(e,this.array)),e}getZ(t){let e=this.data.array[t*this.data.stride+this.offset+2];return this.normalized&&(e=Tr(e,this.array)),e}getW(t){let e=this.data.array[t*this.data.stride+this.offset+3];return this.normalized&&(e=Tr(e,this.array)),e}setXY(t,e,i){return t=t*this.data.stride+this.offset,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this}setXYZ(t,e,i,a){return t=t*this.data.stride+this.offset,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=a,this}setXYZW(t,e,i,a,o){return t=t*this.data.stride+this.offset,this.normalized&&(e=$e(e,this.array),i=$e(i,this.array),a=$e(a,this.array),o=$e(o,this.array)),this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=a,this.data.array[t+3]=o,this}clone(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[a+o])}return new qn(new this.array.constructor(e),this.itemSize,this.normalized)}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new Ph(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(t===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const e=[];for(let i=0;i<this.count;i++){const a=i*this.data.stride+this.offset;for(let o=0;o<this.itemSize;o++)e.push(this.data.array[a+o])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}else return t.interleavedBuffers===void 0&&(t.interleavedBuffers={}),t.interleavedBuffers[this.data.uuid]===void 0&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class gE extends ir{constructor(t){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new he(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}let op;const N0=new J,lp=new J,cp=new J,up=new Gt,O0=new Gt,vU=new Ve,vv=new J,z0=new J,bv=new J,KA=new Gt,rM=new Gt,QA=new Gt;class bU extends wn{constructor(t=new gE){if(super(),this.isSprite=!0,this.type="Sprite",op===void 0){op=new an;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new M_(e,5);op.setIndex([0,1,2,0,2,3]),op.setAttribute("position",new Ph(i,3,0,!1)),op.setAttribute("uv",new Ph(i,2,3,!1))}this.geometry=op,this.material=t,this.center=new Gt(.5,.5)}raycast(t,e){t.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lp.setFromMatrixScale(this.matrixWorld),vU.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),cp.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lp.multiplyScalar(-cp.z);const i=this.material.rotation;let a,o;i!==0&&(o=Math.cos(i),a=Math.sin(i));const c=this.center;_v(vv.set(-.5,-.5,0),cp,c,lp,a,o),_v(z0.set(.5,-.5,0),cp,c,lp,a,o),_v(bv.set(.5,.5,0),cp,c,lp,a,o),KA.set(0,0),rM.set(1,0),QA.set(1,1);let h=t.ray.intersectTriangle(vv,z0,bv,!1,N0);if(h===null&&(_v(z0.set(-.5,.5,0),cp,c,lp,a,o),rM.set(0,1),h=t.ray.intersectTriangle(vv,bv,z0,!1,N0),h===null))return;const p=t.ray.origin.distanceTo(N0);p<t.near||p>t.far||e.push({distance:p,point:N0.clone(),uv:Zr.getInterpolation(N0,vv,z0,bv,KA,rM,QA,new Gt),face:null,object:this})}copy(t,e){return super.copy(t,e),t.center!==void 0&&this.center.copy(t.center),this.material=t.material,this}}function _v(n,t,e,i,a,o){up.subVectors(n,e).addScalar(.5).multiply(i),a!==void 0?(O0.x=o*up.x-a*up.y,O0.y=a*up.x+o*up.y):O0.copy(up),n.copy(t),n.x+=O0.x,n.y+=O0.y,n.applyMatrix4(vU)}const Sv=new J,JA=new J;class _U extends wn{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(t){super.copy(t,!1);const e=t.levels;for(let i=0,a=e.length;i<a;i++){const o=e[i];this.addLevel(o.object.clone(),o.distance,o.hysteresis)}return this.autoUpdate=t.autoUpdate,this}addLevel(t,e=0,i=0){e=Math.abs(e);const a=this.levels;let o;for(o=0;o<a.length&&!(e<a[o].distance);o++);return a.splice(o,0,{distance:e,hysteresis:i,object:t}),this.add(t),this}removeLevel(t){const e=this.levels;for(let i=0;i<e.length;i++)if(e[i].distance===t){const a=e.splice(i,1);return this.remove(a[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(t){const e=this.levels;if(e.length>0){let i,a;for(i=1,a=e.length;i<a;i++){let o=e[i].distance;if(e[i].object.visible&&(o-=o*e[i].hysteresis),t<o)break}return e[i-1].object}return null}raycast(t,e){if(this.levels.length>0){Sv.setFromMatrixPosition(this.matrixWorld);const a=t.ray.origin.distanceTo(Sv);this.getObjectForDistance(a).raycast(t,e)}}update(t){const e=this.levels;if(e.length>1){Sv.setFromMatrixPosition(t.matrixWorld),JA.setFromMatrixPosition(this.matrixWorld);const i=Sv.distanceTo(JA)/t.zoom;e[0].object.visible=!0;let a,o;for(a=1,o=e.length;a<o;a++){let c=e[a].distance;if(e[a].object.visible&&(c-=c*e[a].hysteresis),i>=c)e[a-1].object.visible=!1,e[a].object.visible=!0;else break}for(this._currentLevel=a-1;a<o;a++)e[a].object.visible=!1}}toJSON(t){const e=super.toJSON(t);this.autoUpdate===!1&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let a=0,o=i.length;a<o;a++){const c=i[a];e.object.levels.push({object:c.object.uuid,distance:c.distance,hysteresis:c.hysteresis})}return e}}const $A=new J,tC=new En,eC=new En,GP=new J,nC=new Ve,Mv=new J,sM=new nr,iC=new Ve,oM=new Vh;class SU extends $i{constructor(t,e){super(t,e),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=cT,this.bindMatrix=new Ve,this.bindMatrixInverse=new Ve,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const t=this.geometry;this.boundingBox===null&&(this.boundingBox=new Cr),this.boundingBox.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Mv),this.boundingBox.expandByPoint(Mv)}computeBoundingSphere(){const t=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new nr),this.boundingSphere.makeEmpty();const e=t.getAttribute("position");for(let i=0;i<e.count;i++)this.getVertexPosition(i,Mv),this.boundingSphere.expandByPoint(Mv)}copy(t,e){return super.copy(t,e),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}raycast(t,e){const i=this.material,a=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),sM.copy(this.boundingSphere),sM.applyMatrix4(a),t.ray.intersectsSphere(sM)!==!1&&(iC.copy(a).invert(),oM.copy(t.ray).applyMatrix4(iC),!(this.boundingBox!==null&&oM.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(t,e,oM)))}getVertexPosition(t,e){return super.getVertexPosition(t,e),this.applyBoneTransform(t,e),e}bind(t,e){this.skeleton=t,e===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new En,e=this.geometry.attributes.skinWeight;for(let i=0,a=e.count;i<a;i++){t.fromBufferAttribute(e,i);const o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),this.bindMode===cT?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Q4?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(t,e){const i=this.skeleton,a=this.geometry;tC.fromBufferAttribute(a.attributes.skinIndex,t),eC.fromBufferAttribute(a.attributes.skinWeight,t),$A.copy(e).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let o=0;o<4;o++){const c=eC.getComponent(o);if(c!==0){const h=tC.getComponent(o);nC.multiplyMatrices(i.bones[h].matrixWorld,i.boneInverses[h]),e.addScaledVector(GP.copy($A).applyMatrix4(nC),c)}}return e.applyMatrix4(this.bindMatrixInverse)}}class xE extends wn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Rl extends Li{constructor(t=null,e=1,i=1,a,o,c,h,p,m=za,y=za,v,b){super(null,c,h,p,m,y,a,o,v,b),this.isDataTexture=!0,this.image={data:t,width:e,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const aC=new Ve,XP=new Ve;class T_{constructor(t=[],e=[]){this.uuid=vs(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(t.length*16),e.length===0)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new Ve)}}calculateInverses(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const i=new Ve;this.bones[t]&&i.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&i.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const i=this.bones[t];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,a=this.boneTexture;for(let o=0,c=t.length;o<c;o++){const h=t[o]?t[o].matrixWorld:XP;aC.multiplyMatrices(h,e[o]),aC.toArray(i,o*16)}a!==null&&(a.needsUpdate=!0)}clone(){return new T_(this.bones,this.boneInverses)}computeBoneTexture(){let t=Math.sqrt(this.bones.length*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4);e.set(this.boneMatrices);const i=new Rl(e,t,t,$a,Kr);return i.needsUpdate=!0,this.boneMatrices=e,this.boneTexture=i,this}getBoneByName(t){for(let e=0,i=this.bones.length;e<i;e++){const a=this.bones[e];if(a.name===t)return a}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(t,e){this.uuid=t.uuid;for(let i=0,a=t.bones.length;i<a;i++){const o=t.bones[i];let c=e[o];c===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",o),c=new xE),this.bones.push(c),this.boneInverses.push(new Ve().fromArray(t.boneInverses[i]))}return this.init(),this}toJSON(){const t={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let a=0,o=e.length;a<o;a++){const c=e[a];t.bones.push(c.uuid);const h=i[a];t.boneInverses.push(h.toArray())}return t}}class tm extends qn{constructor(t,e,i,a=1){super(t,e,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=a}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}const dp=new Ve,rC=new Ve,Tv=[],sC=new Cr,qP=new Ve,P0=new $i,B0=new nr;class MU extends $i{constructor(t,e,i){super(t,e),this.isInstancedMesh=!0,this.instanceMatrix=new tm(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let a=0;a<i;a++)this.setMatrixAt(a,qP)}computeBoundingBox(){const t=this.geometry,e=this.count;this.boundingBox===null&&(this.boundingBox=new Cr),t.boundingBox===null&&t.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),sC.copy(t.boundingBox).applyMatrix4(dp),this.boundingBox.union(sC)}computeBoundingSphere(){const t=this.geometry,e=this.count;this.boundingSphere===null&&(this.boundingSphere=new nr),t.boundingSphere===null&&t.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<e;i++)this.getMatrixAt(i,dp),B0.copy(t.boundingSphere).applyMatrix4(dp),this.boundingSphere.union(B0)}copy(t,e){return super.copy(t,e),this.instanceMatrix.copy(t.instanceMatrix),t.morphTexture!==null&&(this.morphTexture=t.morphTexture.clone()),t.instanceColor!==null&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,t.boundingBox!==null&&(this.boundingBox=t.boundingBox.clone()),t.boundingSphere!==null&&(this.boundingSphere=t.boundingSphere.clone()),this}getColorAt(t,e){e.fromArray(this.instanceColor.array,t*3)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,t*16)}getMorphAt(t,e){const i=e.morphTargetInfluences,a=this.morphTexture.source.data.data,o=i.length+1,c=t*o+1;for(let h=0;h<i.length;h++)i[h]=a[c+h]}raycast(t,e){const i=this.matrixWorld,a=this.count;if(P0.geometry=this.geometry,P0.material=this.material,P0.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),B0.copy(this.boundingSphere),B0.applyMatrix4(i),t.ray.intersectsSphere(B0)!==!1))for(let o=0;o<a;o++){this.getMatrixAt(o,dp),rC.multiplyMatrices(i,dp),P0.matrixWorld=rC,P0.raycast(t,Tv);for(let c=0,h=Tv.length;c<h;c++){const p=Tv[c];p.instanceId=o,p.object=this,e.push(p)}Tv.length=0}}setColorAt(t,e){this.instanceColor===null&&(this.instanceColor=new tm(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),e.toArray(this.instanceColor.array,t*3)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,t*16)}setMorphAt(t,e){const i=e.morphTargetInfluences,a=i.length+1;this.morphTexture===null&&(this.morphTexture=new Rl(new Float32Array(a*this.count),a,this.count,p_,Kr));const o=this.morphTexture.source.data.data;let c=0;for(let m=0;m<i.length;m++)c+=i[m];const h=this.geometry.morphTargetsRelative?1:1-c,p=a*t;o[p]=h,o.set(i,p+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const lM=new J,YP=new J,WP=new Ke;class bc{constructor(t=new J(1,0,0),e=0){this.isPlane=!0,this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,a){return this.normal.set(t,e,i),this.constant=a,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const a=lM.subVectors(i,e).cross(YP.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(a,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(t).addScaledVector(this.normal,-this.distanceToPoint(t))}intersectLine(t,e){const i=t.delta(lM),a=this.normal.dot(i);if(a===0)return this.distanceToPoint(t.start)===0?e.copy(t.start):null;const o=-(t.start.dot(this.normal)+this.constant)/a;return o<0||o>1?null:e.copy(t.start).addScaledVector(i,o)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||WP.getNormalMatrix(t),a=this.coplanarPoint(lM).applyMatrix4(t),o=this.normal.applyMatrix3(i).normalize();return this.constant=-a.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}}const $d=new nr,Ev=new J;class xx{constructor(t=new bc,e=new bc,i=new bc,a=new bc,o=new bc,c=new bc){this.planes=[t,e,i,a,o,c]}set(t,e,i,a,o,c){const h=this.planes;return h[0].copy(t),h[1].copy(e),h[2].copy(i),h[3].copy(a),h[4].copy(o),h[5].copy(c),this}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t,e=jo){const i=this.planes,a=t.elements,o=a[0],c=a[1],h=a[2],p=a[3],m=a[4],y=a[5],v=a[6],b=a[7],M=a[8],E=a[9],R=a[10],C=a[11],T=a[12],D=a[13],j=a[14],N=a[15];if(i[0].setComponents(p-o,b-m,C-M,N-T).normalize(),i[1].setComponents(p+o,b+m,C+M,N+T).normalize(),i[2].setComponents(p+c,b+y,C+E,N+D).normalize(),i[3].setComponents(p-c,b-y,C-E,N-D).normalize(),i[4].setComponents(p-h,b-v,C-R,N-j).normalize(),e===jo)i[5].setComponents(p+h,b+v,C+R,N+j).normalize();else if(e===qg)i[5].setComponents(h,v,R,j).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+e);return this}intersectsObject(t){if(t.boundingSphere!==void 0)t.boundingSphere===null&&t.computeBoundingSphere(),$d.copy(t.boundingSphere).applyMatrix4(t.matrixWorld);else{const e=t.geometry;e.boundingSphere===null&&e.computeBoundingSphere(),$d.copy(e.boundingSphere).applyMatrix4(t.matrixWorld)}return this.intersectsSphere($d)}intersectsSprite(t){return $d.center.set(0,0,0),$d.radius=.7071067811865476,$d.applyMatrix4(t.matrixWorld),this.intersectsSphere($d)}intersectsSphere(t){const e=this.planes,i=t.center,a=-t.radius;for(let o=0;o<6;o++)if(e[o].distanceToPoint(i)<a)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const a=e[i];if(Ev.x=a.normal.x>0?t.max.x:t.min.x,Ev.y=a.normal.y>0?t.max.y:t.min.y,Ev.z=a.normal.z>0?t.max.z:t.min.z,a.distanceToPoint(Ev)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function cM(n,t){return n-t}function ZP(n,t){return n.z-t.z}function KP(n,t){return t.z-n.z}class QP{constructor(){this.index=0,this.pool=[],this.list=[]}push(t,e,i,a){const o=this.pool,c=this.list;this.index>=o.length&&o.push({start:-1,count:-1,z:-1,index:-1});const h=o[this.index];c.push(h),this.index++,h.start=t,h.count=e,h.z=i,h.index=a}reset(){this.list.length=0,this.index=0}}const Gr=new Ve,JP=new he(1,1,1),uM=new xx,wv=new Cr,th=new nr,I0=new J,oC=new J,$P=new J,dM=new QP,Za=new $i,Av=[];function tB(n,t,e=0){const i=t.itemSize;if(n.isInterleavedBufferAttribute||n.array.constructor!==t.array.constructor){const a=n.count;for(let o=0;o<a;o++)for(let c=0;c<i;c++)t.setComponent(o+e,c,n.getComponent(o,c))}else t.array.set(n.array,e*i);t.needsUpdate=!0}function eh(n,t){if(n.constructor!==t.constructor){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++)t[i]=n[i]}else{const e=Math.min(n.length,t.length);t.set(new n.constructor(n.buffer,0,e))}}class TU extends $i{constructor(t,e,i=e*2,a){super(new an,a),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=t,this._maxVertexCount=e,this._maxIndexCount=i,this._multiDrawCounts=new Int32Array(t),this._multiDrawStarts=new Int32Array(t),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let t=Math.sqrt(this._maxInstanceCount*4);t=Math.ceil(t/4)*4,t=Math.max(t,4);const e=new Float32Array(t*t*4),i=new Rl(e,t,t,$a,Kr);this._matricesTexture=i}_initIndirectTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Uint32Array(t*t),i=new Rl(e,t,t,px,Cc);this._indirectTexture=i}_initColorsTexture(){let t=Math.sqrt(this._maxInstanceCount);t=Math.ceil(t);const e=new Float32Array(t*t*4).fill(1),i=new Rl(e,t,t,$a,Kr);i.colorSpace=_n.workingColorSpace,this._colorsTexture=i}_initializeGeometry(t){const e=this.geometry,i=this._maxVertexCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in t.attributes){const c=t.getAttribute(o),{array:h,itemSize:p,normalized:m}=c,y=new h.constructor(i*p),v=new qn(y,p,m);e.setAttribute(o,v)}if(t.getIndex()!==null){const o=i>65535?new Uint32Array(a):new Uint16Array(a);e.setIndex(new qn(o,1))}this._geometryInitialized=!0}}_validateGeometry(t){const e=this.geometry;if(!!t.getIndex()!=!!e.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const i in e.attributes){if(!t.hasAttribute(i))throw new Error(`THREE.BatchedMesh: Added geometry missing "${i}". All geometries must have consistent attributes.`);const a=t.getAttribute(i),o=e.getAttribute(i);if(a.itemSize!==o.itemSize||a.normalized!==o.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(t){const e=this._instanceInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${t}. Instance is either out of range or has been deleted.`)}validateGeometryId(t){const e=this._geometryInfo;if(t<0||t>=e.length||e[t].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${t}. Geometry is either out of range or has been deleted.`)}setCustomSort(t){return this.customSort=t,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cr);const t=this.boundingBox,e=this._instanceInfo;t.makeEmpty();for(let i=0,a=e.length;i<a;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,Gr),this.getBoundingBoxAt(o,wv).applyMatrix4(Gr),t.union(wv)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new nr);const t=this.boundingSphere,e=this._instanceInfo;t.makeEmpty();for(let i=0,a=e.length;i<a;i++){if(e[i].active===!1)continue;const o=e[i].geometryIndex;this.getMatrixAt(i,Gr),this.getBoundingSphereAt(o,th).applyMatrix4(Gr),t.union(th)}}addInstance(t){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const i={visible:!0,active:!0,geometryIndex:t};let a=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(cM),a=this._availableInstanceIds.shift(),this._instanceInfo[a]=i):(a=this._instanceInfo.length,this._instanceInfo.push(i));const o=this._matricesTexture;Gr.identity().toArray(o.image.data,a*16),o.needsUpdate=!0;const c=this._colorsTexture;return c&&(JP.toArray(c.image.data,a*4),c.needsUpdate=!0),this._visibilityChanged=!0,a}addGeometry(t,e=-1,i=-1){this._initializeGeometry(t),this._validateGeometry(t);const a={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},o=this._geometryInfo;a.vertexStart=this._nextVertexStart,a.reservedVertexCount=e===-1?t.getAttribute("position").count:e;const c=t.getIndex();if(c!==null&&(a.indexStart=this._nextIndexStart,a.reservedIndexCount=i===-1?c.count:i),a.indexStart!==-1&&a.indexStart+a.reservedIndexCount>this._maxIndexCount||a.vertexStart+a.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let p;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(cM),p=this._availableGeometryIds.shift(),o[p]=a):(p=this._geometryCount,this._geometryCount++,o.push(a)),this.setGeometryAt(p,t),this._nextIndexStart=a.indexStart+a.reservedIndexCount,this._nextVertexStart=a.vertexStart+a.reservedVertexCount,p}setGeometryAt(t,e){if(t>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(e);const i=this.geometry,a=i.getIndex()!==null,o=i.getIndex(),c=e.getIndex(),h=this._geometryInfo[t];if(a&&c.count>h.reservedIndexCount||e.attributes.position.count>h.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const p=h.vertexStart,m=h.reservedVertexCount;h.vertexCount=e.getAttribute("position").count;for(const y in i.attributes){const v=e.getAttribute(y),b=i.getAttribute(y);tB(v,b,p);const M=v.itemSize;for(let E=v.count,R=m;E<R;E++){const C=p+E;for(let T=0;T<M;T++)b.setComponent(C,T,0)}b.needsUpdate=!0,b.addUpdateRange(p*M,m*M)}if(a){const y=h.indexStart,v=h.reservedIndexCount;h.indexCount=e.getIndex().count;for(let b=0;b<c.count;b++)o.setX(y+b,p+c.getX(b));for(let b=c.count,M=v;b<M;b++)o.setX(y+b,p);o.needsUpdate=!0,o.addUpdateRange(y,h.reservedIndexCount)}return h.start=a?h.indexStart:h.vertexStart,h.count=a?h.indexCount:h.vertexCount,h.boundingBox=null,e.boundingBox!==null&&(h.boundingBox=e.boundingBox.clone()),h.boundingSphere=null,e.boundingSphere!==null&&(h.boundingSphere=e.boundingSphere.clone()),this._visibilityChanged=!0,t}deleteGeometry(t){const e=this._geometryInfo;if(t>=e.length||e[t].active===!1)return this;const i=this._instanceInfo;for(let a=0,o=i.length;a<o;a++)i[a].active&&i[a].geometryIndex===t&&this.deleteInstance(a);return e[t].active=!1,this._availableGeometryIds.push(t),this._visibilityChanged=!0,this}deleteInstance(t){return this.validateInstanceId(t),this._instanceInfo[t].active=!1,this._availableInstanceIds.push(t),this._visibilityChanged=!0,this}optimize(){let t=0,e=0;const i=this._geometryInfo,a=i.map((c,h)=>h).sort((c,h)=>i[c].vertexStart-i[h].vertexStart),o=this.geometry;for(let c=0,h=i.length;c<h;c++){const p=a[c],m=i[p];if(m.active!==!1){if(o.index!==null){if(m.indexStart!==e){const{indexStart:y,vertexStart:v,reservedIndexCount:b}=m,M=o.index,E=M.array,R=t-v;for(let C=y;C<y+b;C++)E[C]=E[C]+R;M.array.copyWithin(e,y,y+b),M.addUpdateRange(e,b),m.indexStart=e}e+=m.reservedIndexCount}if(m.vertexStart!==t){const{vertexStart:y,reservedVertexCount:v}=m,b=o.attributes;for(const M in b){const E=b[M],{array:R,itemSize:C}=E;R.copyWithin(t*C,y*C,(y+v)*C),E.addUpdateRange(t*C,v*C)}m.vertexStart=t}t+=m.reservedVertexCount,m.start=o.index?m.indexStart:m.vertexStart,this._nextIndexStart=o.index?m.indexStart+m.reservedIndexCount:0,this._nextVertexStart=m.vertexStart+m.reservedVertexCount}}return this}getBoundingBoxAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[t];if(a.boundingBox===null){const o=new Cr,c=i.index,h=i.attributes.position;for(let p=a.start,m=a.start+a.count;p<m;p++){let y=p;c&&(y=c.getX(y)),o.expandByPoint(I0.fromBufferAttribute(h,y))}a.boundingBox=o}return e.copy(a.boundingBox),e}getBoundingSphereAt(t,e){if(t>=this._geometryCount)return null;const i=this.geometry,a=this._geometryInfo[t];if(a.boundingSphere===null){const o=new nr;this.getBoundingBoxAt(t,wv),wv.getCenter(o.center);const c=i.index,h=i.attributes.position;let p=0;for(let m=a.start,y=a.start+a.count;m<y;m++){let v=m;c&&(v=c.getX(v)),I0.fromBufferAttribute(h,v),p=Math.max(p,o.center.distanceToSquared(I0))}o.radius=Math.sqrt(p),a.boundingSphere=o}return e.copy(a.boundingSphere),e}setMatrixAt(t,e){this.validateInstanceId(t);const i=this._matricesTexture,a=this._matricesTexture.image.data;return e.toArray(a,t*16),i.needsUpdate=!0,this}getMatrixAt(t,e){return this.validateInstanceId(t),e.fromArray(this._matricesTexture.image.data,t*16)}setColorAt(t,e){return this.validateInstanceId(t),this._colorsTexture===null&&this._initColorsTexture(),e.toArray(this._colorsTexture.image.data,t*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(t,e){return this.validateInstanceId(t),e.fromArray(this._colorsTexture.image.data,t*4)}setVisibleAt(t,e){return this.validateInstanceId(t),this._instanceInfo[t].visible===e?this:(this._instanceInfo[t].visible=e,this._visibilityChanged=!0,this)}getVisibleAt(t){return this.validateInstanceId(t),this._instanceInfo[t].visible}setGeometryIdAt(t,e){return this.validateInstanceId(t),this.validateGeometryId(e),this._instanceInfo[t].geometryIndex=e,this}getGeometryIdAt(t){return this.validateInstanceId(t),this._instanceInfo[t].geometryIndex}getGeometryRangeAt(t,e={}){this.validateGeometryId(t);const i=this._geometryInfo[t];return e.vertexStart=i.vertexStart,e.vertexCount=i.vertexCount,e.reservedVertexCount=i.reservedVertexCount,e.indexStart=i.indexStart,e.indexCount=i.indexCount,e.reservedIndexCount=i.reservedIndexCount,e.start=i.start,e.count=i.count,e}setInstanceCount(t){const e=this._availableInstanceIds,i=this._instanceInfo;for(e.sort(cM);e[e.length-1]===i.length;)i.pop(),e.pop();if(t<i.length)throw new Error(`BatchedMesh: Instance ids outside the range ${t} are being used. Cannot shrink instance count.`);const a=new Int32Array(t),o=new Int32Array(t);eh(this._multiDrawCounts,a),eh(this._multiDrawStarts,o),this._multiDrawCounts=a,this._multiDrawStarts=o,this._maxInstanceCount=t;const c=this._indirectTexture,h=this._matricesTexture,p=this._colorsTexture;c.dispose(),this._initIndirectTexture(),eh(c.image.data,this._indirectTexture.image.data),h.dispose(),this._initMatricesTexture(),eh(h.image.data,this._matricesTexture.image.data),p&&(p.dispose(),this._initColorsTexture(),eh(p.image.data,this._colorsTexture.image.data))}setGeometrySize(t,e){const i=[...this._geometryInfo].filter(h=>h.active);if(Math.max(...i.map(h=>h.vertexStart+h.reservedVertexCount))>t)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${e}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...i.map(p=>p.indexStart+p.reservedIndexCount))>e)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${e}. Cannot shrink further.`);const o=this.geometry;o.dispose(),this._maxVertexCount=t,this._maxIndexCount=e,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new an,this._initializeGeometry(o));const c=this.geometry;o.index&&eh(o.index.array,c.index.array);for(const h in o.attributes)eh(o.attributes[h].array,c.attributes[h].array)}raycast(t,e){const i=this._instanceInfo,a=this._geometryInfo,o=this.matrixWorld,c=this.geometry;Za.material=this.material,Za.geometry.index=c.index,Za.geometry.attributes=c.attributes,Za.geometry.boundingBox===null&&(Za.geometry.boundingBox=new Cr),Za.geometry.boundingSphere===null&&(Za.geometry.boundingSphere=new nr);for(let h=0,p=i.length;h<p;h++){if(!i[h].visible||!i[h].active)continue;const m=i[h].geometryIndex,y=a[m];Za.geometry.setDrawRange(y.start,y.count),this.getMatrixAt(h,Za.matrixWorld).premultiply(o),this.getBoundingBoxAt(m,Za.geometry.boundingBox),this.getBoundingSphereAt(m,Za.geometry.boundingSphere),Za.raycast(t,Av);for(let v=0,b=Av.length;v<b;v++){const M=Av[v];M.object=this,M.batchId=h,e.push(M)}Av.length=0}Za.material=null,Za.geometry.index=null,Za.geometry.attributes={},Za.geometry.setDrawRange(0,1/0)}copy(t){return super.copy(t),this.geometry=t.geometry.clone(),this.perObjectFrustumCulled=t.perObjectFrustumCulled,this.sortObjects=t.sortObjects,this.boundingBox=t.boundingBox!==null?t.boundingBox.clone():null,this.boundingSphere=t.boundingSphere!==null?t.boundingSphere.clone():null,this._geometryInfo=t._geometryInfo.map(e=>({...e,boundingBox:e.boundingBox!==null?e.boundingBox.clone():null,boundingSphere:e.boundingSphere!==null?e.boundingSphere.clone():null})),this._instanceInfo=t._instanceInfo.map(e=>({...e})),this._maxInstanceCount=t._maxInstanceCount,this._maxVertexCount=t._maxVertexCount,this._maxIndexCount=t._maxIndexCount,this._geometryInitialized=t._geometryInitialized,this._geometryCount=t._geometryCount,this._multiDrawCounts=t._multiDrawCounts.slice(),this._multiDrawStarts=t._multiDrawStarts.slice(),this._matricesTexture=t._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=t._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(t,e,i,a,o){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const c=a.getIndex(),h=c===null?1:c.array.BYTES_PER_ELEMENT,p=this._instanceInfo,m=this._multiDrawStarts,y=this._multiDrawCounts,v=this._geometryInfo,b=this.perObjectFrustumCulled,M=this._indirectTexture,E=M.image.data;b&&(Gr.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse).multiply(this.matrixWorld),uM.setFromProjectionMatrix(Gr,t.coordinateSystem));let R=0;if(this.sortObjects){Gr.copy(this.matrixWorld).invert(),I0.setFromMatrixPosition(i.matrixWorld).applyMatrix4(Gr),oC.set(0,0,-1).transformDirection(i.matrixWorld).transformDirection(Gr);for(let D=0,j=p.length;D<j;D++)if(p[D].visible&&p[D].active){const N=p[D].geometryIndex;this.getMatrixAt(D,Gr),this.getBoundingSphereAt(N,th).applyMatrix4(Gr);let B=!1;if(b&&(B=!uM.intersectsSphere(th)),!B){const P=v[N],H=$P.subVectors(th.center,I0).dot(oC);dM.push(P.start,P.count,H,D)}}const C=dM.list,T=this.customSort;T===null?C.sort(o.transparent?KP:ZP):T.call(this,C,i);for(let D=0,j=C.length;D<j;D++){const N=C[D];m[R]=N.start*h,y[R]=N.count,E[R]=N.index,R++}dM.reset()}else for(let C=0,T=p.length;C<T;C++)if(p[C].visible&&p[C].active){const D=p[C].geometryIndex;let j=!1;if(b&&(this.getMatrixAt(C,Gr),this.getBoundingSphereAt(D,th).applyMatrix4(Gr),j=!uM.intersectsSphere(th)),!j){const N=v[D];m[R]=N.start*h,y[R]=N.count,E[R]=C,R++}}M.needsUpdate=!0,this._multiDrawCount=R,this._visibilityChanged=!1}onBeforeShadow(t,e,i,a,o,c){this.onBeforeRender(t,null,a,o,c)}}class Rr extends ir{constructor(t){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new he(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.fog=t.fog,this}}const Vb=new J,Hb=new J,lC=new Ve,F0=new Vh,Cv=new nr,hM=new J,cC=new J;let Ku=class extends wn{constructor(t=new an,e=new Rr){super(),this.isLine=!0,this.type="Line",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[0];for(let a=1,o=e.count;a<o;a++)Vb.fromBufferAttribute(e,a-1),Hb.fromBufferAttribute(e,a),i[a]=i[a-1],i[a]+=Vb.distanceTo(Hb);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(t,e){const i=this.geometry,a=this.matrixWorld,o=t.params.Line.threshold,c=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Cv.copy(i.boundingSphere),Cv.applyMatrix4(a),Cv.radius+=o,t.ray.intersectsSphere(Cv)===!1)return;lC.copy(a).invert(),F0.copy(t.ray).applyMatrix4(lC);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,m=this.isLineSegments?2:1,y=i.index,b=i.attributes.position;if(y!==null){const M=Math.max(0,c.start),E=Math.min(y.count,c.start+c.count);for(let R=M,C=E-1;R<C;R+=m){const T=y.getX(R),D=y.getX(R+1),j=Rv(this,t,F0,p,T,D,R);j&&e.push(j)}if(this.isLineLoop){const R=y.getX(E-1),C=y.getX(M),T=Rv(this,t,F0,p,R,C,E-1);T&&e.push(T)}}else{const M=Math.max(0,c.start),E=Math.min(b.count,c.start+c.count);for(let R=M,C=E-1;R<C;R+=m){const T=Rv(this,t,F0,p,R,R+1,R);T&&e.push(T)}if(this.isLineLoop){const R=Rv(this,t,F0,p,E-1,M,E-1);R&&e.push(R)}}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=a.length;o<c;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}};function Rv(n,t,e,i,a,o,c){const h=n.geometry.attributes.position;if(Vb.fromBufferAttribute(h,a),Hb.fromBufferAttribute(h,o),e.distanceSqToSegment(Vb,Hb,hM,cC)>i)return;hM.applyMatrix4(n.matrixWorld);const m=t.ray.origin.distanceTo(hM);if(!(m<t.near||m>t.far))return{distance:m,point:cC.clone().applyMatrix4(n.matrixWorld),index:c,face:null,faceIndex:null,barycoord:null,object:n}}const uC=new J,dC=new J;class Pl extends Ku{constructor(t,e){super(t,e),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.index===null){const e=t.attributes.position,i=[];for(let a=0,o=e.count;a<o;a+=2)uC.fromBufferAttribute(e,a),dC.fromBufferAttribute(e,a+1),i[a]=a===0?0:i[a-1],i[a+1]=i[a]+uC.distanceTo(dC);t.setAttribute("lineDistance",new be(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class EU extends Ku{constructor(t,e){super(t,e),this.isLineLoop=!0,this.type="LineLoop"}}class yE extends ir{constructor(t){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new he(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.fog=t.fog,this}}const hC=new Ve,hT=new Vh,Dv=new nr,Uv=new J;let wU=class extends wn{constructor(t=new an,e=new yE){super(),this.isPoints=!0,this.type="Points",this.geometry=t,this.material=e,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(t,e){return super.copy(t,e),this.material=Array.isArray(t.material)?t.material.slice():t.material,this.geometry=t.geometry,this}raycast(t,e){const i=this.geometry,a=this.matrixWorld,o=t.params.Points.threshold,c=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),Dv.copy(i.boundingSphere),Dv.applyMatrix4(a),Dv.radius+=o,t.ray.intersectsSphere(Dv)===!1)return;hC.copy(a).invert(),hT.copy(t.ray).applyMatrix4(hC);const h=o/((this.scale.x+this.scale.y+this.scale.z)/3),p=h*h,m=i.index,v=i.attributes.position;if(m!==null){const b=Math.max(0,c.start),M=Math.min(m.count,c.start+c.count);for(let E=b,R=M;E<R;E++){const C=m.getX(E);Uv.fromBufferAttribute(v,C),fC(Uv,C,p,a,t,e,this)}}else{const b=Math.max(0,c.start),M=Math.min(v.count,c.start+c.count);for(let E=b,R=M;E<R;E++)Uv.fromBufferAttribute(v,E),fC(Uv,E,p,a,t,e,this)}}updateMorphTargets(){const e=this.geometry.morphAttributes,i=Object.keys(e);if(i.length>0){const a=e[i[0]];if(a!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let o=0,c=a.length;o<c;o++){const h=a[o].name||String(o);this.morphTargetInfluences.push(0),this.morphTargetDictionary[h]=o}}}}};function fC(n,t,e,i,a,o,c){const h=hT.distanceSqToPoint(n);if(h<e){const p=new J;hT.closestPointToPoint(n,p),p.applyMatrix4(i);const m=a.ray.origin.distanceTo(p);if(m<a.near||m>a.far)return;o.push({distance:m,distanceToRay:Math.sqrt(h),point:p,index:t,face:null,faceIndex:null,barycoord:null,object:c})}}class AU extends Li{constructor(t,e,i,a,o=ua,c=ua,h,p,m){super(t,e,i,a,o,c,h,p,m),this.isVideoTexture=!0,this.generateMipmaps=!1;const y=this;function v(){y.needsUpdate=!0,t.requestVideoFrameCallback(v)}"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(v)}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t===!1&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class eB extends AU{constructor(t,e,i,a,o,c,h,p){super({},t,e,i,a,o,c,h,p),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(t){this.image=t,this.needsUpdate=!0}}class nB extends Li{constructor(t,e){super({width:t,height:e}),this.isFramebufferTexture=!0,this.magFilter=za,this.minFilter=za,this.generateMipmaps=!1,this.needsUpdate=!0}}class E_ extends Li{constructor(t,e,i,a,o,c,h,p,m,y,v,b){super(null,c,h,p,m,y,a,o,v,b),this.isCompressedTexture=!0,this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}class iB extends E_{constructor(t,e,i,a,o,c){super(t,e,i,o,c),this.isCompressedArrayTexture=!0,this.image.depth=a,this.wrapR=Ys,this.layerUpdates=new Set}addLayerUpdate(t){this.layerUpdates.add(t)}clearLayerUpdates(){this.layerUpdates.clear()}}class aB extends E_{constructor(t,e,i){super(void 0,t[0].width,t[0].height,e,i,Ac),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=t}}class rB extends Li{constructor(t,e,i,a,o,c,h,p,m){super(t,e,i,a,o,c,h,p,m),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vE extends Li{constructor(t,e,i=Cc,a,o,c,h=za,p=za,m,y=Zp){if(y!==Zp&&y!==Kp)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");super(null,a,o,c,h,p,y,i,m),this.isDepthTexture=!0,this.image={width:t,height:e},this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(t){return super.copy(t),this.source=new Xu(Object.assign({},t.image)),this.compareFunction=t.compareFunction,this}toJSON(t){const e=super.toJSON(t);return this.compareFunction!==null&&(e.compareFunction=this.compareFunction),e}}class zo{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){console.warn("THREE.Curve: .getPoint() not implemented.")}getPointAt(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)}getPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e}getSpacedPoints(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,a=this.getPoint(0),o=0;e.push(0);for(let c=1;c<=t;c++)i=this.getPoint(c/t),o+=i.distanceTo(a),e.push(o),a=i;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e=null){const i=this.getLengths();let a=0;const o=i.length;let c;e?c=e:c=t*i[o-1];let h=0,p=o-1,m;for(;h<=p;)if(a=Math.floor(h+(p-h)/2),m=i[a]-c,m<0)h=a+1;else if(m>0)p=a-1;else{p=a;break}if(a=p,i[a]===c)return a/(o-1);const y=i[a],b=i[a+1]-y,M=(c-y)/b;return(a+M)/(o-1)}getTangent(t,e){let a=t-1e-4,o=t+1e-4;a<0&&(a=0),o>1&&(o=1);const c=this.getPoint(a),h=this.getPoint(o),p=e||(c.isVector2?new Gt:new J);return p.copy(h).sub(c).normalize(),p}getTangentAt(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)}computeFrenetFrames(t,e=!1){const i=new J,a=[],o=[],c=[],h=new J,p=new Ve;for(let M=0;M<=t;M++){const E=M/t;a[M]=this.getTangentAt(E,new J)}o[0]=new J,c[0]=new J;let m=Number.MAX_VALUE;const y=Math.abs(a[0].x),v=Math.abs(a[0].y),b=Math.abs(a[0].z);y<=m&&(m=y,i.set(1,0,0)),v<=m&&(m=v,i.set(0,1,0)),b<=m&&i.set(0,0,1),h.crossVectors(a[0],i).normalize(),o[0].crossVectors(a[0],h),c[0].crossVectors(a[0],o[0]);for(let M=1;M<=t;M++){if(o[M]=o[M-1].clone(),c[M]=c[M-1].clone(),h.crossVectors(a[M-1],a[M]),h.length()>Number.EPSILON){h.normalize();const E=Math.acos(Ye(a[M-1].dot(a[M]),-1,1));o[M].applyMatrix4(p.makeRotationAxis(h,E))}c[M].crossVectors(a[M],o[M])}if(e===!0){let M=Math.acos(Ye(o[0].dot(o[t]),-1,1));M/=t,a[0].dot(h.crossVectors(o[0],o[t]))>0&&(M=-M);for(let E=1;E<=t;E++)o[E].applyMatrix4(p.makeRotationAxis(a[E],M*E)),c[E].crossVectors(a[E],o[E])}return{tangents:a,normals:o,binormals:c}}clone(){return new this.constructor().copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class w_ extends zo{constructor(t=0,e=0,i=1,a=1,o=0,c=Math.PI*2,h=!1,p=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=i,this.yRadius=a,this.aStartAngle=o,this.aEndAngle=c,this.aClockwise=h,this.aRotation=p}getPoint(t,e=new Gt){const i=e,a=Math.PI*2;let o=this.aEndAngle-this.aStartAngle;const c=Math.abs(o)<Number.EPSILON;for(;o<0;)o+=a;for(;o>a;)o-=a;o<Number.EPSILON&&(c?o=0:o=a),this.aClockwise===!0&&!c&&(o===a?o=-a:o=o-a);const h=this.aStartAngle+t*o;let p=this.aX+this.xRadius*Math.cos(h),m=this.aY+this.yRadius*Math.sin(h);if(this.aRotation!==0){const y=Math.cos(this.aRotation),v=Math.sin(this.aRotation),b=p-this.aX,M=m-this.aY;p=b*y-M*v+this.aX,m=b*v+M*y+this.aY}return i.set(p,m)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}class CU extends w_{constructor(t,e,i,a,o,c){super(t,e,i,i,a,o,c),this.isArcCurve=!0,this.type="ArcCurve"}}function bE(){let n=0,t=0,e=0,i=0;function a(o,c,h,p){n=o,t=h,e=-3*o+3*c-2*h-p,i=2*o-2*c+h+p}return{initCatmullRom:function(o,c,h,p,m){a(c,h,m*(h-o),m*(p-c))},initNonuniformCatmullRom:function(o,c,h,p,m,y,v){let b=(c-o)/m-(h-o)/(m+y)+(h-c)/y,M=(h-c)/y-(p-c)/(y+v)+(p-h)/v;b*=y,M*=y,a(c,h,b,M)},calc:function(o){const c=o*o,h=c*o;return n+t*o+e*c+i*h}}}const jv=new J,fM=new bE,pM=new bE,mM=new bE;class RU extends zo{constructor(t=[],e=!1,i="centripetal",a=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=a}getPoint(t,e=new J){const i=e,a=this.points,o=a.length,c=(o-(this.closed?0:1))*t;let h=Math.floor(c),p=c-h;this.closed?h+=h>0?0:(Math.floor(Math.abs(h)/o)+1)*o:p===0&&h===o-1&&(h=o-2,p=1);let m,y;this.closed||h>0?m=a[(h-1)%o]:(jv.subVectors(a[0],a[1]).add(a[0]),m=jv);const v=a[h%o],b=a[(h+1)%o];if(this.closed||h+2<o?y=a[(h+2)%o]:(jv.subVectors(a[o-1],a[o-2]).add(a[o-1]),y=jv),this.curveType==="centripetal"||this.curveType==="chordal"){const M=this.curveType==="chordal"?.5:.25;let E=Math.pow(m.distanceToSquared(v),M),R=Math.pow(v.distanceToSquared(b),M),C=Math.pow(b.distanceToSquared(y),M);R<1e-4&&(R=1),E<1e-4&&(E=R),C<1e-4&&(C=R),fM.initNonuniformCatmullRom(m.x,v.x,b.x,y.x,E,R,C),pM.initNonuniformCatmullRom(m.y,v.y,b.y,y.y,E,R,C),mM.initNonuniformCatmullRom(m.z,v.z,b.z,y.z,E,R,C)}else this.curveType==="catmullrom"&&(fM.initCatmullRom(m.x,v.x,b.x,y.x,this.tension),pM.initCatmullRom(m.y,v.y,b.y,y.y,this.tension),mM.initCatmullRom(m.z,v.z,b.z,y.z,this.tension));return i.set(fM.calc(p),pM.calc(p),mM.calc(p)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const a=t.points[e];this.points.push(a.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const a=this.points[e];t.points.push(a.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const a=t.points[e];this.points.push(new J().fromArray(a))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function pC(n,t,e,i,a){const o=(i-t)*.5,c=(a-e)*.5,h=n*n,p=n*h;return(2*e-2*i+o+c)*p+(-3*e+3*i-2*o-c)*h+o*n+e}function sB(n,t){const e=1-n;return e*e*t}function oB(n,t){return 2*(1-n)*n*t}function lB(n,t){return n*n*t}function Rg(n,t,e,i){return sB(n,t)+oB(n,e)+lB(n,i)}function cB(n,t){const e=1-n;return e*e*e*t}function uB(n,t){const e=1-n;return 3*e*e*n*t}function dB(n,t){return 3*(1-n)*n*n*t}function hB(n,t){return n*n*n*t}function Dg(n,t,e,i,a){return cB(n,t)+uB(n,e)+dB(n,i)+hB(n,a)}class _E extends zo{constructor(t=new Gt,e=new Gt,i=new Gt,a=new Gt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=a}getPoint(t,e=new Gt){const i=e,a=this.v0,o=this.v1,c=this.v2,h=this.v3;return i.set(Dg(t,a.x,o.x,c.x,h.x),Dg(t,a.y,o.y,c.y,h.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class DU extends zo{constructor(t=new J,e=new J,i=new J,a=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=a}getPoint(t,e=new J){const i=e,a=this.v0,o=this.v1,c=this.v2,h=this.v3;return i.set(Dg(t,a.x,o.x,c.x,h.x),Dg(t,a.y,o.y,c.y,h.y),Dg(t,a.z,o.z,c.z,h.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}class SE extends zo{constructor(t=new Gt,e=new Gt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new Gt){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new Gt){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class UU extends zo{constructor(t=new J,e=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=t,this.v2=e}getPoint(t,e=new J){const i=e;return t===1?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e=new J){return e.subVectors(this.v2,this.v1).normalize()}getTangentAt(t,e){return this.getTangent(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class ME extends zo{constructor(t=new Gt,e=new Gt,i=new Gt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new Gt){const i=e,a=this.v0,o=this.v1,c=this.v2;return i.set(Rg(t,a.x,o.x,c.x),Rg(t,a.y,o.y,c.y)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class TE extends zo{constructor(t=new J,e=new J,i=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}getPoint(t,e=new J){const i=e,a=this.v0,o=this.v1,c=this.v2;return i.set(Rg(t,a.x,o.x,c.x),Rg(t,a.y,o.y,c.y),Rg(t,a.z,o.z,c.z)),i}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}class EE extends zo{constructor(t=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=t}getPoint(t,e=new Gt){const i=e,a=this.points,o=(a.length-1)*t,c=Math.floor(o),h=o-c,p=a[c===0?c:c-1],m=a[c],y=a[c>a.length-2?a.length-1:c+1],v=a[c>a.length-3?a.length-1:c+2];return i.set(pC(h,p.x,m.x,y.x,v.x),pC(h,p.y,m.y,y.y,v.y)),i}copy(t){super.copy(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const a=t.points[e];this.points.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,i=this.points.length;e<i;e++){const a=this.points[e];t.points.push(a.toArray())}return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const a=t.points[e];this.points.push(new Gt().fromArray(a))}return this}}var kb=Object.freeze({__proto__:null,ArcCurve:CU,CatmullRomCurve3:RU,CubicBezierCurve:_E,CubicBezierCurve3:DU,EllipseCurve:w_,LineCurve:SE,LineCurve3:UU,QuadraticBezierCurve:ME,QuadraticBezierCurve3:TE,SplineCurve:EE});class jU extends zo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);if(!t.equals(e)){const i=t.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new kb[i](e,t))}return this}getPoint(t,e){const i=t*this.getLength(),a=this.getCurveLengths();let o=0;for(;o<a.length;){if(a[o]>=i){const c=a[o]-i,h=this.curves[o],p=h.getLength(),m=p===0?0:1-c/p;return h.getPointAt(m,e)}o++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,a=this.curves.length;i<a;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let i;for(let a=0,o=this.curves;a<o.length;a++){const c=o[a],h=c.isEllipseCurve?t*2:c.isLineCurve||c.isLineCurve3?1:c.isSplineCurve?t*c.points.length:t,p=c.getPoints(h);for(let m=0;m<p.length;m++){const y=p[m];i&&i.equals(y)||(e.push(y),i=y)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const a=t.curves[e];this.curves.push(a.clone())}return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const a=this.curves[e];t.curves.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const a=t.curves[e];this.curves.push(new kb[a.type]().fromJSON(a))}return this}}class Wg extends jU{constructor(t){super(),this.type="Path",this.currentPoint=new Gt,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const i=new SE(this.currentPoint.clone(),new Gt(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,i,a){const o=new ME(this.currentPoint.clone(),new Gt(t,e),new Gt(i,a));return this.curves.push(o),this.currentPoint.set(i,a),this}bezierCurveTo(t,e,i,a,o,c){const h=new _E(this.currentPoint.clone(),new Gt(t,e),new Gt(i,a),new Gt(o,c));return this.curves.push(h),this.currentPoint.set(o,c),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),i=new EE(e);return this.curves.push(i),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,i,a,o,c){const h=this.currentPoint.x,p=this.currentPoint.y;return this.absarc(t+h,e+p,i,a,o,c),this}absarc(t,e,i,a,o,c){return this.absellipse(t,e,i,i,a,o,c),this}ellipse(t,e,i,a,o,c,h,p){const m=this.currentPoint.x,y=this.currentPoint.y;return this.absellipse(t+m,e+y,i,a,o,c,h,p),this}absellipse(t,e,i,a,o,c,h,p){const m=new w_(t,e,i,a,o,c,h,p);if(this.curves.length>0){const v=m.getPoint(0);v.equals(this.currentPoint)||this.lineTo(v.x,v.y)}this.curves.push(m);const y=m.getPoint(1);return this.currentPoint.copy(y),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class yx extends an{constructor(t=[new Gt(0,-.5),new Gt(.5,0),new Gt(0,.5)],e=12,i=0,a=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:i,phiLength:a},e=Math.floor(e),a=Ye(a,0,Math.PI*2);const o=[],c=[],h=[],p=[],m=[],y=1/e,v=new J,b=new Gt,M=new J,E=new J,R=new J;let C=0,T=0;for(let D=0;D<=t.length-1;D++)switch(D){case 0:C=t[D+1].x-t[D].x,T=t[D+1].y-t[D].y,M.x=T*1,M.y=-C,M.z=T*0,R.copy(M),M.normalize(),p.push(M.x,M.y,M.z);break;case t.length-1:p.push(R.x,R.y,R.z);break;default:C=t[D+1].x-t[D].x,T=t[D+1].y-t[D].y,M.x=T*1,M.y=-C,M.z=T*0,E.copy(M),M.x+=R.x,M.y+=R.y,M.z+=R.z,M.normalize(),p.push(M.x,M.y,M.z),R.copy(E)}for(let D=0;D<=e;D++){const j=i+D*y*a,N=Math.sin(j),B=Math.cos(j);for(let P=0;P<=t.length-1;P++){v.x=t[P].x*N,v.y=t[P].y,v.z=t[P].x*B,c.push(v.x,v.y,v.z),b.x=D/e,b.y=P/(t.length-1),h.push(b.x,b.y);const H=p[3*P+0]*N,k=p[3*P+1],I=p[3*P+0]*B;m.push(H,k,I)}}for(let D=0;D<e;D++)for(let j=0;j<t.length-1;j++){const N=j+D*t.length,B=N,P=N+t.length,H=N+t.length+1,k=N+1;o.push(B,P,k),o.push(H,k,P)}this.setIndex(o),this.setAttribute("position",new be(c,3)),this.setAttribute("uv",new be(h,2)),this.setAttribute("normal",new be(m,3))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new yx(t.points,t.segments,t.phiStart,t.phiLength)}}class A_ extends yx{constructor(t=1,e=1,i=4,a=8){const o=new Wg;o.absarc(0,-e/2,t,Math.PI*1.5,0),o.absarc(0,e/2,t,0,Math.PI*.5),super(o.getPoints(i),a),this.type="CapsuleGeometry",this.parameters={radius:t,length:e,capSegments:i,radialSegments:a}}static fromJSON(t){return new A_(t.radius,t.length,t.capSegments,t.radialSegments)}}class C_ extends an{constructor(t=1,e=32,i=0,a=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:i,thetaLength:a},e=Math.max(3,e);const o=[],c=[],h=[],p=[],m=new J,y=new Gt;c.push(0,0,0),h.push(0,0,1),p.push(.5,.5);for(let v=0,b=3;v<=e;v++,b+=3){const M=i+v/e*a;m.x=t*Math.cos(M),m.y=t*Math.sin(M),c.push(m.x,m.y,m.z),h.push(0,0,1),y.x=(c[b]/t+1)/2,y.y=(c[b+1]/t+1)/2,p.push(y.x,y.y)}for(let v=1;v<=e;v++)o.push(v,v+1,0);this.setIndex(o),this.setAttribute("position",new be(c,3)),this.setAttribute("normal",new be(h,3)),this.setAttribute("uv",new be(p,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new C_(t.radius,t.segments,t.thetaStart,t.thetaLength)}}class cm extends an{constructor(t=1,e=1,i=1,a=32,o=1,c=!1,h=0,p=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:i,radialSegments:a,heightSegments:o,openEnded:c,thetaStart:h,thetaLength:p};const m=this;a=Math.floor(a),o=Math.floor(o);const y=[],v=[],b=[],M=[];let E=0;const R=[],C=i/2;let T=0;D(),c===!1&&(t>0&&j(!0),e>0&&j(!1)),this.setIndex(y),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(b,3)),this.setAttribute("uv",new be(M,2));function D(){const N=new J,B=new J;let P=0;const H=(e-t)/i;for(let k=0;k<=o;k++){const I=[],z=k/o,K=z*(e-t)+t;for(let ft=0;ft<=a;ft++){const st=ft/a,xt=st*p+h,bt=Math.sin(xt),F=Math.cos(xt);B.x=K*bt,B.y=-z*i+C,B.z=K*F,v.push(B.x,B.y,B.z),N.set(bt,H,F).normalize(),b.push(N.x,N.y,N.z),M.push(st,1-z),I.push(E++)}R.push(I)}for(let k=0;k<a;k++)for(let I=0;I<o;I++){const z=R[I][k],K=R[I+1][k],ft=R[I+1][k+1],st=R[I][k+1];(t>0||I!==0)&&(y.push(z,K,st),P+=3),(e>0||I!==o-1)&&(y.push(K,ft,st),P+=3)}m.addGroup(T,P,0),T+=P}function j(N){const B=E,P=new Gt,H=new J;let k=0;const I=N===!0?t:e,z=N===!0?1:-1;for(let ft=1;ft<=a;ft++)v.push(0,C*z,0),b.push(0,z,0),M.push(.5,.5),E++;const K=E;for(let ft=0;ft<=a;ft++){const xt=ft/a*p+h,bt=Math.cos(xt),F=Math.sin(xt);H.x=I*F,H.y=C*z,H.z=I*bt,v.push(H.x,H.y,H.z),b.push(0,z,0),P.x=bt*.5+.5,P.y=F*.5*z+.5,M.push(P.x,P.y),E++}for(let ft=0;ft<a;ft++){const st=B+ft,xt=K+ft;N===!0?y.push(xt,xt+1,st):y.push(xt+1,xt,st),k+=3}m.addGroup(T,k,N===!0?1:2),T+=k}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new cm(t.radiusTop,t.radiusBottom,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class R_ extends cm{constructor(t=1,e=1,i=32,a=1,o=!1,c=0,h=Math.PI*2){super(0,t,e,i,a,o,c,h),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:c,thetaLength:h}}static fromJSON(t){return new R_(t.radius,t.height,t.radialSegments,t.heightSegments,t.openEnded,t.thetaStart,t.thetaLength)}}class ed extends an{constructor(t=[],e=[],i=1,a=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:i,detail:a};const o=[],c=[];h(a),m(i),y(),this.setAttribute("position",new be(o,3)),this.setAttribute("normal",new be(o.slice(),3)),this.setAttribute("uv",new be(c,2)),a===0?this.computeVertexNormals():this.normalizeNormals();function h(D){const j=new J,N=new J,B=new J;for(let P=0;P<e.length;P+=3)M(e[P+0],j),M(e[P+1],N),M(e[P+2],B),p(j,N,B,D)}function p(D,j,N,B){const P=B+1,H=[];for(let k=0;k<=P;k++){H[k]=[];const I=D.clone().lerp(N,k/P),z=j.clone().lerp(N,k/P),K=P-k;for(let ft=0;ft<=K;ft++)ft===0&&k===P?H[k][ft]=I:H[k][ft]=I.clone().lerp(z,ft/K)}for(let k=0;k<P;k++)for(let I=0;I<2*(P-k)-1;I++){const z=Math.floor(I/2);I%2===0?(b(H[k][z+1]),b(H[k+1][z]),b(H[k][z])):(b(H[k][z+1]),b(H[k+1][z+1]),b(H[k+1][z]))}}function m(D){const j=new J;for(let N=0;N<o.length;N+=3)j.x=o[N+0],j.y=o[N+1],j.z=o[N+2],j.normalize().multiplyScalar(D),o[N+0]=j.x,o[N+1]=j.y,o[N+2]=j.z}function y(){const D=new J;for(let j=0;j<o.length;j+=3){D.x=o[j+0],D.y=o[j+1],D.z=o[j+2];const N=C(D)/2/Math.PI+.5,B=T(D)/Math.PI+.5;c.push(N,1-B)}E(),v()}function v(){for(let D=0;D<c.length;D+=6){const j=c[D+0],N=c[D+2],B=c[D+4],P=Math.max(j,N,B),H=Math.min(j,N,B);P>.9&&H<.1&&(j<.2&&(c[D+0]+=1),N<.2&&(c[D+2]+=1),B<.2&&(c[D+4]+=1))}}function b(D){o.push(D.x,D.y,D.z)}function M(D,j){const N=D*3;j.x=t[N+0],j.y=t[N+1],j.z=t[N+2]}function E(){const D=new J,j=new J,N=new J,B=new J,P=new Gt,H=new Gt,k=new Gt;for(let I=0,z=0;I<o.length;I+=9,z+=6){D.set(o[I+0],o[I+1],o[I+2]),j.set(o[I+3],o[I+4],o[I+5]),N.set(o[I+6],o[I+7],o[I+8]),P.set(c[z+0],c[z+1]),H.set(c[z+2],c[z+3]),k.set(c[z+4],c[z+5]),B.copy(D).add(j).add(N).divideScalar(3);const K=C(B);R(P,z+0,D,K),R(H,z+2,j,K),R(k,z+4,N,K)}}function R(D,j,N,B){B<0&&D.x===1&&(c[j]=D.x-1),N.x===0&&N.z===0&&(c[j]=B/2/Math.PI+.5)}function C(D){return Math.atan2(D.z,-D.x)}function T(D){return Math.atan2(-D.y,Math.sqrt(D.x*D.x+D.z*D.z))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new ed(t.vertices,t.indices,t.radius,t.details)}}class D_ extends ed{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,a=1/i,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-a,-i,0,-a,i,0,a,-i,0,a,i,-a,-i,0,-a,i,0,a,-i,0,a,i,0,-i,0,-a,i,0,-a,-i,0,a,i,0,a],c=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(o,c,t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new D_(t.radius,t.detail)}}const Lv=new J,Nv=new J,gM=new J,Ov=new Zr;class LU extends an{constructor(t=null,e=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:t,thresholdAngle:e},t!==null){const a=Math.pow(10,4),o=Math.cos(Lh*e),c=t.getIndex(),h=t.getAttribute("position"),p=c?c.count:h.count,m=[0,0,0],y=["a","b","c"],v=new Array(3),b={},M=[];for(let E=0;E<p;E+=3){c?(m[0]=c.getX(E),m[1]=c.getX(E+1),m[2]=c.getX(E+2)):(m[0]=E,m[1]=E+1,m[2]=E+2);const{a:R,b:C,c:T}=Ov;if(R.fromBufferAttribute(h,m[0]),C.fromBufferAttribute(h,m[1]),T.fromBufferAttribute(h,m[2]),Ov.getNormal(gM),v[0]=`${Math.round(R.x*a)},${Math.round(R.y*a)},${Math.round(R.z*a)}`,v[1]=`${Math.round(C.x*a)},${Math.round(C.y*a)},${Math.round(C.z*a)}`,v[2]=`${Math.round(T.x*a)},${Math.round(T.y*a)},${Math.round(T.z*a)}`,!(v[0]===v[1]||v[1]===v[2]||v[2]===v[0]))for(let D=0;D<3;D++){const j=(D+1)%3,N=v[D],B=v[j],P=Ov[y[D]],H=Ov[y[j]],k=`${N}_${B}`,I=`${B}_${N}`;I in b&&b[I]?(gM.dot(b[I].normal)<=o&&(M.push(P.x,P.y,P.z),M.push(H.x,H.y,H.z)),b[I]=null):k in b||(b[k]={index0:m[D],index1:m[j],normal:gM.clone()})}}for(const E in b)if(b[E]){const{index0:R,index1:C}=b[E];Lv.fromBufferAttribute(h,R),Nv.fromBufferAttribute(h,C),M.push(Lv.x,Lv.y,Lv.z),M.push(Nv.x,Nv.y,Nv.z)}this.setAttribute("position",new be(M,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}class Nh extends Wg{constructor(t){super(t),this.uuid=vs(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let i=0,a=this.holes.length;i<a;i++)e[i]=this.holes[i].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const a=t.holes[e];this.holes.push(a.clone())}return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const a=this.holes[e];t.holes.push(a.toJSON())}return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const a=t.holes[e];this.holes.push(new Wg().fromJSON(a))}return this}}function fB(n,t,e=2){const i=t&&t.length,a=i?t[0]*e:n.length;let o=NU(n,0,a,e,!0);const c=[];if(!o||o.next===o.prev)return c;let h,p,m;if(i&&(o=yB(n,t,o,e)),n.length>80*e){h=1/0,p=1/0;let y=-1/0,v=-1/0;for(let b=e;b<a;b+=e){const M=n[b],E=n[b+1];M<h&&(h=M),E<p&&(p=E),M>y&&(y=M),E>v&&(v=E)}m=Math.max(y-h,v-p),m=m!==0?32767/m:0}return Zg(o,c,e,h,p,m,0),c}function NU(n,t,e,i,a){let o;if(a===RB(n,t,e,i)>0)for(let c=t;c<e;c+=i)o=mC(c/i|0,n[c],n[c+1],o);else for(let c=e-i;c>=t;c-=i)o=mC(c/i|0,n[c],n[c+1],o);return o&&em(o,o.next)&&(Qg(o),o=o.next),o}function Bh(n,t){if(!n)return n;t||(t=n);let e=n,i;do if(i=!1,!e.steiner&&(em(e,e.next)||Si(e.prev,e,e.next)===0)){if(Qg(e),e=t=e.prev,e===e.next)break;i=!0}else e=e.next;while(i||e!==t);return t}function Zg(n,t,e,i,a,o,c){if(!n)return;!c&&o&&MB(n,i,a,o);let h=n;for(;n.prev!==n.next;){const p=n.prev,m=n.next;if(o?mB(n,i,a,o):pB(n)){t.push(p.i,n.i,m.i),Qg(n),n=m.next,h=m.next;continue}if(n=m,n===h){c?c===1?(n=gB(Bh(n),t),Zg(n,t,e,i,a,o,2)):c===2&&xB(n,t,e,i,a,o):Zg(Bh(n),t,e,i,a,o,1);break}}}function pB(n){const t=n.prev,e=n,i=n.next;if(Si(t,e,i)>=0)return!1;const a=t.x,o=e.x,c=i.x,h=t.y,p=e.y,m=i.y,y=Math.min(a,o,c),v=Math.min(h,p,m),b=Math.max(a,o,c),M=Math.max(h,p,m);let E=i.next;for(;E!==t;){if(E.x>=y&&E.x<=b&&E.y>=v&&E.y<=M&&gg(a,h,o,p,c,m,E.x,E.y)&&Si(E.prev,E,E.next)>=0)return!1;E=E.next}return!0}function mB(n,t,e,i){const a=n.prev,o=n,c=n.next;if(Si(a,o,c)>=0)return!1;const h=a.x,p=o.x,m=c.x,y=a.y,v=o.y,b=c.y,M=Math.min(h,p,m),E=Math.min(y,v,b),R=Math.max(h,p,m),C=Math.max(y,v,b),T=fT(M,E,t,e,i),D=fT(R,C,t,e,i);let j=n.prevZ,N=n.nextZ;for(;j&&j.z>=T&&N&&N.z<=D;){if(j.x>=M&&j.x<=R&&j.y>=E&&j.y<=C&&j!==a&&j!==c&&gg(h,y,p,v,m,b,j.x,j.y)&&Si(j.prev,j,j.next)>=0||(j=j.prevZ,N.x>=M&&N.x<=R&&N.y>=E&&N.y<=C&&N!==a&&N!==c&&gg(h,y,p,v,m,b,N.x,N.y)&&Si(N.prev,N,N.next)>=0))return!1;N=N.nextZ}for(;j&&j.z>=T;){if(j.x>=M&&j.x<=R&&j.y>=E&&j.y<=C&&j!==a&&j!==c&&gg(h,y,p,v,m,b,j.x,j.y)&&Si(j.prev,j,j.next)>=0)return!1;j=j.prevZ}for(;N&&N.z<=D;){if(N.x>=M&&N.x<=R&&N.y>=E&&N.y<=C&&N!==a&&N!==c&&gg(h,y,p,v,m,b,N.x,N.y)&&Si(N.prev,N,N.next)>=0)return!1;N=N.nextZ}return!0}function gB(n,t){let e=n;do{const i=e.prev,a=e.next.next;!em(i,a)&&zU(i,e,e.next,a)&&Kg(i,a)&&Kg(a,i)&&(t.push(i.i,e.i,a.i),Qg(e),Qg(e.next),e=n=a),e=e.next}while(e!==n);return Bh(e)}function xB(n,t,e,i,a,o){let c=n;do{let h=c.next.next;for(;h!==c.prev;){if(c.i!==h.i&&wB(c,h)){let p=PU(c,h);c=Bh(c,c.next),p=Bh(p,p.next),Zg(c,t,e,i,a,o,0),Zg(p,t,e,i,a,o,0);return}h=h.next}c=c.next}while(c!==n)}function yB(n,t,e,i){const a=[];for(let o=0,c=t.length;o<c;o++){const h=t[o]*i,p=o<c-1?t[o+1]*i:n.length,m=NU(n,h,p,i,!1);m===m.next&&(m.steiner=!0),a.push(EB(m))}a.sort(vB);for(let o=0;o<a.length;o++)e=bB(a[o],e);return e}function vB(n,t){let e=n.x-t.x;if(e===0&&(e=n.y-t.y,e===0)){const i=(n.next.y-n.y)/(n.next.x-n.x),a=(t.next.y-t.y)/(t.next.x-t.x);e=i-a}return e}function bB(n,t){const e=_B(n,t);if(!e)return t;const i=PU(e,n);return Bh(i,i.next),Bh(e,e.next)}function _B(n,t){let e=t;const i=n.x,a=n.y;let o=-1/0,c;if(em(n,e))return e;do{if(em(n,e.next))return e.next;if(a<=e.y&&a>=e.next.y&&e.next.y!==e.y){const v=e.x+(a-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(v<=i&&v>o&&(o=v,c=e.x<e.next.x?e:e.next,v===i))return c}e=e.next}while(e!==t);if(!c)return null;const h=c,p=c.x,m=c.y;let y=1/0;e=c;do{if(i>=e.x&&e.x>=p&&i!==e.x&&OU(a<m?i:o,a,p,m,a<m?o:i,a,e.x,e.y)){const v=Math.abs(a-e.y)/(i-e.x);Kg(e,n)&&(v<y||v===y&&(e.x>c.x||e.x===c.x&&SB(c,e)))&&(c=e,y=v)}e=e.next}while(e!==h);return c}function SB(n,t){return Si(n.prev,n,t.prev)<0&&Si(t.next,n,n.next)<0}function MB(n,t,e,i){let a=n;do a.z===0&&(a.z=fT(a.x,a.y,t,e,i)),a.prevZ=a.prev,a.nextZ=a.next,a=a.next;while(a!==n);a.prevZ.nextZ=null,a.prevZ=null,TB(a)}function TB(n){let t,e=1;do{let i=n,a;n=null;let o=null;for(t=0;i;){t++;let c=i,h=0;for(let m=0;m<e&&(h++,c=c.nextZ,!!c);m++);let p=e;for(;h>0||p>0&&c;)h!==0&&(p===0||!c||i.z<=c.z)?(a=i,i=i.nextZ,h--):(a=c,c=c.nextZ,p--),o?o.nextZ=a:n=a,a.prevZ=o,o=a;i=c}o.nextZ=null,e*=2}while(t>1);return n}function fT(n,t,e,i,a){return n=(n-e)*a|0,t=(t-i)*a|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,n|t<<1}function EB(n){let t=n,e=n;do(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next;while(t!==n);return e}function OU(n,t,e,i,a,o,c,h){return(a-c)*(t-h)>=(n-c)*(o-h)&&(n-c)*(i-h)>=(e-c)*(t-h)&&(e-c)*(o-h)>=(a-c)*(i-h)}function gg(n,t,e,i,a,o,c,h){return!(n===c&&t===h)&&OU(n,t,e,i,a,o,c,h)}function wB(n,t){return n.next.i!==t.i&&n.prev.i!==t.i&&!AB(n,t)&&(Kg(n,t)&&Kg(t,n)&&CB(n,t)&&(Si(n.prev,n,t.prev)||Si(n,t.prev,t))||em(n,t)&&Si(n.prev,n,n.next)>0&&Si(t.prev,t,t.next)>0)}function Si(n,t,e){return(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y)}function em(n,t){return n.x===t.x&&n.y===t.y}function zU(n,t,e,i){const a=Pv(Si(n,t,e)),o=Pv(Si(n,t,i)),c=Pv(Si(e,i,n)),h=Pv(Si(e,i,t));return!!(a!==o&&c!==h||a===0&&zv(n,e,t)||o===0&&zv(n,i,t)||c===0&&zv(e,n,i)||h===0&&zv(e,t,i))}function zv(n,t,e){return t.x<=Math.max(n.x,e.x)&&t.x>=Math.min(n.x,e.x)&&t.y<=Math.max(n.y,e.y)&&t.y>=Math.min(n.y,e.y)}function Pv(n){return n>0?1:n<0?-1:0}function AB(n,t){let e=n;do{if(e.i!==n.i&&e.next.i!==n.i&&e.i!==t.i&&e.next.i!==t.i&&zU(e,e.next,n,t))return!0;e=e.next}while(e!==n);return!1}function Kg(n,t){return Si(n.prev,n,n.next)<0?Si(n,t,n.next)>=0&&Si(n,n.prev,t)>=0:Si(n,t,n.prev)<0||Si(n,n.next,t)<0}function CB(n,t){let e=n,i=!1;const a=(n.x+t.x)/2,o=(n.y+t.y)/2;do e.y>o!=e.next.y>o&&e.next.y!==e.y&&a<(e.next.x-e.x)*(o-e.y)/(e.next.y-e.y)+e.x&&(i=!i),e=e.next;while(e!==n);return i}function PU(n,t){const e=pT(n.i,n.x,n.y),i=pT(t.i,t.x,t.y),a=n.next,o=t.prev;return n.next=t,t.prev=n,e.next=a,a.prev=e,i.next=e,e.prev=i,o.next=i,i.prev=o,i}function mC(n,t,e,i){const a=pT(n,t,e);return i?(a.next=i.next,a.prev=i,i.next.prev=a,i.next=a):(a.prev=a,a.next=a),a}function Qg(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function pT(n,t,e){return{i:n,x:t,y:e,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function RB(n,t,e,i){let a=0;for(let o=t,c=e-i;o<e;o+=i)a+=(n[c]-n[o])*(n[o+1]+n[c+1]),c=o;return a}class DB{static triangulate(t,e,i=2){return fB(t,e,i)}}class Dl{static area(t){const e=t.length;let i=0;for(let a=e-1,o=0;o<e;a=o++)i+=t[a].x*t[o].y-t[o].x*t[a].y;return i*.5}static isClockWise(t){return Dl.area(t)<0}static triangulateShape(t,e){const i=[],a=[],o=[];gC(t),xC(i,t);let c=t.length;e.forEach(gC);for(let p=0;p<e.length;p++)a.push(c),c+=e[p].length,xC(i,e[p]);const h=DB.triangulate(i,a);for(let p=0;p<h.length;p+=3)o.push(h.slice(p,p+3));return o}}function gC(n){const t=n.length;t>2&&n[t-1].equals(n[0])&&n.pop()}function xC(n,t){for(let e=0;e<t.length;e++)n.push(t[e].x),n.push(t[e].y)}class U_ extends an{constructor(t=new Nh([new Gt(.5,.5),new Gt(-.5,.5),new Gt(-.5,-.5),new Gt(.5,-.5)]),e={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,a=[],o=[];for(let h=0,p=t.length;h<p;h++){const m=t[h];c(m)}this.setAttribute("position",new be(a,3)),this.setAttribute("uv",new be(o,2)),this.computeVertexNormals();function c(h){const p=[],m=e.curveSegments!==void 0?e.curveSegments:12,y=e.steps!==void 0?e.steps:1,v=e.depth!==void 0?e.depth:1;let b=e.bevelEnabled!==void 0?e.bevelEnabled:!0,M=e.bevelThickness!==void 0?e.bevelThickness:.2,E=e.bevelSize!==void 0?e.bevelSize:M-.1,R=e.bevelOffset!==void 0?e.bevelOffset:0,C=e.bevelSegments!==void 0?e.bevelSegments:3;const T=e.extrudePath,D=e.UVGenerator!==void 0?e.UVGenerator:UB;let j,N=!1,B,P,H,k;T&&(j=T.getSpacedPoints(y),N=!0,b=!1,B=T.computeFrenetFrames(y,!1),P=new J,H=new J,k=new J),b||(C=0,M=0,E=0,R=0);const I=h.extractPoints(m);let z=I.shape;const K=I.holes;if(!Dl.isClockWise(z)){z=z.reverse();for(let kt=0,zt=K.length;kt<zt;kt++){const Bt=K[kt];Dl.isClockWise(Bt)&&(K[kt]=Bt.reverse())}}function st(kt){const Bt=10000000000000001e-36;let ee=kt[0];for(let Nt=1;Nt<=kt.length;Nt++){const W=Nt%kt.length,V=kt[W],dt=V.x-ee.x,Ut=V.y-ee.y,It=dt*dt+Ut*Ut,jt=Math.max(Math.abs(V.x),Math.abs(V.y),Math.abs(ee.x),Math.abs(ee.y)),ae=Bt*jt*jt;if(It<=ae){kt.splice(W,1),Nt--;continue}ee=V}}st(z),K.forEach(st);const xt=K.length,bt=z;for(let kt=0;kt<xt;kt++){const zt=K[kt];z=z.concat(zt)}function F(kt,zt,Bt){return zt||console.error("THREE.ExtrudeGeometry: vec does not exist"),kt.clone().addScaledVector(zt,Bt)}const Z=z.length;function Q(kt,zt,Bt){let ee,Nt,W;const V=kt.x-zt.x,dt=kt.y-zt.y,Ut=Bt.x-kt.x,It=Bt.y-kt.y,jt=V*V+dt*dt,ae=V*It-dt*Ut;if(Math.abs(ae)>Number.EPSILON){const Kt=Math.sqrt(jt),ne=Math.sqrt(Ut*Ut+It*It),Qe=zt.x-dt/Kt,Zt=zt.y+V/Kt,fe=Bt.x-It/ne,ge=Bt.y+Ut/ne,xe=((fe-Qe)*It-(ge-Zt)*Ut)/(V*It-dt*Ut);ee=Qe+V*xe-kt.x,Nt=Zt+dt*xe-kt.y;const ie=ee*ee+Nt*Nt;if(ie<=2)return new Gt(ee,Nt);W=Math.sqrt(ie/2)}else{let Kt=!1;V>Number.EPSILON?Ut>Number.EPSILON&&(Kt=!0):V<-Number.EPSILON?Ut<-Number.EPSILON&&(Kt=!0):Math.sign(dt)===Math.sign(It)&&(Kt=!0),Kt?(ee=-dt,Nt=V,W=Math.sqrt(jt)):(ee=V,Nt=dt,W=Math.sqrt(jt/2))}return new Gt(ee/W,Nt/W)}const ut=[];for(let kt=0,zt=bt.length,Bt=zt-1,ee=kt+1;kt<zt;kt++,Bt++,ee++)Bt===zt&&(Bt=0),ee===zt&&(ee=0),ut[kt]=Q(bt[kt],bt[Bt],bt[ee]);const q=[];let it,St=ut.concat();for(let kt=0,zt=xt;kt<zt;kt++){const Bt=K[kt];it=[];for(let ee=0,Nt=Bt.length,W=Nt-1,V=ee+1;ee<Nt;ee++,W++,V++)W===Nt&&(W=0),V===Nt&&(V=0),it[ee]=Q(Bt[ee],Bt[W],Bt[V]);q.push(it),St=St.concat(it)}const Lt=[],rt=[];for(let kt=0;kt<C;kt++){const zt=kt/C,Bt=M*Math.cos(zt*Math.PI/2),ee=E*Math.sin(zt*Math.PI/2)+R;for(let Nt=0,W=bt.length;Nt<W;Nt++){const V=F(bt[Nt],ut[Nt],ee);Pe(V.x,V.y,-Bt),zt==0&&Lt.push(V)}for(let Nt=0,W=xt;Nt<W;Nt++){const V=K[Nt];it=q[Nt];const dt=[];for(let Ut=0,It=V.length;Ut<It;Ut++){const jt=F(V[Ut],it[Ut],ee);Pe(jt.x,jt.y,-Bt),zt==0&&dt.push(jt)}zt==0&&rt.push(dt)}}const Rt=Dl.triangulateShape(Lt,rt),Pt=Rt.length,Wt=E+R;for(let kt=0;kt<Z;kt++){const zt=b?F(z[kt],St[kt],Wt):z[kt];N?(H.copy(B.normals[0]).multiplyScalar(zt.x),P.copy(B.binormals[0]).multiplyScalar(zt.y),k.copy(j[0]).add(H).add(P),Pe(k.x,k.y,k.z)):Pe(zt.x,zt.y,0)}for(let kt=1;kt<=y;kt++)for(let zt=0;zt<Z;zt++){const Bt=b?F(z[zt],St[zt],Wt):z[zt];N?(H.copy(B.normals[kt]).multiplyScalar(Bt.x),P.copy(B.binormals[kt]).multiplyScalar(Bt.y),k.copy(j[kt]).add(H).add(P),Pe(k.x,k.y,k.z)):Pe(Bt.x,Bt.y,v/y*kt)}for(let kt=C-1;kt>=0;kt--){const zt=kt/C,Bt=M*Math.cos(zt*Math.PI/2),ee=E*Math.sin(zt*Math.PI/2)+R;for(let Nt=0,W=bt.length;Nt<W;Nt++){const V=F(bt[Nt],ut[Nt],ee);Pe(V.x,V.y,v+Bt)}for(let Nt=0,W=K.length;Nt<W;Nt++){const V=K[Nt];it=q[Nt];for(let dt=0,Ut=V.length;dt<Ut;dt++){const It=F(V[dt],it[dt],ee);N?Pe(It.x,It.y+j[y-1].y,j[y-1].x+Bt):Pe(It.x,It.y,v+Bt)}}}$t(),we();function $t(){const kt=a.length/3;if(b){let zt=0,Bt=Z*zt;for(let ee=0;ee<Pt;ee++){const Nt=Rt[ee];Ne(Nt[2]+Bt,Nt[1]+Bt,Nt[0]+Bt)}zt=y+C*2,Bt=Z*zt;for(let ee=0;ee<Pt;ee++){const Nt=Rt[ee];Ne(Nt[0]+Bt,Nt[1]+Bt,Nt[2]+Bt)}}else{for(let zt=0;zt<Pt;zt++){const Bt=Rt[zt];Ne(Bt[2],Bt[1],Bt[0])}for(let zt=0;zt<Pt;zt++){const Bt=Rt[zt];Ne(Bt[0]+Z*y,Bt[1]+Z*y,Bt[2]+Z*y)}}i.addGroup(kt,a.length/3-kt,0)}function we(){const kt=a.length/3;let zt=0;ve(bt,zt),zt+=bt.length;for(let Bt=0,ee=K.length;Bt<ee;Bt++){const Nt=K[Bt];ve(Nt,zt),zt+=Nt.length}i.addGroup(kt,a.length/3-kt,1)}function ve(kt,zt){let Bt=kt.length;for(;--Bt>=0;){const ee=Bt;let Nt=Bt-1;Nt<0&&(Nt=kt.length-1);for(let W=0,V=y+C*2;W<V;W++){const dt=Z*W,Ut=Z*(W+1),It=zt+ee+dt,jt=zt+Nt+dt,ae=zt+Nt+Ut,Kt=zt+ee+Ut;Be(It,jt,ae,Kt)}}}function Pe(kt,zt,Bt){p.push(kt),p.push(zt),p.push(Bt)}function Ne(kt,zt,Bt){et(kt),et(zt),et(Bt);const ee=a.length/3,Nt=D.generateTopUV(i,a,ee-3,ee-2,ee-1);Ln(Nt[0]),Ln(Nt[1]),Ln(Nt[2])}function Be(kt,zt,Bt,ee){et(kt),et(zt),et(ee),et(zt),et(Bt),et(ee);const Nt=a.length/3,W=D.generateSideWallUV(i,a,Nt-6,Nt-3,Nt-2,Nt-1);Ln(W[0]),Ln(W[1]),Ln(W[3]),Ln(W[1]),Ln(W[2]),Ln(W[3])}function et(kt){a.push(p[kt*3+0]),a.push(p[kt*3+1]),a.push(p[kt*3+2])}function Ln(kt){o.push(kt.x),o.push(kt.y)}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes,i=this.parameters.options;return jB(e,i,t)}static fromJSON(t,e){const i=[];for(let o=0,c=t.shapes.length;o<c;o++){const h=e[t.shapes[o]];i.push(h)}const a=t.options.extrudePath;return a!==void 0&&(t.options.extrudePath=new kb[a.type]().fromJSON(a)),new U_(i,t.options)}}const UB={generateTopUV:function(n,t,e,i,a){const o=t[e*3],c=t[e*3+1],h=t[i*3],p=t[i*3+1],m=t[a*3],y=t[a*3+1];return[new Gt(o,c),new Gt(h,p),new Gt(m,y)]},generateSideWallUV:function(n,t,e,i,a,o){const c=t[e*3],h=t[e*3+1],p=t[e*3+2],m=t[i*3],y=t[i*3+1],v=t[i*3+2],b=t[a*3],M=t[a*3+1],E=t[a*3+2],R=t[o*3],C=t[o*3+1],T=t[o*3+2];return Math.abs(h-y)<Math.abs(c-m)?[new Gt(c,1-p),new Gt(m,1-v),new Gt(b,1-E),new Gt(R,1-T)]:[new Gt(h,1-p),new Gt(y,1-v),new Gt(M,1-E),new Gt(C,1-T)]}};function jB(n,t,e){if(e.shapes=[],Array.isArray(n))for(let i=0,a=n.length;i<a;i++){const o=n[i];e.shapes.push(o.uuid)}else e.shapes.push(n.uuid);return e.options=Object.assign({},t),t.extrudePath!==void 0&&(e.options.extrudePath=t.extrudePath.toJSON()),e}class j_ extends ed{constructor(t=1,e=0){const i=(1+Math.sqrt(5))/2,a=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(a,o,t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new j_(t.radius,t.detail)}}class vx extends ed{constructor(t=1,e=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],a=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,a,t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new vx(t.radius,t.detail)}}class um extends an{constructor(t=1,e=1,i=1,a=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:a};const o=t/2,c=e/2,h=Math.floor(i),p=Math.floor(a),m=h+1,y=p+1,v=t/h,b=e/p,M=[],E=[],R=[],C=[];for(let T=0;T<y;T++){const D=T*b-c;for(let j=0;j<m;j++){const N=j*v-o;E.push(N,-D,0),R.push(0,0,1),C.push(j/h),C.push(1-T/p)}}for(let T=0;T<p;T++)for(let D=0;D<h;D++){const j=D+m*T,N=D+m*(T+1),B=D+1+m*(T+1),P=D+1+m*T;M.push(j,N,P),M.push(N,B,P)}this.setIndex(M),this.setAttribute("position",new be(E,3)),this.setAttribute("normal",new be(R,3)),this.setAttribute("uv",new be(C,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new um(t.width,t.height,t.widthSegments,t.heightSegments)}}class L_ extends an{constructor(t=.5,e=1,i=32,a=1,o=0,c=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:i,phiSegments:a,thetaStart:o,thetaLength:c},i=Math.max(3,i),a=Math.max(1,a);const h=[],p=[],m=[],y=[];let v=t;const b=(e-t)/a,M=new J,E=new Gt;for(let R=0;R<=a;R++){for(let C=0;C<=i;C++){const T=o+C/i*c;M.x=v*Math.cos(T),M.y=v*Math.sin(T),p.push(M.x,M.y,M.z),m.push(0,0,1),E.x=(M.x/e+1)/2,E.y=(M.y/e+1)/2,y.push(E.x,E.y)}v+=b}for(let R=0;R<a;R++){const C=R*(i+1);for(let T=0;T<i;T++){const D=T+C,j=D,N=D+i+1,B=D+i+2,P=D+1;h.push(j,N,P),h.push(N,B,P)}}this.setIndex(h),this.setAttribute("position",new be(p,3)),this.setAttribute("normal",new be(m,3)),this.setAttribute("uv",new be(y,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new L_(t.innerRadius,t.outerRadius,t.thetaSegments,t.phiSegments,t.thetaStart,t.thetaLength)}}class N_ extends an{constructor(t=new Nh([new Gt(0,.5),new Gt(-.5,-.5),new Gt(.5,-.5)]),e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],a=[],o=[],c=[];let h=0,p=0;if(Array.isArray(t)===!1)m(t);else for(let y=0;y<t.length;y++)m(t[y]),this.addGroup(h,p,y),h+=p,p=0;this.setIndex(i),this.setAttribute("position",new be(a,3)),this.setAttribute("normal",new be(o,3)),this.setAttribute("uv",new be(c,2));function m(y){const v=a.length/3,b=y.extractPoints(e);let M=b.shape;const E=b.holes;Dl.isClockWise(M)===!1&&(M=M.reverse());for(let C=0,T=E.length;C<T;C++){const D=E[C];Dl.isClockWise(D)===!0&&(E[C]=D.reverse())}const R=Dl.triangulateShape(M,E);for(let C=0,T=E.length;C<T;C++){const D=E[C];M=M.concat(D)}for(let C=0,T=M.length;C<T;C++){const D=M[C];a.push(D.x,D.y,0),o.push(0,0,1),c.push(D.x,D.y)}for(let C=0,T=R.length;C<T;C++){const D=R[C],j=D[0]+v,N=D[1]+v,B=D[2]+v;i.push(j,N,B),p+=3}}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON(),e=this.parameters.shapes;return LB(e,t)}static fromJSON(t,e){const i=[];for(let a=0,o=t.shapes.length;a<o;a++){const c=e[t.shapes[a]];i.push(c)}return new N_(i,t.curveSegments)}}function LB(n,t){if(t.shapes=[],Array.isArray(n))for(let e=0,i=n.length;e<i;e++){const a=n[e];t.shapes.push(a.uuid)}else t.shapes.push(n.uuid);return t}class bx extends an{constructor(t=1,e=32,i=16,a=0,o=Math.PI*2,c=0,h=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:i,phiStart:a,phiLength:o,thetaStart:c,thetaLength:h},e=Math.max(3,Math.floor(e)),i=Math.max(2,Math.floor(i));const p=Math.min(c+h,Math.PI);let m=0;const y=[],v=new J,b=new J,M=[],E=[],R=[],C=[];for(let T=0;T<=i;T++){const D=[],j=T/i;let N=0;T===0&&c===0?N=.5/e:T===i&&p===Math.PI&&(N=-.5/e);for(let B=0;B<=e;B++){const P=B/e;v.x=-t*Math.cos(a+P*o)*Math.sin(c+j*h),v.y=t*Math.cos(c+j*h),v.z=t*Math.sin(a+P*o)*Math.sin(c+j*h),E.push(v.x,v.y,v.z),b.copy(v).normalize(),R.push(b.x,b.y,b.z),C.push(P+N,1-j),D.push(m++)}y.push(D)}for(let T=0;T<i;T++)for(let D=0;D<e;D++){const j=y[T][D+1],N=y[T][D],B=y[T+1][D],P=y[T+1][D+1];(T!==0||c>0)&&M.push(j,N,P),(T!==i-1||p<Math.PI)&&M.push(N,B,P)}this.setIndex(M),this.setAttribute("position",new be(E,3)),this.setAttribute("normal",new be(R,3)),this.setAttribute("uv",new be(C,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new bx(t.radius,t.widthSegments,t.heightSegments,t.phiStart,t.phiLength,t.thetaStart,t.thetaLength)}}class O_ extends ed{constructor(t=1,e=0){const i=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],a=[2,1,0,0,3,2,1,3,0,2,3,1];super(i,a,t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}}static fromJSON(t){return new O_(t.radius,t.detail)}}class z_ extends an{constructor(t=1,e=.4,i=12,a=48,o=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:i,tubularSegments:a,arc:o},i=Math.floor(i),a=Math.floor(a);const c=[],h=[],p=[],m=[],y=new J,v=new J,b=new J;for(let M=0;M<=i;M++)for(let E=0;E<=a;E++){const R=E/a*o,C=M/i*Math.PI*2;v.x=(t+e*Math.cos(C))*Math.cos(R),v.y=(t+e*Math.cos(C))*Math.sin(R),v.z=e*Math.sin(C),h.push(v.x,v.y,v.z),y.x=t*Math.cos(R),y.y=t*Math.sin(R),b.subVectors(v,y).normalize(),p.push(b.x,b.y,b.z),m.push(E/a),m.push(M/i)}for(let M=1;M<=i;M++)for(let E=1;E<=a;E++){const R=(a+1)*M+E-1,C=(a+1)*(M-1)+E-1,T=(a+1)*(M-1)+E,D=(a+1)*M+E;c.push(R,C,D),c.push(C,T,D)}this.setIndex(c),this.setAttribute("position",new be(h,3)),this.setAttribute("normal",new be(p,3)),this.setAttribute("uv",new be(m,2))}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new z_(t.radius,t.tube,t.radialSegments,t.tubularSegments,t.arc)}}class P_ extends an{constructor(t=1,e=.4,i=64,a=8,o=2,c=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:i,radialSegments:a,p:o,q:c},i=Math.floor(i),a=Math.floor(a);const h=[],p=[],m=[],y=[],v=new J,b=new J,M=new J,E=new J,R=new J,C=new J,T=new J;for(let j=0;j<=i;++j){const N=j/i*o*Math.PI*2;D(N,o,c,t,M),D(N+.01,o,c,t,E),C.subVectors(E,M),T.addVectors(E,M),R.crossVectors(C,T),T.crossVectors(R,C),R.normalize(),T.normalize();for(let B=0;B<=a;++B){const P=B/a*Math.PI*2,H=-e*Math.cos(P),k=e*Math.sin(P);v.x=M.x+(H*T.x+k*R.x),v.y=M.y+(H*T.y+k*R.y),v.z=M.z+(H*T.z+k*R.z),p.push(v.x,v.y,v.z),b.subVectors(v,M).normalize(),m.push(b.x,b.y,b.z),y.push(j/i),y.push(B/a)}}for(let j=1;j<=i;j++)for(let N=1;N<=a;N++){const B=(a+1)*(j-1)+(N-1),P=(a+1)*j+(N-1),H=(a+1)*j+N,k=(a+1)*(j-1)+N;h.push(B,P,k),h.push(P,H,k)}this.setIndex(h),this.setAttribute("position",new be(p,3)),this.setAttribute("normal",new be(m,3)),this.setAttribute("uv",new be(y,2));function D(j,N,B,P,H){const k=Math.cos(j),I=Math.sin(j),z=B/N*j,K=Math.cos(z);H.x=P*(2+K)*.5*k,H.y=P*(2+K)*I*.5,H.z=P*Math.sin(z)*.5}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}static fromJSON(t){return new P_(t.radius,t.tube,t.tubularSegments,t.radialSegments,t.p,t.q)}}class B_ extends an{constructor(t=new TE(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),e=64,i=1,a=8,o=!1){super(),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:i,radialSegments:a,closed:o};const c=t.computeFrenetFrames(e,o);this.tangents=c.tangents,this.normals=c.normals,this.binormals=c.binormals;const h=new J,p=new J,m=new Gt;let y=new J;const v=[],b=[],M=[],E=[];R(),this.setIndex(E),this.setAttribute("position",new be(v,3)),this.setAttribute("normal",new be(b,3)),this.setAttribute("uv",new be(M,2));function R(){for(let j=0;j<e;j++)C(j);C(o===!1?e:0),D(),T()}function C(j){y=t.getPointAt(j/e,y);const N=c.normals[j],B=c.binormals[j];for(let P=0;P<=a;P++){const H=P/a*Math.PI*2,k=Math.sin(H),I=-Math.cos(H);p.x=I*N.x+k*B.x,p.y=I*N.y+k*B.y,p.z=I*N.z+k*B.z,p.normalize(),b.push(p.x,p.y,p.z),h.x=y.x+i*p.x,h.y=y.y+i*p.y,h.z=y.z+i*p.z,v.push(h.x,h.y,h.z)}}function T(){for(let j=1;j<=e;j++)for(let N=1;N<=a;N++){const B=(a+1)*(j-1)+(N-1),P=(a+1)*j+(N-1),H=(a+1)*j+N,k=(a+1)*(j-1)+N;E.push(B,P,k),E.push(P,H,k)}}function D(){for(let j=0;j<=e;j++)for(let N=0;N<=a;N++)m.x=j/e,m.y=N/a,M.push(m.x,m.y)}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}toJSON(){const t=super.toJSON();return t.path=this.parameters.path.toJSON(),t}static fromJSON(t){return new B_(new kb[t.path.type]().fromJSON(t.path),t.tubularSegments,t.radius,t.radialSegments,t.closed)}}class BU extends an{constructor(t=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:t},t!==null){const e=[],i=new Set,a=new J,o=new J;if(t.index!==null){const c=t.attributes.position,h=t.index;let p=t.groups;p.length===0&&(p=[{start:0,count:h.count,materialIndex:0}]);for(let m=0,y=p.length;m<y;++m){const v=p[m],b=v.start,M=v.count;for(let E=b,R=b+M;E<R;E+=3)for(let C=0;C<3;C++){const T=h.getX(E+C),D=h.getX(E+(C+1)%3);a.fromBufferAttribute(c,T),o.fromBufferAttribute(c,D),yC(a,o,i)===!0&&(e.push(a.x,a.y,a.z),e.push(o.x,o.y,o.z))}}}else{const c=t.attributes.position;for(let h=0,p=c.count/3;h<p;h++)for(let m=0;m<3;m++){const y=3*h+m,v=3*h+(m+1)%3;a.fromBufferAttribute(c,y),o.fromBufferAttribute(c,v),yC(a,o,i)===!0&&(e.push(a.x,a.y,a.z),e.push(o.x,o.y,o.z))}}this.setAttribute("position",new be(e,3))}}copy(t){return super.copy(t),this.parameters=Object.assign({},t.parameters),this}}function yC(n,t,e){const i=`${n.x},${n.y},${n.z}-${t.x},${t.y},${t.z}`,a=`${t.x},${t.y},${t.z}-${n.x},${n.y},${n.z}`;return e.has(i)===!0||e.has(a)===!0?!1:(e.add(i),e.add(a),!0)}var vC=Object.freeze({__proto__:null,BoxGeometry:Hh,CapsuleGeometry:A_,CircleGeometry:C_,ConeGeometry:R_,CylinderGeometry:cm,DodecahedronGeometry:D_,EdgesGeometry:LU,ExtrudeGeometry:U_,IcosahedronGeometry:j_,LatheGeometry:yx,OctahedronGeometry:vx,PlaneGeometry:um,PolyhedronGeometry:ed,RingGeometry:L_,ShapeGeometry:N_,SphereGeometry:bx,TetrahedronGeometry:O_,TorusGeometry:z_,TorusKnotGeometry:P_,TubeGeometry:B_,WireframeGeometry:BU});class IU extends ir{constructor(t){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new he(0),this.transparent=!0,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.fog=t.fog,this}}class FU extends Oo{constructor(t){super(t),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class wE extends ir{constructor(t){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new he(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bs,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.envMapIntensity=t.envMapIntensity,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class VU extends wE{constructor(t){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Gt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ye(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new he(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new he(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new he(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(t)}get anisotropy(){return this._anisotropy}set anisotropy(t){this._anisotropy>0!=t>0&&this.version++,this._anisotropy=t}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get iridescence(){return this._iridescence}set iridescence(t){this._iridescence>0!=t>0&&this.version++,this._iridescence=t}get dispersion(){return this._dispersion}set dispersion(t){this._dispersion>0!=t>0&&this.version++,this._dispersion=t}get sheen(){return this._sheen}set sheen(t){this._sheen>0!=t>0&&this.version++,this._sheen=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=t.anisotropy,this.anisotropyRotation=t.anisotropyRotation,this.anisotropyMap=t.anisotropyMap,this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.dispersion=t.dispersion,this.ior=t.ior,this.iridescence=t.iridescence,this.iridescenceMap=t.iridescenceMap,this.iridescenceIOR=t.iridescenceIOR,this.iridescenceThicknessRange=[...t.iridescenceThicknessRange],this.iridescenceThicknessMap=t.iridescenceThicknessMap,this.sheen=t.sheen,this.sheenColor.copy(t.sheenColor),this.sheenColorMap=t.sheenColorMap,this.sheenRoughness=t.sheenRoughness,this.sheenRoughnessMap=t.sheenRoughnessMap,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationColor.copy(t.attenuationColor),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularColor.copy(t.specularColor),this.specularColorMap=t.specularColorMap,this}}class HU extends ir{constructor(t){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new he(16777215),this.specular=new he(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bs,this.combine=fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class kU extends ir{constructor(t){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new he(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.fog=t.fog,this}}class GU extends ir{constructor(t){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}class XU extends ir{constructor(t){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new he(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new he(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new bs,this.combine=fx,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapRotation.copy(t.envMapRotation),this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this.fog=t.fog,this}}class AE extends ir{constructor(t){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=eU,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}class CE extends ir{constructor(t){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(t)}copy(t){return super.copy(t),this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}class qU extends ir{constructor(t){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new he(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=$u,this.normalScale=new Gt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this.fog=t.fog,this}}class YU extends Rr{constructor(t){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}function Ah(n,t){return!n||n.constructor===t?n:typeof t.BYTES_PER_ELEMENT=="number"?new t(n):Array.prototype.slice.call(n)}function WU(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function ZU(n){function t(a,o){return n[a]-n[o]}const e=n.length,i=new Array(e);for(let a=0;a!==e;++a)i[a]=a;return i.sort(t),i}function mT(n,t,e){const i=n.length,a=new n.constructor(i);for(let o=0,c=0;c!==i;++o){const h=e[o]*t;for(let p=0;p!==t;++p)a[c++]=n[h+p]}return a}function RE(n,t,e,i){let a=1,o=n[0];for(;o!==void 0&&o[i]===void 0;)o=n[a++];if(o===void 0)return;let c=o[i];if(c!==void 0)if(Array.isArray(c))do c=o[i],c!==void 0&&(t.push(o.time),e.push(...c)),o=n[a++];while(o!==void 0);else if(c.toArray!==void 0)do c=o[i],c!==void 0&&(t.push(o.time),c.toArray(e,e.length)),o=n[a++];while(o!==void 0);else do c=o[i],c!==void 0&&(t.push(o.time),e.push(c)),o=n[a++];while(o!==void 0)}function NB(n,t,e,i,a=30){const o=n.clone();o.name=t;const c=[];for(let p=0;p<o.tracks.length;++p){const m=o.tracks[p],y=m.getValueSize(),v=[],b=[];for(let M=0;M<m.times.length;++M){const E=m.times[M]*a;if(!(E<e||E>=i)){v.push(m.times[M]);for(let R=0;R<y;++R)b.push(m.values[M*y+R])}}v.length!==0&&(m.times=Ah(v,m.times.constructor),m.values=Ah(b,m.values.constructor),c.push(m))}o.tracks=c;let h=1/0;for(let p=0;p<o.tracks.length;++p)h>o.tracks[p].times[0]&&(h=o.tracks[p].times[0]);for(let p=0;p<o.tracks.length;++p)o.tracks[p].shift(-1*h);return o.resetDuration(),o}function OB(n,t=0,e=n,i=30){i<=0&&(i=30);const a=e.tracks.length,o=t/i;for(let c=0;c<a;++c){const h=e.tracks[c],p=h.ValueTypeName;if(p==="bool"||p==="string")continue;const m=n.tracks.find(function(T){return T.name===h.name&&T.ValueTypeName===p});if(m===void 0)continue;let y=0;const v=h.getValueSize();h.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(y=v/3);let b=0;const M=m.getValueSize();m.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(b=M/3);const E=h.times.length-1;let R;if(o<=h.times[0]){const T=y,D=v-y;R=h.values.slice(T,D)}else if(o>=h.times[E]){const T=E*v+y,D=T+v-y;R=h.values.slice(T,D)}else{const T=h.createInterpolant(),D=y,j=v-y;T.evaluate(o),R=T.resultBuffer.slice(D,j)}p==="quaternion"&&new er().fromArray(R).normalize().conjugate().toArray(R);const C=m.times.length;for(let T=0;T<C;++T){const D=T*M+b;if(p==="quaternion")er.multiplyQuaternionsFlat(m.values,D,R,0,m.values,D);else{const j=M-b*2;for(let N=0;N<j;++N)m.values[D+N]-=R[N]}}}return n.blendMode=uE,n}class zB{static convertArray(t,e){return Ah(t,e)}static isTypedArray(t){return WU(t)}static getKeyframeOrder(t){return ZU(t)}static sortedArray(t,e,i){return mT(t,e,i)}static flattenJSON(t,e,i,a){RE(t,e,i,a)}static subclip(t,e,i,a,o=30){return NB(t,e,i,a,o)}static makeClipAdditive(t,e=0,i=t,a=30){return OB(t,e,i,a)}}class _x{constructor(t,e,i,a){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=a!==void 0?a:new e.constructor(i),this.sampleValues=e,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let i=this._cachedIndex,a=e[i],o=e[i-1];t:{e:{let c;n:{i:if(!(t<a)){for(let h=i+2;;){if(a===void 0){if(t<o)break i;return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===h)break;if(o=a,a=e[++i],t<a)break e}c=e.length;break n}if(!(t>=o)){const h=e[1];t<h&&(i=2,o=h);for(let p=i-2;;){if(o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===p)break;if(a=o,o=e[--i-1],t>=o)break e}c=i,i=0;break n}break t}for(;i<c;){const h=i+c>>>1;t<e[h]?c=h:i=h+1}if(a=e[i],o=e[i-1],o===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(a===void 0)return i=e.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,o,a)}return this.interpolate_(i,o,t,a)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,i=this.sampleValues,a=this.valueSize,o=t*a;for(let c=0;c!==a;++c)e[c]=i[o+c];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class KU extends _x{constructor(t,e,i,a){super(t,e,i,a),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Eh,endingEnd:Eh}}intervalChanged_(t,e,i){const a=this.parameterPositions;let o=t-2,c=t+1,h=a[o],p=a[c];if(h===void 0)switch(this.getSettings_().endingStart){case wh:o=t,h=2*e-i;break;case kg:o=a.length-2,h=e+a[o]-a[o+1];break;default:o=t,h=i}if(p===void 0)switch(this.getSettings_().endingEnd){case wh:c=t,p=2*i-e;break;case kg:c=1,p=i+a[1]-a[0];break;default:c=t-1,p=e}const m=(i-e)*.5,y=this.valueSize;this._weightPrev=m/(e-h),this._weightNext=m/(p-i),this._offsetPrev=o*y,this._offsetNext=c*y}interpolate_(t,e,i,a){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=t*h,m=p-h,y=this._offsetPrev,v=this._offsetNext,b=this._weightPrev,M=this._weightNext,E=(i-e)/(a-e),R=E*E,C=R*E,T=-b*C+2*b*R-b*E,D=(1+b)*C+(-1.5-2*b)*R+(-.5+b)*E+1,j=(-1-M)*C+(1.5+M)*R+.5*E,N=M*C-M*R;for(let B=0;B!==h;++B)o[B]=T*c[y+B]+D*c[m+B]+j*c[p+B]+N*c[v+B];return o}}class DE extends _x{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t,e,i,a){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=t*h,m=p-h,y=(i-e)/(a-e),v=1-y;for(let b=0;b!==h;++b)o[b]=c[m+b]*v+c[p+b]*y;return o}}class QU extends _x{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t){return this.copySampleValue_(t-1)}}class Ks{constructor(t,e,i,a){if(t===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(e===void 0||e.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=Ah(e,this.TimeBufferType),this.values=Ah(i,this.ValueBufferType),this.setInterpolation(a||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let i;if(e.toJSON!==this.toJSON)i=e.toJSON(t);else{i={name:t.name,times:Ah(t.times,Array),values:Ah(t.values,Array)};const a=t.getInterpolation();a!==t.DefaultInterpolation&&(i.interpolation=a)}return i.type=t.ValueTypeName,i}InterpolantFactoryMethodDiscrete(t){return new QU(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new DE(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new KU(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case Hg:e=this.InterpolantFactoryMethodDiscrete;break;case Fb:e=this.InterpolantFactoryMethodLinear;break;case X1:e=this.InterpolantFactoryMethodSmooth;break}if(e===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(t!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Hg;case this.InterpolantFactoryMethodLinear:return Fb;case this.InterpolantFactoryMethodSmooth:return X1}}getValueSize(){return this.values.length/this.times.length}shift(t){if(t!==0){const e=this.times;for(let i=0,a=e.length;i!==a;++i)e[i]+=t}return this}scale(t){if(t!==1){const e=this.times;for(let i=0,a=e.length;i!==a;++i)e[i]*=t}return this}trim(t,e){const i=this.times,a=i.length;let o=0,c=a-1;for(;o!==a&&i[o]<t;)++o;for(;c!==-1&&i[c]>e;)--c;if(++c,o!==0||c!==a){o>=c&&(c=Math.max(c,1),o=c-1);const h=this.getValueSize();this.times=i.slice(o,c),this.values=this.values.slice(o*h,c*h)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,a=this.values,o=i.length;o===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let c=null;for(let h=0;h!==o;h++){const p=i[h];if(typeof p=="number"&&isNaN(p)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,h,p),t=!1;break}if(c!==null&&c>p){console.error("THREE.KeyframeTrack: Out of order keys.",this,h,p,c),t=!1;break}c=p}if(a!==void 0&&WU(a))for(let h=0,p=a.length;h!==p;++h){const m=a[h];if(isNaN(m)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,h,m),t=!1;break}}return t}optimize(){const t=this.times.slice(),e=this.values.slice(),i=this.getValueSize(),a=this.getInterpolation()===X1,o=t.length-1;let c=1;for(let h=1;h<o;++h){let p=!1;const m=t[h],y=t[h+1];if(m!==y&&(h!==1||m!==t[0]))if(a)p=!0;else{const v=h*i,b=v-i,M=v+i;for(let E=0;E!==i;++E){const R=e[v+E];if(R!==e[b+E]||R!==e[M+E]){p=!0;break}}}if(p){if(h!==c){t[c]=t[h];const v=h*i,b=c*i;for(let M=0;M!==i;++M)e[b+M]=e[v+M]}++c}}if(o>0){t[c]=t[o];for(let h=o*i,p=c*i,m=0;m!==i;++m)e[p+m]=e[h+m];++c}return c!==t.length?(this.times=t.slice(0,c),this.values=e.slice(0,c*i)):(this.times=t,this.values=e),this}clone(){const t=this.times.slice(),e=this.values.slice(),i=this.constructor,a=new i(this.name,t,e);return a.createInterpolant=this.createInterpolant,a}}Ks.prototype.ValueTypeName="";Ks.prototype.TimeBufferType=Float32Array;Ks.prototype.ValueBufferType=Float32Array;Ks.prototype.DefaultInterpolation=Fb;class kh extends Ks{constructor(t,e,i){super(t,e,i)}}kh.prototype.ValueTypeName="bool";kh.prototype.ValueBufferType=Array;kh.prototype.DefaultInterpolation=Hg;kh.prototype.InterpolantFactoryMethodLinear=void 0;kh.prototype.InterpolantFactoryMethodSmooth=void 0;class UE extends Ks{constructor(t,e,i,a){super(t,e,i,a)}}UE.prototype.ValueTypeName="color";class Jg extends Ks{constructor(t,e,i,a){super(t,e,i,a)}}Jg.prototype.ValueTypeName="number";class JU extends _x{constructor(t,e,i,a){super(t,e,i,a)}interpolate_(t,e,i,a){const o=this.resultBuffer,c=this.sampleValues,h=this.valueSize,p=(i-e)/(a-e);let m=t*h;for(let y=m+h;m!==y;m+=4)er.slerpFlat(o,0,c,m-h,c,m,p);return o}}class Sx extends Ks{constructor(t,e,i,a){super(t,e,i,a)}InterpolantFactoryMethodLinear(t){return new JU(this.times,this.values,this.getValueSize(),t)}}Sx.prototype.ValueTypeName="quaternion";Sx.prototype.InterpolantFactoryMethodSmooth=void 0;class Gh extends Ks{constructor(t,e,i){super(t,e,i)}}Gh.prototype.ValueTypeName="string";Gh.prototype.ValueBufferType=Array;Gh.prototype.DefaultInterpolation=Hg;Gh.prototype.InterpolantFactoryMethodLinear=void 0;Gh.prototype.InterpolantFactoryMethodSmooth=void 0;class $g extends Ks{constructor(t,e,i,a){super(t,e,i,a)}}$g.prototype.ValueTypeName="vector";class tx{constructor(t="",e=-1,i=[],a=x_){this.name=t,this.tracks=i,this.duration=e,this.blendMode=a,this.uuid=vs(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],i=t.tracks,a=1/(t.fps||1);for(let c=0,h=i.length;c!==h;++c)e.push(BB(i[c]).scale(a));const o=new this(t.name,t.duration,e,t.blendMode);return o.uuid=t.uuid,o}static toJSON(t){const e=[],i=t.tracks,a={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let o=0,c=i.length;o!==c;++o)e.push(Ks.toJSON(i[o]));return a}static CreateFromMorphTargetSequence(t,e,i,a){const o=e.length,c=[];for(let h=0;h<o;h++){let p=[],m=[];p.push((h+o-1)%o,h,(h+1)%o),m.push(0,1,0);const y=ZU(p);p=mT(p,1,y),m=mT(m,1,y),!a&&p[0]===0&&(p.push(o),m.push(m[0])),c.push(new Jg(".morphTargetInfluences["+e[h].name+"]",p,m).scale(1/i))}return new this(t,-1,c)}static findByName(t,e){let i=t;if(!Array.isArray(t)){const a=t;i=a.geometry&&a.geometry.animations||a.animations}for(let a=0;a<i.length;a++)if(i[a].name===e)return i[a];return null}static CreateClipsFromMorphTargetSequences(t,e,i){const a={},o=/^([\w-]*?)([\d]+)$/;for(let h=0,p=t.length;h<p;h++){const m=t[h],y=m.name.match(o);if(y&&y.length>1){const v=y[1];let b=a[v];b||(a[v]=b=[]),b.push(m)}}const c=[];for(const h in a)c.push(this.CreateFromMorphTargetSequence(h,a[h],e,i));return c}static parseAnimation(t,e){if(console.warn("THREE.AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(v,b,M,E,R){if(M.length!==0){const C=[],T=[];RE(M,C,T,E),C.length!==0&&R.push(new v(b,C,T))}},a=[],o=t.name||"default",c=t.fps||30,h=t.blendMode;let p=t.length||-1;const m=t.hierarchy||[];for(let v=0;v<m.length;v++){const b=m[v].keys;if(!(!b||b.length===0))if(b[0].morphTargets){const M={};let E;for(E=0;E<b.length;E++)if(b[E].morphTargets)for(let R=0;R<b[E].morphTargets.length;R++)M[b[E].morphTargets[R]]=-1;for(const R in M){const C=[],T=[];for(let D=0;D!==b[E].morphTargets.length;++D){const j=b[E];C.push(j.time),T.push(j.morphTarget===R?1:0)}a.push(new Jg(".morphTargetInfluence["+R+"]",C,T))}p=M.length*c}else{const M=".bones["+e[v].name+"]";i($g,M+".position",b,"pos",a),i(Sx,M+".quaternion",b,"rot",a),i($g,M+".scale",b,"scl",a)}}return a.length===0?null:new this(o,p,a,h)}resetDuration(){const t=this.tracks;let e=0;for(let i=0,a=t.length;i!==a;++i){const o=this.tracks[i];e=Math.max(e,o.times[o.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function PB(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jg;case"vector":case"vector2":case"vector3":case"vector4":return $g;case"color":return UE;case"quaternion":return Sx;case"bool":case"boolean":return kh;case"string":return Gh}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function BB(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=PB(n.type);if(n.times===void 0){const e=[],i=[];RE(n.keys,e,i,"value"),n.times=e,n.values=i}return t.parse!==void 0?t.parse(n):new t(n.name,n.times,n.values,n.interpolation)}const Mc={enabled:!1,files:{},add:function(n,t){this.enabled!==!1&&(this.files[n]=t)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class jE{constructor(t,e,i){const a=this;let o=!1,c=0,h=0,p;const m=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(y){h++,o===!1&&a.onStart!==void 0&&a.onStart(y,c,h),o=!0},this.itemEnd=function(y){c++,a.onProgress!==void 0&&a.onProgress(y,c,h),c===h&&(o=!1,a.onLoad!==void 0&&a.onLoad())},this.itemError=function(y){a.onError!==void 0&&a.onError(y)},this.resolveURL=function(y){return p?p(y):y},this.setURLModifier=function(y){return p=y,this},this.addHandler=function(y,v){return m.push(y,v),this},this.removeHandler=function(y){const v=m.indexOf(y);return v!==-1&&m.splice(v,2),this},this.getHandler=function(y){for(let v=0,b=m.length;v<b;v+=2){const M=m[v],E=m[v+1];if(M.global&&(M.lastIndex=0),M.test(y))return E}return null}}}const $U=new jE;class Qr{constructor(t){this.manager=t!==void 0?t:$U,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const i=this;return new Promise(function(a,o){i.load(t,a,e,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}Qr.DEFAULT_MATERIAL_NAME="__DEFAULT";const hc={};class IB extends Error{constructor(t,e){super(t),this.response=e}}class Rc extends Qr{constructor(t){super(t),this.mimeType="",this.responseType=""}load(t,e,i,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=Mc.get(t);if(o!==void 0)return this.manager.itemStart(t),setTimeout(()=>{e&&e(o),this.manager.itemEnd(t)},0),o;if(hc[t]!==void 0){hc[t].push({onLoad:e,onProgress:i,onError:a});return}hc[t]=[],hc[t].push({onLoad:e,onProgress:i,onError:a});const c=new Request(t,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),h=this.mimeType,p=this.responseType;fetch(c).then(m=>{if(m.status===200||m.status===0){if(m.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||m.body===void 0||m.body.getReader===void 0)return m;const y=hc[t],v=m.body.getReader(),b=m.headers.get("X-File-Size")||m.headers.get("Content-Length"),M=b?parseInt(b):0,E=M!==0;let R=0;const C=new ReadableStream({start(T){D();function D(){v.read().then(({done:j,value:N})=>{if(j)T.close();else{R+=N.byteLength;const B=new ProgressEvent("progress",{lengthComputable:E,loaded:R,total:M});for(let P=0,H=y.length;P<H;P++){const k=y[P];k.onProgress&&k.onProgress(B)}T.enqueue(N),D()}},j=>{T.error(j)})}}});return new Response(C)}else throw new IB(`fetch for "${m.url}" responded with ${m.status}: ${m.statusText}`,m)}).then(m=>{switch(p){case"arraybuffer":return m.arrayBuffer();case"blob":return m.blob();case"document":return m.text().then(y=>new DOMParser().parseFromString(y,h));case"json":return m.json();default:if(h==="")return m.text();{const v=/charset="?([^;"\s]*)"?/i.exec(h),b=v&&v[1]?v[1].toLowerCase():void 0,M=new TextDecoder(b);return m.arrayBuffer().then(E=>M.decode(E))}}}).then(m=>{Mc.add(t,m);const y=hc[t];delete hc[t];for(let v=0,b=y.length;v<b;v++){const M=y[v];M.onLoad&&M.onLoad(m)}}).catch(m=>{const y=hc[t];if(y===void 0)throw this.manager.itemError(t),m;delete hc[t];for(let v=0,b=y.length;v<b;v++){const M=y[v];M.onError&&M.onError(m)}this.manager.itemError(t)}).finally(()=>{this.manager.itemEnd(t)}),this.manager.itemStart(t)}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class FB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=new Rc(this.manager);c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(p){a?a(p):console.error(p),o.manager.itemError(t)}},i,a)}parse(t){const e=[];for(let i=0;i<t.length;i++){const a=tx.parse(t[i]);e.push(a)}return e}}class VB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=[],h=new E_,p=new Rc(this.manager);p.setPath(this.path),p.setResponseType("arraybuffer"),p.setRequestHeader(this.requestHeader),p.setWithCredentials(o.withCredentials);let m=0;function y(v){p.load(t[v],function(b){const M=o.parse(b,!0);c[v]={width:M.width,height:M.height,format:M.format,mipmaps:M.mipmaps},m+=1,m===6&&(M.mipmapCount===1&&(h.minFilter=ua),h.image=c,h.format=M.format,h.needsUpdate=!0,e&&e(h))},i,a)}if(Array.isArray(t))for(let v=0,b=t.length;v<b;++v)y(v);else p.load(t,function(v){const b=o.parse(v,!0);if(b.isCubemap){const M=b.mipmaps.length/b.mipmapCount;for(let E=0;E<M;E++){c[E]={mipmaps:[]};for(let R=0;R<b.mipmapCount;R++)c[E].mipmaps.push(b.mipmaps[E*b.mipmapCount+R]),c[E].format=b.format,c[E].width=b.width,c[E].height=b.height}h.image=c}else h.image.width=b.width,h.image.height=b.height,h.mipmaps=b.mipmaps;b.mipmapCount===1&&(h.minFilter=ua),h.format=b.format,h.needsUpdate=!0,e&&e(h)},i,a);return h}}class ex extends Qr{constructor(t){super(t)}load(t,e,i,a){this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,c=Mc.get(t);if(c!==void 0)return o.manager.itemStart(t),setTimeout(function(){e&&e(c),o.manager.itemEnd(t)},0),c;const h=Yg("img");function p(){y(),Mc.add(t,this),e&&e(this),o.manager.itemEnd(t)}function m(v){y(),a&&a(v),o.manager.itemError(t),o.manager.itemEnd(t)}function y(){h.removeEventListener("load",p,!1),h.removeEventListener("error",m,!1)}return h.addEventListener("load",p,!1),h.addEventListener("error",m,!1),t.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(h.crossOrigin=this.crossOrigin),o.manager.itemStart(t),h.src=t,h}}class HB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=new gx;o.colorSpace=Qa;const c=new ex(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);let h=0;function p(m){c.load(t[m],function(y){o.images[m]=y,h++,h===6&&(o.needsUpdate=!0,e&&e(o))},void 0,a)}for(let m=0;m<t.length;++m)p(m);return o}}class kB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=new Rl,h=new Rc(this.manager);return h.setResponseType("arraybuffer"),h.setRequestHeader(this.requestHeader),h.setPath(this.path),h.setWithCredentials(o.withCredentials),h.load(t,function(p){let m;try{m=o.parse(p)}catch(y){if(a!==void 0)a(y);else{console.error(y);return}}m.image!==void 0?c.image=m.image:m.data!==void 0&&(c.image.width=m.width,c.image.height=m.height,c.image.data=m.data),c.wrapS=m.wrapS!==void 0?m.wrapS:Ys,c.wrapT=m.wrapT!==void 0?m.wrapT:Ys,c.magFilter=m.magFilter!==void 0?m.magFilter:ua,c.minFilter=m.minFilter!==void 0?m.minFilter:ua,c.anisotropy=m.anisotropy!==void 0?m.anisotropy:1,m.colorSpace!==void 0&&(c.colorSpace=m.colorSpace),m.flipY!==void 0&&(c.flipY=m.flipY),m.format!==void 0&&(c.format=m.format),m.type!==void 0&&(c.type=m.type),m.mipmaps!==void 0&&(c.mipmaps=m.mipmaps,c.minFilter=Al),m.mipmapCount===1&&(c.minFilter=ua),m.generateMipmaps!==void 0&&(c.generateMipmaps=m.generateMipmaps),c.needsUpdate=!0,e&&e(c,m)},i,a),c}}class GB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=new Li,c=new ex(this.manager);return c.setCrossOrigin(this.crossOrigin),c.setPath(this.path),c.load(t,function(h){o.image=h,o.needsUpdate=!0,e!==void 0&&e(o)},i,a),o}}class nd extends wn{constructor(t,e=1){super(),this.isLight=!0,this.type="Light",this.color=new he(t),this.intensity=e}dispose(){}copy(t,e){return super.copy(t,e),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,this.groundColor!==void 0&&(e.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(e.object.distance=this.distance),this.angle!==void 0&&(e.object.angle=this.angle),this.decay!==void 0&&(e.object.decay=this.decay),this.penumbra!==void 0&&(e.object.penumbra=this.penumbra),this.shadow!==void 0&&(e.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(e.object.target=this.target.uuid),e}}class tj extends nd{constructor(t,e,i){super(t,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new he(e)}copy(t,e){return super.copy(t,e),this.groundColor.copy(t.groundColor),this}}const xM=new Ve,bC=new J,_C=new J;class LE{constructor(t){this.camera=t,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Gt(512,512),this.map=null,this.mapPass=null,this.matrix=new Ve,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xx,this._frameExtents=new Gt(1,1),this._viewportCount=1,this._viewports=[new En(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,i=this.matrix;bC.setFromMatrixPosition(t.matrixWorld),e.position.copy(bC),_C.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(_C),e.updateMatrixWorld(),xM.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(xM),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(xM)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.intensity=t.intensity,this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const t={};return this.intensity!==1&&(t.intensity=this.intensity),this.bias!==0&&(t.bias=this.bias),this.normalBias!==0&&(t.normalBias=this.normalBias),this.radius!==1&&(t.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class XB extends LE{constructor(){super(new Vi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(t){const e=this.camera,i=Qp*2*t.angle*this.focus,a=this.mapSize.width/this.mapSize.height,o=t.distance||e.far;(i!==e.fov||a!==e.aspect||o!==e.far)&&(e.fov=i,e.aspect=a,e.far=o,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}class ej extends nd{constructor(t,e,i=0,a=Math.PI/3,o=0,c=2){super(t,e),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.distance=i,this.angle=a,this.penumbra=o,this.decay=c,this.map=null,this.shadow=new XB}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}const SC=new Ve,V0=new J,yM=new J;class qB extends LE{constructor(){super(new Vi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Gt(4,2),this._viewportCount=6,this._viewports=[new En(2,1,1,1),new En(0,1,1,1),new En(3,1,1,1),new En(1,1,1,1),new En(3,0,1,1),new En(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(t,e=0){const i=this.camera,a=this.matrix,o=t.distance||i.far;o!==i.far&&(i.far=o,i.updateProjectionMatrix()),V0.setFromMatrixPosition(t.matrixWorld),i.position.copy(V0),yM.copy(i.position),yM.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(yM),i.updateMatrixWorld(),a.makeTranslation(-V0.x,-V0.y,-V0.z),SC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(SC)}}class nj extends nd{constructor(t,e,i=0,a=2){super(t,e),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=a,this.shadow=new qB}get power(){return this.intensity*4*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t,e){return super.copy(t,e),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}class Yu extends b_{constructor(t=-1,e=1,i=1,a=-1,o=.1,c=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=a,this.near=o,this.far=c,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=t.view===null?null:Object.assign({},t.view),this}setViewOffset(t,e,i,a,o,c){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=a,this.view.width=o,this.view.height=c,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,a=(this.top+this.bottom)/2;let o=i-t,c=i+t,h=a+e,p=a-e;if(this.view!==null&&this.view.enabled){const m=(this.right-this.left)/this.view.fullWidth/this.zoom,y=(this.top-this.bottom)/this.view.fullHeight/this.zoom;o+=m*this.view.offsetX,c=o+m*this.view.width,h-=y*this.view.offsetY,p=h-y*this.view.height}this.projectionMatrix.makeOrthographic(o,c,h,p,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,this.view!==null&&(e.object.view=Object.assign({},this.view)),e}}class YB extends LE{constructor(){super(new Yu(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class ij extends nd{constructor(t,e){super(t,e),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wn.DEFAULT_UP),this.updateMatrix(),this.target=new wn,this.shadow=new YB}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}class aj extends nd{constructor(t,e){super(t,e),this.isAmbientLight=!0,this.type="AmbientLight"}}class rj extends nd{constructor(t,e,i=10,a=10){super(t,e),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=i,this.height=a}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}class sj{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new J)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,a=t.y,o=t.z,c=this.coefficients;return e.copy(c[0]).multiplyScalar(.282095),e.addScaledVector(c[1],.488603*a),e.addScaledVector(c[2],.488603*o),e.addScaledVector(c[3],.488603*i),e.addScaledVector(c[4],1.092548*(i*a)),e.addScaledVector(c[5],1.092548*(a*o)),e.addScaledVector(c[6],.315392*(3*o*o-1)),e.addScaledVector(c[7],1.092548*(i*o)),e.addScaledVector(c[8],.546274*(i*i-a*a)),e}getIrradianceAt(t,e){const i=t.x,a=t.y,o=t.z,c=this.coefficients;return e.copy(c[0]).multiplyScalar(.886227),e.addScaledVector(c[1],2*.511664*a),e.addScaledVector(c[2],2*.511664*o),e.addScaledVector(c[3],2*.511664*i),e.addScaledVector(c[4],2*.429043*i*a),e.addScaledVector(c[5],2*.429043*a*o),e.addScaledVector(c[6],.743125*o*o-.247708),e.addScaledVector(c[7],2*.429043*i*o),e.addScaledVector(c[8],.429043*(i*i-a*a)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].fromArray(t,e+a*3);return this}toArray(t=[],e=0){const i=this.coefficients;for(let a=0;a<9;a++)i[a].toArray(t,e+a*3);return t}static getBasisAt(t,e){const i=t.x,a=t.y,o=t.z;e[0]=.282095,e[1]=.488603*a,e[2]=.488603*o,e[3]=.488603*i,e[4]=1.092548*i*a,e[5]=1.092548*a*o,e[6]=.315392*(3*o*o-1),e[7]=1.092548*i*o,e[8]=.546274*(i*i-a*a)}}class oj extends nd{constructor(t=new sj,e=1){super(void 0,e),this.isLightProbe=!0,this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}class I_ extends Qr{constructor(t){super(t),this.textures={}}load(t,e,i,a){const o=this,c=new Rc(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(p){a?a(p):console.error(p),o.manager.itemError(t)}},i,a)}parse(t){const e=this.textures;function i(o){return e[o]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",o),e[o]}const a=this.createMaterialFromType(t.type);if(t.uuid!==void 0&&(a.uuid=t.uuid),t.name!==void 0&&(a.name=t.name),t.color!==void 0&&a.color!==void 0&&a.color.setHex(t.color),t.roughness!==void 0&&(a.roughness=t.roughness),t.metalness!==void 0&&(a.metalness=t.metalness),t.sheen!==void 0&&(a.sheen=t.sheen),t.sheenColor!==void 0&&(a.sheenColor=new he().setHex(t.sheenColor)),t.sheenRoughness!==void 0&&(a.sheenRoughness=t.sheenRoughness),t.emissive!==void 0&&a.emissive!==void 0&&a.emissive.setHex(t.emissive),t.specular!==void 0&&a.specular!==void 0&&a.specular.setHex(t.specular),t.specularIntensity!==void 0&&(a.specularIntensity=t.specularIntensity),t.specularColor!==void 0&&a.specularColor!==void 0&&a.specularColor.setHex(t.specularColor),t.shininess!==void 0&&(a.shininess=t.shininess),t.clearcoat!==void 0&&(a.clearcoat=t.clearcoat),t.clearcoatRoughness!==void 0&&(a.clearcoatRoughness=t.clearcoatRoughness),t.dispersion!==void 0&&(a.dispersion=t.dispersion),t.iridescence!==void 0&&(a.iridescence=t.iridescence),t.iridescenceIOR!==void 0&&(a.iridescenceIOR=t.iridescenceIOR),t.iridescenceThicknessRange!==void 0&&(a.iridescenceThicknessRange=t.iridescenceThicknessRange),t.transmission!==void 0&&(a.transmission=t.transmission),t.thickness!==void 0&&(a.thickness=t.thickness),t.attenuationDistance!==void 0&&(a.attenuationDistance=t.attenuationDistance),t.attenuationColor!==void 0&&a.attenuationColor!==void 0&&a.attenuationColor.setHex(t.attenuationColor),t.anisotropy!==void 0&&(a.anisotropy=t.anisotropy),t.anisotropyRotation!==void 0&&(a.anisotropyRotation=t.anisotropyRotation),t.fog!==void 0&&(a.fog=t.fog),t.flatShading!==void 0&&(a.flatShading=t.flatShading),t.blending!==void 0&&(a.blending=t.blending),t.combine!==void 0&&(a.combine=t.combine),t.side!==void 0&&(a.side=t.side),t.shadowSide!==void 0&&(a.shadowSide=t.shadowSide),t.opacity!==void 0&&(a.opacity=t.opacity),t.transparent!==void 0&&(a.transparent=t.transparent),t.alphaTest!==void 0&&(a.alphaTest=t.alphaTest),t.alphaHash!==void 0&&(a.alphaHash=t.alphaHash),t.depthFunc!==void 0&&(a.depthFunc=t.depthFunc),t.depthTest!==void 0&&(a.depthTest=t.depthTest),t.depthWrite!==void 0&&(a.depthWrite=t.depthWrite),t.colorWrite!==void 0&&(a.colorWrite=t.colorWrite),t.blendSrc!==void 0&&(a.blendSrc=t.blendSrc),t.blendDst!==void 0&&(a.blendDst=t.blendDst),t.blendEquation!==void 0&&(a.blendEquation=t.blendEquation),t.blendSrcAlpha!==void 0&&(a.blendSrcAlpha=t.blendSrcAlpha),t.blendDstAlpha!==void 0&&(a.blendDstAlpha=t.blendDstAlpha),t.blendEquationAlpha!==void 0&&(a.blendEquationAlpha=t.blendEquationAlpha),t.blendColor!==void 0&&a.blendColor!==void 0&&a.blendColor.setHex(t.blendColor),t.blendAlpha!==void 0&&(a.blendAlpha=t.blendAlpha),t.stencilWriteMask!==void 0&&(a.stencilWriteMask=t.stencilWriteMask),t.stencilFunc!==void 0&&(a.stencilFunc=t.stencilFunc),t.stencilRef!==void 0&&(a.stencilRef=t.stencilRef),t.stencilFuncMask!==void 0&&(a.stencilFuncMask=t.stencilFuncMask),t.stencilFail!==void 0&&(a.stencilFail=t.stencilFail),t.stencilZFail!==void 0&&(a.stencilZFail=t.stencilZFail),t.stencilZPass!==void 0&&(a.stencilZPass=t.stencilZPass),t.stencilWrite!==void 0&&(a.stencilWrite=t.stencilWrite),t.wireframe!==void 0&&(a.wireframe=t.wireframe),t.wireframeLinewidth!==void 0&&(a.wireframeLinewidth=t.wireframeLinewidth),t.wireframeLinecap!==void 0&&(a.wireframeLinecap=t.wireframeLinecap),t.wireframeLinejoin!==void 0&&(a.wireframeLinejoin=t.wireframeLinejoin),t.rotation!==void 0&&(a.rotation=t.rotation),t.linewidth!==void 0&&(a.linewidth=t.linewidth),t.dashSize!==void 0&&(a.dashSize=t.dashSize),t.gapSize!==void 0&&(a.gapSize=t.gapSize),t.scale!==void 0&&(a.scale=t.scale),t.polygonOffset!==void 0&&(a.polygonOffset=t.polygonOffset),t.polygonOffsetFactor!==void 0&&(a.polygonOffsetFactor=t.polygonOffsetFactor),t.polygonOffsetUnits!==void 0&&(a.polygonOffsetUnits=t.polygonOffsetUnits),t.dithering!==void 0&&(a.dithering=t.dithering),t.alphaToCoverage!==void 0&&(a.alphaToCoverage=t.alphaToCoverage),t.premultipliedAlpha!==void 0&&(a.premultipliedAlpha=t.premultipliedAlpha),t.forceSinglePass!==void 0&&(a.forceSinglePass=t.forceSinglePass),t.visible!==void 0&&(a.visible=t.visible),t.toneMapped!==void 0&&(a.toneMapped=t.toneMapped),t.userData!==void 0&&(a.userData=t.userData),t.vertexColors!==void 0&&(typeof t.vertexColors=="number"?a.vertexColors=t.vertexColors>0:a.vertexColors=t.vertexColors),t.uniforms!==void 0)for(const o in t.uniforms){const c=t.uniforms[o];switch(a.uniforms[o]={},c.type){case"t":a.uniforms[o].value=i(c.value);break;case"c":a.uniforms[o].value=new he().setHex(c.value);break;case"v2":a.uniforms[o].value=new Gt().fromArray(c.value);break;case"v3":a.uniforms[o].value=new J().fromArray(c.value);break;case"v4":a.uniforms[o].value=new En().fromArray(c.value);break;case"m3":a.uniforms[o].value=new Ke().fromArray(c.value);break;case"m4":a.uniforms[o].value=new Ve().fromArray(c.value);break;default:a.uniforms[o].value=c.value}}if(t.defines!==void 0&&(a.defines=t.defines),t.vertexShader!==void 0&&(a.vertexShader=t.vertexShader),t.fragmentShader!==void 0&&(a.fragmentShader=t.fragmentShader),t.glslVersion!==void 0&&(a.glslVersion=t.glslVersion),t.extensions!==void 0)for(const o in t.extensions)a.extensions[o]=t.extensions[o];if(t.lights!==void 0&&(a.lights=t.lights),t.clipping!==void 0&&(a.clipping=t.clipping),t.size!==void 0&&(a.size=t.size),t.sizeAttenuation!==void 0&&(a.sizeAttenuation=t.sizeAttenuation),t.map!==void 0&&(a.map=i(t.map)),t.matcap!==void 0&&(a.matcap=i(t.matcap)),t.alphaMap!==void 0&&(a.alphaMap=i(t.alphaMap)),t.bumpMap!==void 0&&(a.bumpMap=i(t.bumpMap)),t.bumpScale!==void 0&&(a.bumpScale=t.bumpScale),t.normalMap!==void 0&&(a.normalMap=i(t.normalMap)),t.normalMapType!==void 0&&(a.normalMapType=t.normalMapType),t.normalScale!==void 0){let o=t.normalScale;Array.isArray(o)===!1&&(o=[o,o]),a.normalScale=new Gt().fromArray(o)}return t.displacementMap!==void 0&&(a.displacementMap=i(t.displacementMap)),t.displacementScale!==void 0&&(a.displacementScale=t.displacementScale),t.displacementBias!==void 0&&(a.displacementBias=t.displacementBias),t.roughnessMap!==void 0&&(a.roughnessMap=i(t.roughnessMap)),t.metalnessMap!==void 0&&(a.metalnessMap=i(t.metalnessMap)),t.emissiveMap!==void 0&&(a.emissiveMap=i(t.emissiveMap)),t.emissiveIntensity!==void 0&&(a.emissiveIntensity=t.emissiveIntensity),t.specularMap!==void 0&&(a.specularMap=i(t.specularMap)),t.specularIntensityMap!==void 0&&(a.specularIntensityMap=i(t.specularIntensityMap)),t.specularColorMap!==void 0&&(a.specularColorMap=i(t.specularColorMap)),t.envMap!==void 0&&(a.envMap=i(t.envMap)),t.envMapRotation!==void 0&&a.envMapRotation.fromArray(t.envMapRotation),t.envMapIntensity!==void 0&&(a.envMapIntensity=t.envMapIntensity),t.reflectivity!==void 0&&(a.reflectivity=t.reflectivity),t.refractionRatio!==void 0&&(a.refractionRatio=t.refractionRatio),t.lightMap!==void 0&&(a.lightMap=i(t.lightMap)),t.lightMapIntensity!==void 0&&(a.lightMapIntensity=t.lightMapIntensity),t.aoMap!==void 0&&(a.aoMap=i(t.aoMap)),t.aoMapIntensity!==void 0&&(a.aoMapIntensity=t.aoMapIntensity),t.gradientMap!==void 0&&(a.gradientMap=i(t.gradientMap)),t.clearcoatMap!==void 0&&(a.clearcoatMap=i(t.clearcoatMap)),t.clearcoatRoughnessMap!==void 0&&(a.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),t.clearcoatNormalMap!==void 0&&(a.clearcoatNormalMap=i(t.clearcoatNormalMap)),t.clearcoatNormalScale!==void 0&&(a.clearcoatNormalScale=new Gt().fromArray(t.clearcoatNormalScale)),t.iridescenceMap!==void 0&&(a.iridescenceMap=i(t.iridescenceMap)),t.iridescenceThicknessMap!==void 0&&(a.iridescenceThicknessMap=i(t.iridescenceThicknessMap)),t.transmissionMap!==void 0&&(a.transmissionMap=i(t.transmissionMap)),t.thicknessMap!==void 0&&(a.thicknessMap=i(t.thicknessMap)),t.anisotropyMap!==void 0&&(a.anisotropyMap=i(t.anisotropyMap)),t.sheenColorMap!==void 0&&(a.sheenColorMap=i(t.sheenColorMap)),t.sheenRoughnessMap!==void 0&&(a.sheenRoughnessMap=i(t.sheenRoughnessMap)),a}setTextures(t){return this.textures=t,this}createMaterialFromType(t){return I_.createMaterialFromType(t)}static createMaterialFromType(t){const e={ShadowMaterial:IU,SpriteMaterial:gE,RawShaderMaterial:FU,ShaderMaterial:Oo,PointsMaterial:yE,MeshPhysicalMaterial:VU,MeshStandardMaterial:wE,MeshPhongMaterial:HU,MeshToonMaterial:kU,MeshNormalMaterial:GU,MeshLambertMaterial:XU,MeshDepthMaterial:AE,MeshDistanceMaterial:CE,MeshBasicMaterial:td,MeshMatcapMaterial:qU,LineDashedMaterial:YU,LineBasicMaterial:Rr,Material:ir};return new e[t]}}class gT{static extractUrlBase(t){const e=t.lastIndexOf("/");return e===-1?"./":t.slice(0,e+1)}static resolveURL(t,e){return typeof t!="string"||t===""?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}}class lj extends an{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}toJSON(){const t=super.toJSON();return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}class cj extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=new Rc(o.manager);c.setPath(o.path),c.setRequestHeader(o.requestHeader),c.setWithCredentials(o.withCredentials),c.load(t,function(h){try{e(o.parse(JSON.parse(h)))}catch(p){a?a(p):console.error(p),o.manager.itemError(t)}},i,a)}parse(t){const e={},i={};function a(M,E){if(e[E]!==void 0)return e[E];const C=M.interleavedBuffers[E],T=o(M,C.buffer),D=Lp(C.type,T),j=new M_(D,C.stride);return j.uuid=C.uuid,e[E]=j,j}function o(M,E){if(i[E]!==void 0)return i[E];const C=M.arrayBuffers[E],T=new Uint32Array(C).buffer;return i[E]=T,T}const c=t.isInstancedBufferGeometry?new lj:new an,h=t.data.index;if(h!==void 0){const M=Lp(h.type,h.array);c.setIndex(new qn(M,1))}const p=t.data.attributes;for(const M in p){const E=p[M];let R;if(E.isInterleavedBufferAttribute){const C=a(t.data,E.data);R=new Ph(C,E.itemSize,E.offset,E.normalized)}else{const C=Lp(E.type,E.array),T=E.isInstancedBufferAttribute?tm:qn;R=new T(C,E.itemSize,E.normalized)}E.name!==void 0&&(R.name=E.name),E.usage!==void 0&&R.setUsage(E.usage),c.setAttribute(M,R)}const m=t.data.morphAttributes;if(m)for(const M in m){const E=m[M],R=[];for(let C=0,T=E.length;C<T;C++){const D=E[C];let j;if(D.isInterleavedBufferAttribute){const N=a(t.data,D.data);j=new Ph(N,D.itemSize,D.offset,D.normalized)}else{const N=Lp(D.type,D.array);j=new qn(N,D.itemSize,D.normalized)}D.name!==void 0&&(j.name=D.name),R.push(j)}c.morphAttributes[M]=R}t.data.morphTargetsRelative&&(c.morphTargetsRelative=!0);const v=t.data.groups||t.data.drawcalls||t.data.offsets;if(v!==void 0)for(let M=0,E=v.length;M!==E;++M){const R=v[M];c.addGroup(R.start,R.count,R.materialIndex)}const b=t.data.boundingSphere;if(b!==void 0){const M=new J;b.center!==void 0&&M.fromArray(b.center),c.boundingSphere=new nr(M,b.radius)}return t.name&&(c.name=t.name),t.userData&&(c.userData=t.userData),c}}class WB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=this.path===""?gT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||c;const h=new Rc(this.manager);h.setPath(this.path),h.setRequestHeader(this.requestHeader),h.setWithCredentials(this.withCredentials),h.load(t,function(p){let m=null;try{m=JSON.parse(p)}catch(v){a!==void 0&&a(v),console.error("THREE:ObjectLoader: Can't parse "+t+".",v.message);return}const y=m.metadata;if(y===void 0||y.type===void 0||y.type.toLowerCase()==="geometry"){a!==void 0&&a(new Error("THREE.ObjectLoader: Can't load "+t)),console.error("THREE.ObjectLoader: Can't load "+t);return}o.parse(m,e)},i,a)}async loadAsync(t,e){const i=this,a=this.path===""?gT.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||a;const o=new Rc(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials);const c=await o.loadAsync(t,e),h=JSON.parse(c),p=h.metadata;if(p===void 0||p.type===void 0||p.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+t);return await i.parseAsync(h)}parse(t,e){const i=this.parseAnimations(t.animations),a=this.parseShapes(t.shapes),o=this.parseGeometries(t.geometries,a),c=this.parseImages(t.images,function(){e!==void 0&&e(m)}),h=this.parseTextures(t.textures,c),p=this.parseMaterials(t.materials,h),m=this.parseObject(t.object,o,p,h,i),y=this.parseSkeletons(t.skeletons,m);if(this.bindSkeletons(m,y),this.bindLightTargets(m),e!==void 0){let v=!1;for(const b in c)if(c[b].data instanceof HTMLImageElement){v=!0;break}v===!1&&e(m)}return m}async parseAsync(t){const e=this.parseAnimations(t.animations),i=this.parseShapes(t.shapes),a=this.parseGeometries(t.geometries,i),o=await this.parseImagesAsync(t.images),c=this.parseTextures(t.textures,o),h=this.parseMaterials(t.materials,c),p=this.parseObject(t.object,a,h,c,e),m=this.parseSkeletons(t.skeletons,p);return this.bindSkeletons(p,m),this.bindLightTargets(p),p}parseShapes(t){const e={};if(t!==void 0)for(let i=0,a=t.length;i<a;i++){const o=new Nh().fromJSON(t[i]);e[o.uuid]=o}return e}parseSkeletons(t,e){const i={},a={};if(e.traverse(function(o){o.isBone&&(a[o.uuid]=o)}),t!==void 0)for(let o=0,c=t.length;o<c;o++){const h=new T_().fromJSON(t[o],a);i[h.uuid]=h}return i}parseGeometries(t,e){const i={};if(t!==void 0){const a=new cj;for(let o=0,c=t.length;o<c;o++){let h;const p=t[o];switch(p.type){case"BufferGeometry":case"InstancedBufferGeometry":h=a.parse(p);break;default:p.type in vC?h=vC[p.type].fromJSON(p,e):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${p.type}"`)}h.uuid=p.uuid,p.name!==void 0&&(h.name=p.name),p.userData!==void 0&&(h.userData=p.userData),i[p.uuid]=h}}return i}parseMaterials(t,e){const i={},a={};if(t!==void 0){const o=new I_;o.setTextures(e);for(let c=0,h=t.length;c<h;c++){const p=t[c];i[p.uuid]===void 0&&(i[p.uuid]=o.parse(p)),a[p.uuid]=i[p.uuid]}}return a}parseAnimations(t){const e={};if(t!==void 0)for(let i=0;i<t.length;i++){const a=t[i],o=tx.parse(a);e[o.uuid]=o}return e}parseImages(t,e){const i=this,a={};let o;function c(p){return i.manager.itemStart(p),o.load(p,function(){i.manager.itemEnd(p)},void 0,function(){i.manager.itemError(p),i.manager.itemEnd(p)})}function h(p){if(typeof p=="string"){const m=p,y=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(m)?m:i.resourcePath+m;return c(y)}else return p.data?{data:Lp(p.type,p.data),width:p.width,height:p.height}:null}if(t!==void 0&&t.length>0){const p=new jE(e);o=new ex(p),o.setCrossOrigin(this.crossOrigin);for(let m=0,y=t.length;m<y;m++){const v=t[m],b=v.url;if(Array.isArray(b)){const M=[];for(let E=0,R=b.length;E<R;E++){const C=b[E],T=h(C);T!==null&&(T instanceof HTMLImageElement?M.push(T):M.push(new Rl(T.data,T.width,T.height)))}a[v.uuid]=new Xu(M)}else{const M=h(v.url);a[v.uuid]=new Xu(M)}}}return a}async parseImagesAsync(t){const e=this,i={};let a;async function o(c){if(typeof c=="string"){const h=c,p=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(h)?h:e.resourcePath+h;return await a.loadAsync(p)}else return c.data?{data:Lp(c.type,c.data),width:c.width,height:c.height}:null}if(t!==void 0&&t.length>0){a=new ex(this.manager),a.setCrossOrigin(this.crossOrigin);for(let c=0,h=t.length;c<h;c++){const p=t[c],m=p.url;if(Array.isArray(m)){const y=[];for(let v=0,b=m.length;v<b;v++){const M=m[v],E=await o(M);E!==null&&(E instanceof HTMLImageElement?y.push(E):y.push(new Rl(E.data,E.width,E.height)))}i[p.uuid]=new Xu(y)}else{const y=await o(p.url);i[p.uuid]=new Xu(y)}}}return i}parseTextures(t,e){function i(o,c){return typeof o=="number"?o:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",o),c[o])}const a={};if(t!==void 0)for(let o=0,c=t.length;o<c;o++){const h=t[o];h.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',h.uuid),e[h.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",h.image);const p=e[h.image],m=p.data;let y;Array.isArray(m)?(y=new gx,m.length===6&&(y.needsUpdate=!0)):(m&&m.data?y=new Rl:y=new Li,m&&(y.needsUpdate=!0)),y.source=p,y.uuid=h.uuid,h.name!==void 0&&(y.name=h.name),h.mapping!==void 0&&(y.mapping=i(h.mapping,ZB)),h.channel!==void 0&&(y.channel=h.channel),h.offset!==void 0&&y.offset.fromArray(h.offset),h.repeat!==void 0&&y.repeat.fromArray(h.repeat),h.center!==void 0&&y.center.fromArray(h.center),h.rotation!==void 0&&(y.rotation=h.rotation),h.wrap!==void 0&&(y.wrapS=i(h.wrap[0],MC),y.wrapT=i(h.wrap[1],MC)),h.format!==void 0&&(y.format=h.format),h.internalFormat!==void 0&&(y.internalFormat=h.internalFormat),h.type!==void 0&&(y.type=h.type),h.colorSpace!==void 0&&(y.colorSpace=h.colorSpace),h.minFilter!==void 0&&(y.minFilter=i(h.minFilter,TC)),h.magFilter!==void 0&&(y.magFilter=i(h.magFilter,TC)),h.anisotropy!==void 0&&(y.anisotropy=h.anisotropy),h.flipY!==void 0&&(y.flipY=h.flipY),h.generateMipmaps!==void 0&&(y.generateMipmaps=h.generateMipmaps),h.premultiplyAlpha!==void 0&&(y.premultiplyAlpha=h.premultiplyAlpha),h.unpackAlignment!==void 0&&(y.unpackAlignment=h.unpackAlignment),h.compareFunction!==void 0&&(y.compareFunction=h.compareFunction),h.userData!==void 0&&(y.userData=h.userData),a[h.uuid]=y}return a}parseObject(t,e,i,a,o){let c;function h(b){return e[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",b),e[b]}function p(b){if(b!==void 0){if(Array.isArray(b)){const M=[];for(let E=0,R=b.length;E<R;E++){const C=b[E];i[C]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",C),M.push(i[C])}return M}return i[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",b),i[b]}}function m(b){return a[b]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",b),a[b]}let y,v;switch(t.type){case"Scene":c=new mE,t.background!==void 0&&(Number.isInteger(t.background)?c.background=new he(t.background):c.background=m(t.background)),t.environment!==void 0&&(c.environment=m(t.environment)),t.fog!==void 0&&(t.fog.type==="Fog"?c.fog=new S_(t.fog.color,t.fog.near,t.fog.far):t.fog.type==="FogExp2"&&(c.fog=new __(t.fog.color,t.fog.density)),t.fog.name!==""&&(c.fog.name=t.fog.name)),t.backgroundBlurriness!==void 0&&(c.backgroundBlurriness=t.backgroundBlurriness),t.backgroundIntensity!==void 0&&(c.backgroundIntensity=t.backgroundIntensity),t.backgroundRotation!==void 0&&c.backgroundRotation.fromArray(t.backgroundRotation),t.environmentIntensity!==void 0&&(c.environmentIntensity=t.environmentIntensity),t.environmentRotation!==void 0&&c.environmentRotation.fromArray(t.environmentRotation);break;case"PerspectiveCamera":c=new Vi(t.fov,t.aspect,t.near,t.far),t.focus!==void 0&&(c.focus=t.focus),t.zoom!==void 0&&(c.zoom=t.zoom),t.filmGauge!==void 0&&(c.filmGauge=t.filmGauge),t.filmOffset!==void 0&&(c.filmOffset=t.filmOffset),t.view!==void 0&&(c.view=Object.assign({},t.view));break;case"OrthographicCamera":c=new Yu(t.left,t.right,t.top,t.bottom,t.near,t.far),t.zoom!==void 0&&(c.zoom=t.zoom),t.view!==void 0&&(c.view=Object.assign({},t.view));break;case"AmbientLight":c=new aj(t.color,t.intensity);break;case"DirectionalLight":c=new ij(t.color,t.intensity),c.target=t.target||"";break;case"PointLight":c=new nj(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":c=new rj(t.color,t.intensity,t.width,t.height);break;case"SpotLight":c=new ej(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay),c.target=t.target||"";break;case"HemisphereLight":c=new tj(t.color,t.groundColor,t.intensity);break;case"LightProbe":c=new oj().fromJSON(t);break;case"SkinnedMesh":y=h(t.geometry),v=p(t.material),c=new SU(y,v),t.bindMode!==void 0&&(c.bindMode=t.bindMode),t.bindMatrix!==void 0&&c.bindMatrix.fromArray(t.bindMatrix),t.skeleton!==void 0&&(c.skeleton=t.skeleton);break;case"Mesh":y=h(t.geometry),v=p(t.material),c=new $i(y,v);break;case"InstancedMesh":y=h(t.geometry),v=p(t.material);const b=t.count,M=t.instanceMatrix,E=t.instanceColor;c=new MU(y,v,b),c.instanceMatrix=new tm(new Float32Array(M.array),16),E!==void 0&&(c.instanceColor=new tm(new Float32Array(E.array),E.itemSize));break;case"BatchedMesh":y=h(t.geometry),v=p(t.material),c=new TU(t.maxInstanceCount,t.maxVertexCount,t.maxIndexCount,v),c.geometry=y,c.perObjectFrustumCulled=t.perObjectFrustumCulled,c.sortObjects=t.sortObjects,c._drawRanges=t.drawRanges,c._reservedRanges=t.reservedRanges,c._visibility=t.visibility,c._active=t.active,c._bounds=t.bounds.map(R=>{const C=new Cr;C.min.fromArray(R.boxMin),C.max.fromArray(R.boxMax);const T=new nr;return T.radius=R.sphereRadius,T.center.fromArray(R.sphereCenter),{boxInitialized:R.boxInitialized,box:C,sphereInitialized:R.sphereInitialized,sphere:T}}),c._maxInstanceCount=t.maxInstanceCount,c._maxVertexCount=t.maxVertexCount,c._maxIndexCount=t.maxIndexCount,c._geometryInitialized=t.geometryInitialized,c._geometryCount=t.geometryCount,c._matricesTexture=m(t.matricesTexture.uuid),t.colorsTexture!==void 0&&(c._colorsTexture=m(t.colorsTexture.uuid));break;case"LOD":c=new _U;break;case"Line":c=new Ku(h(t.geometry),p(t.material));break;case"LineLoop":c=new EU(h(t.geometry),p(t.material));break;case"LineSegments":c=new Pl(h(t.geometry),p(t.material));break;case"PointCloud":case"Points":c=new wU(h(t.geometry),p(t.material));break;case"Sprite":c=new bU(p(t.material));break;case"Group":c=new Np;break;case"Bone":c=new xE;break;default:c=new wn}if(c.uuid=t.uuid,t.name!==void 0&&(c.name=t.name),t.matrix!==void 0?(c.matrix.fromArray(t.matrix),t.matrixAutoUpdate!==void 0&&(c.matrixAutoUpdate=t.matrixAutoUpdate),c.matrixAutoUpdate&&c.matrix.decompose(c.position,c.quaternion,c.scale)):(t.position!==void 0&&c.position.fromArray(t.position),t.rotation!==void 0&&c.rotation.fromArray(t.rotation),t.quaternion!==void 0&&c.quaternion.fromArray(t.quaternion),t.scale!==void 0&&c.scale.fromArray(t.scale)),t.up!==void 0&&c.up.fromArray(t.up),t.castShadow!==void 0&&(c.castShadow=t.castShadow),t.receiveShadow!==void 0&&(c.receiveShadow=t.receiveShadow),t.shadow&&(t.shadow.intensity!==void 0&&(c.shadow.intensity=t.shadow.intensity),t.shadow.bias!==void 0&&(c.shadow.bias=t.shadow.bias),t.shadow.normalBias!==void 0&&(c.shadow.normalBias=t.shadow.normalBias),t.shadow.radius!==void 0&&(c.shadow.radius=t.shadow.radius),t.shadow.mapSize!==void 0&&c.shadow.mapSize.fromArray(t.shadow.mapSize),t.shadow.camera!==void 0&&(c.shadow.camera=this.parseObject(t.shadow.camera))),t.visible!==void 0&&(c.visible=t.visible),t.frustumCulled!==void 0&&(c.frustumCulled=t.frustumCulled),t.renderOrder!==void 0&&(c.renderOrder=t.renderOrder),t.userData!==void 0&&(c.userData=t.userData),t.layers!==void 0&&(c.layers.mask=t.layers),t.children!==void 0){const b=t.children;for(let M=0;M<b.length;M++)c.add(this.parseObject(b[M],e,i,a,o))}if(t.animations!==void 0){const b=t.animations;for(let M=0;M<b.length;M++){const E=b[M];c.animations.push(o[E])}}if(t.type==="LOD"){t.autoUpdate!==void 0&&(c.autoUpdate=t.autoUpdate);const b=t.levels;for(let M=0;M<b.length;M++){const E=b[M],R=c.getObjectByProperty("uuid",E.object);R!==void 0&&c.addLevel(R,E.distance,E.hysteresis)}}return c}bindSkeletons(t,e){Object.keys(e).length!==0&&t.traverse(function(i){if(i.isSkinnedMesh===!0&&i.skeleton!==void 0){const a=e[i.skeleton];a===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",i.skeleton):i.bind(a,i.bindMatrix)}})}bindLightTargets(t){t.traverse(function(e){if(e.isDirectionalLight||e.isSpotLight){const i=e.target,a=t.getObjectByProperty("uuid",i);a!==void 0?e.target=a:e.target=new wn}})}}const ZB={UVMapping:u_,CubeReflectionMapping:Ac,CubeRefractionMapping:Wu,EquirectangularReflectionMapping:Bg,EquirectangularRefractionMapping:Ig,CubeUVReflectionMapping:om},MC={RepeatWrapping:Fg,ClampToEdgeWrapping:Ys,MirroredRepeatWrapping:Vg},TC={NearestFilter:za,NearestMipmapNearestFilter:tE,NearestMipmapLinearFilter:jp,LinearFilter:ua,LinearMipmapNearestFilter:Sg,LinearMipmapLinearFilter:Al};class KB extends Qr{constructor(t){super(t),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,i,a){t===void 0&&(t=""),this.path!==void 0&&(t=this.path+t),t=this.manager.resolveURL(t);const o=this,c=Mc.get(t);if(c!==void 0){if(o.manager.itemStart(t),c.then){c.then(m=>{e&&e(m),o.manager.itemEnd(t)}).catch(m=>{a&&a(m)});return}return setTimeout(function(){e&&e(c),o.manager.itemEnd(t)},0),c}const h={};h.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",h.headers=this.requestHeader;const p=fetch(t,h).then(function(m){return m.blob()}).then(function(m){return createImageBitmap(m,Object.assign(o.options,{colorSpaceConversion:"none"}))}).then(function(m){return Mc.add(t,m),e&&e(m),o.manager.itemEnd(t),m}).catch(function(m){a&&a(m),Mc.remove(t),o.manager.itemError(t),o.manager.itemEnd(t)});Mc.add(t,p),o.manager.itemStart(t)}}let Bv;class NE{static getContext(){return Bv===void 0&&(Bv=new(window.AudioContext||window.webkitAudioContext)),Bv}static setContext(t){Bv=t}}class QB extends Qr{constructor(t){super(t)}load(t,e,i,a){const o=this,c=new Rc(this.manager);c.setResponseType("arraybuffer"),c.setPath(this.path),c.setRequestHeader(this.requestHeader),c.setWithCredentials(this.withCredentials),c.load(t,function(p){try{const m=p.slice(0);NE.getContext().decodeAudioData(m,function(v){e(v)}).catch(h)}catch(m){h(m)}},i,a);function h(p){a?a(p):console.error(p),o.manager.itemError(t)}}}const EC=new Ve,wC=new Ve,nh=new Ve;class JB{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Vi,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Vi,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep,nh.copy(t.projectionMatrix);const a=e.eyeSep/2,o=a*e.near/e.focus,c=e.near*Math.tan(Lh*e.fov*.5)/e.zoom;let h,p;wC.elements[12]=-a,EC.elements[12]=a,h=-c*e.aspect+o,p=c*e.aspect+o,nh.elements[0]=2*e.near/(p-h),nh.elements[8]=(p+h)/(p-h),this.cameraL.projectionMatrix.copy(nh),h=-c*e.aspect-o,p=c*e.aspect-o,nh.elements[0]=2*e.near/(p-h),nh.elements[8]=(p+h)/(p-h),this.cameraR.projectionMatrix.copy(nh)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(wC),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(EC)}}class uj extends Vi{constructor(t=[]){super(),this.isArrayCamera=!0,this.cameras=t,this.index=0}}class OE{constructor(t=!0){this.autoStart=t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=AC(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const e=AC();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}}function AC(){return performance.now()}const ih=new J,CC=new er,$B=new J,ah=new J;class t6 extends wn{constructor(){super(),this.type="AudioListener",this.context=NE.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new OE}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(t){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}updateMatrixWorld(t){super.updateMatrixWorld(t);const e=this.context.listener,i=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(ih,CC,$B),ah.set(0,0,-1).applyQuaternion(CC),e.positionX){const a=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(ih.x,a),e.positionY.linearRampToValueAtTime(ih.y,a),e.positionZ.linearRampToValueAtTime(ih.z,a),e.forwardX.linearRampToValueAtTime(ah.x,a),e.forwardY.linearRampToValueAtTime(ah.y,a),e.forwardZ.linearRampToValueAtTime(ah.z,a),e.upX.linearRampToValueAtTime(i.x,a),e.upY.linearRampToValueAtTime(i.y,a),e.upZ.linearRampToValueAtTime(i.z,a)}else e.setPosition(ih.x,ih.y,ih.z),e.setOrientation(ah.x,ah.y,ah.z,i.x,i.y,i.z)}}class dj extends wn{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(t=0){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+t),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(t){return t||(t=[]),this._connected===!0?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){return this.detune=t,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=t,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=t,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}copy(t,e){return super.copy(t,e),t.sourceType!=="buffer"?(console.warn("THREE.Audio: Audio source type cannot be copied."),this):(this.autoplay=t.autoplay,this.buffer=t.buffer,this.detune=t.detune,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.offset=t.offset,this.duration=t.duration,this.playbackRate=t.playbackRate,this.hasPlaybackControl=t.hasPlaybackControl,this.sourceType=t.sourceType,this.filters=t.filters.slice(),this)}clone(t){return new this.constructor(this.listener).copy(this,t)}}const rh=new J,RC=new er,e6=new J,sh=new J;class n6 extends dj{constructor(t){super(t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(t){return this.panner.refDistance=t,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(t){return this.panner.rolloffFactor=t,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(t){return this.panner.distanceModel=t,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(t){return this.panner.maxDistance=t,this}setDirectionalCone(t,e,i){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=i,this}updateMatrixWorld(t){if(super.updateMatrixWorld(t),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(rh,RC,e6),sh.set(0,0,1).applyQuaternion(RC);const e=this.panner;if(e.positionX){const i=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(rh.x,i),e.positionY.linearRampToValueAtTime(rh.y,i),e.positionZ.linearRampToValueAtTime(rh.z,i),e.orientationX.linearRampToValueAtTime(sh.x,i),e.orientationY.linearRampToValueAtTime(sh.y,i),e.orientationZ.linearRampToValueAtTime(sh.z,i)}else e.setPosition(rh.x,rh.y,rh.z),e.setOrientation(sh.x,sh.y,sh.z)}}class i6{constructor(t,e=2048){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=e,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let t=0;const e=this.getFrequencyData();for(let i=0;i<e.length;i++)t+=e[i];return t/e.length}}class hj{constructor(t,e,i){this.binding=t,this.valueSize=i;let a,o,c;switch(e){case"quaternion":a=this._slerp,o=this._slerpAdditive,c=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(i*6),this._workIndex=5;break;case"string":case"bool":a=this._select,o=this._select,c=this._setAdditiveIdentityOther,this.buffer=new Array(i*5);break;default:a=this._lerp,o=this._lerpAdditive,c=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(i*5)}this._mixBufferRegion=a,this._mixBufferRegionAdditive=o,this._setIdentity=c,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const i=this.buffer,a=this.valueSize,o=t*a+a;let c=this.cumulativeWeight;if(c===0){for(let h=0;h!==a;++h)i[o+h]=i[h];c=e}else{c+=e;const h=e/c;this._mixBufferRegion(i,o,0,h,a)}this.cumulativeWeight=c}accumulateAdditive(t){const e=this.buffer,i=this.valueSize,a=i*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(e,a,0,t,i),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,i=this.buffer,a=t*e+e,o=this.cumulativeWeight,c=this.cumulativeWeightAdditive,h=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,o<1){const p=e*this._origIndex;this._mixBufferRegion(i,a,p,1-o,e)}c>0&&this._mixBufferRegionAdditive(i,a,this._addIndex*e,1,e);for(let p=e,m=e+e;p!==m;++p)if(i[p]!==i[p+e]){h.setValue(i,a);break}}saveOriginalState(){const t=this.binding,e=this.buffer,i=this.valueSize,a=i*this._origIndex;t.getValue(e,a);for(let o=i,c=a;o!==c;++o)e[o]=e[a+o%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const t=this.valueSize*3;this.binding.setValue(this.buffer,t)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]}_select(t,e,i,a,o){if(a>=.5)for(let c=0;c!==o;++c)t[e+c]=t[i+c]}_slerp(t,e,i,a){er.slerpFlat(t,e,t,e,t,i,a)}_slerpAdditive(t,e,i,a,o){const c=this._workIndex*o;er.multiplyQuaternionsFlat(t,c,t,e,t,i),er.slerpFlat(t,e,t,e,t,c,a)}_lerp(t,e,i,a,o){const c=1-a;for(let h=0;h!==o;++h){const p=e+h;t[p]=t[p]*c+t[i+h]*a}}_lerpAdditive(t,e,i,a,o){for(let c=0;c!==o;++c){const h=e+c;t[h]=t[h]+t[i+c]*a}}}const zE="\\[\\]\\.:\\/",a6=new RegExp("["+zE+"]","g"),PE="[^"+zE+"]",r6="[^"+zE.replace("\\.","")+"]",s6=/((?:WC+[\/:])*)/.source.replace("WC",PE),o6=/(WCOD+)?/.source.replace("WCOD",r6),l6=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",PE),c6=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",PE),u6=new RegExp("^"+s6+o6+l6+c6+"$"),d6=["material","materials","bones","map"];class h6{constructor(t,e,i){const a=i||Tn.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,a)}getValue(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,a=this._bindings[i];a!==void 0&&a.getValue(t,e)}setValue(t,e){const i=this._bindings;for(let a=this._targetGroup.nCachedObjects_,o=i.length;a!==o;++a)i[a].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}class Tn{constructor(t,e,i){this.path=e,this.parsedPath=i||Tn.parseTrackName(e),this.node=Tn.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,e,i){return t&&t.isAnimationObjectGroup?new Tn.Composite(t,e,i):new Tn(t,e,i)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(a6,"")}static parseTrackName(t){const e=u6.exec(t);if(e===null)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},a=i.nodeName&&i.nodeName.lastIndexOf(".");if(a!==void 0&&a!==-1){const o=i.nodeName.substring(a+1);d6.indexOf(o)!==-1&&(i.nodeName=i.nodeName.substring(0,a),i.objectName=o)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i}static findNode(t,e){if(e===void 0||e===""||e==="."||e===-1||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(i!==void 0)return i}if(t.children){const i=function(o){for(let c=0;c<o.length;c++){const h=o[c];if(h.name===e||h.uuid===e)return h;const p=i(h.children);if(p)return p}return null},a=i(t.children);if(a)return a}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,e){t[e]=this.targetObject[this.propertyName]}_getValue_array(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)t[e++]=i[a]}_getValue_arrayElement(t,e){t[e]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,e){this.resolvedProperty.toArray(t,e)}_setValue_direct(t,e){this.targetObject[this.propertyName]=t[e]}_setValue_direct_setNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++]}_setValue_array_setNeedsUpdate(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,e){const i=this.resolvedProperty;for(let a=0,o=i.length;a!==o;++a)i[a]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,e){this.resolvedProperty[this.propertyIndex]=t[e]}_setValue_arrayElement_setNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,e){this.resolvedProperty.fromArray(t,e)}_setValue_fromArray_setNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,e){this.bind(),this.getValue(t,e)}_setValue_unbound(t,e){this.bind(),this.setValue(t,e)}bind(){let t=this.node;const e=this.parsedPath,i=e.objectName,a=e.propertyName;let o=e.propertyIndex;if(t||(t=Tn.findNode(this.rootNode,e.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let m=e.objectIndex;switch(i){case"materials":if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}t=t.material.materials;break;case"bones":if(!t.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}t=t.skeleton.bones;for(let y=0;y<t.length;y++)if(t[y].name===m){m=y;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!t.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}t=t.material.map;break;default:if(t[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}t=t[i]}if(m!==void 0){if(t[m]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);return}t=t[m]}}const c=t[a];if(c===void 0){const m=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+m+"."+a+" but it wasn't found.",t);return}let h=this.Versioning.None;this.targetObject=t,t.isMaterial===!0?h=this.Versioning.NeedsUpdate:t.isObject3D===!0&&(h=this.Versioning.MatrixWorldNeedsUpdate);let p=this.BindingType.Direct;if(o!==void 0){if(a==="morphTargetInfluences"){if(!t.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!t.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}t.morphTargetDictionary[o]!==void 0&&(o=t.morphTargetDictionary[o])}p=this.BindingType.ArrayElement,this.resolvedProperty=c,this.propertyIndex=o}else c.fromArray!==void 0&&c.toArray!==void 0?(p=this.BindingType.HasFromToArray,this.resolvedProperty=c):Array.isArray(c)?(p=this.BindingType.EntireArray,this.resolvedProperty=c):this.propertyName=a;this.getValue=this.GetterByBindingType[p],this.setValue=this.SetterByBindingTypeAndVersioning[p][h]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Tn.Composite=h6;Tn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Tn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Tn.prototype.GetterByBindingType=[Tn.prototype._getValue_direct,Tn.prototype._getValue_array,Tn.prototype._getValue_arrayElement,Tn.prototype._getValue_toArray];Tn.prototype.SetterByBindingTypeAndVersioning=[[Tn.prototype._setValue_direct,Tn.prototype._setValue_direct_setNeedsUpdate,Tn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_array,Tn.prototype._setValue_array_setNeedsUpdate,Tn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_arrayElement,Tn.prototype._setValue_arrayElement_setNeedsUpdate,Tn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Tn.prototype._setValue_fromArray,Tn.prototype._setValue_fromArray_setNeedsUpdate,Tn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class f6{constructor(){this.isAnimationObjectGroup=!0,this.uuid=vs(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,a=arguments.length;i!==a;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}add(){const t=this._objects,e=this._indicesByUUID,i=this._paths,a=this._parsedPaths,o=this._bindings,c=o.length;let h,p=t.length,m=this.nCachedObjects_;for(let y=0,v=arguments.length;y!==v;++y){const b=arguments[y],M=b.uuid;let E=e[M];if(E===void 0){E=p++,e[M]=E,t.push(b);for(let R=0,C=c;R!==C;++R)o[R].push(new Tn(b,i[R],a[R]))}else if(E<m){h=t[E];const R=--m,C=t[R];e[C.uuid]=E,t[E]=C,e[M]=R,t[R]=b;for(let T=0,D=c;T!==D;++T){const j=o[T],N=j[R];let B=j[E];j[E]=N,B===void 0&&(B=new Tn(b,i[T],a[T])),j[R]=B}}else t[E]!==h&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=m}remove(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_;for(let c=0,h=arguments.length;c!==h;++c){const p=arguments[c],m=p.uuid,y=e[m];if(y!==void 0&&y>=o){const v=o++,b=t[v];e[b.uuid]=y,t[y]=b,e[m]=v,t[v]=p;for(let M=0,E=a;M!==E;++M){const R=i[M],C=R[v],T=R[y];R[y]=C,R[v]=T}}}this.nCachedObjects_=o}uncache(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,a=i.length;let o=this.nCachedObjects_,c=t.length;for(let h=0,p=arguments.length;h!==p;++h){const m=arguments[h],y=m.uuid,v=e[y];if(v!==void 0)if(delete e[y],v<o){const b=--o,M=t[b],E=--c,R=t[E];e[M.uuid]=v,t[v]=M,e[R.uuid]=b,t[b]=R,t.pop();for(let C=0,T=a;C!==T;++C){const D=i[C],j=D[b],N=D[E];D[v]=j,D[b]=N,D.pop()}}else{const b=--c,M=t[b];b>0&&(e[M.uuid]=v),t[v]=M,t.pop();for(let E=0,R=a;E!==R;++E){const C=i[E];C[v]=C[b],C.pop()}}}this.nCachedObjects_=o}subscribe_(t,e){const i=this._bindingsIndicesByPath;let a=i[t];const o=this._bindings;if(a!==void 0)return o[a];const c=this._paths,h=this._parsedPaths,p=this._objects,m=p.length,y=this.nCachedObjects_,v=new Array(m);a=o.length,i[t]=a,c.push(t),h.push(e),o.push(v);for(let b=y,M=p.length;b!==M;++b){const E=p[b];v[b]=new Tn(E,t,e)}return v}unsubscribe_(t){const e=this._bindingsIndicesByPath,i=e[t];if(i!==void 0){const a=this._paths,o=this._parsedPaths,c=this._bindings,h=c.length-1,p=c[h],m=t[h];e[m]=i,c[i]=p,c.pop(),o[i]=o[h],o.pop(),a[i]=a[h],a.pop()}}}class fj{constructor(t,e,i=null,a=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=a;const o=e.tracks,c=o.length,h=new Array(c),p={endingStart:Eh,endingEnd:Eh};for(let m=0;m!==c;++m){const y=o[m].createInterpolant(null);h[m]=y,y.settings=p}this._interpolantSettings=p,this._interpolants=h,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=$4,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i=!1){if(t.fadeOut(e),this.fadeIn(e),i===!0){const a=this._clip.duration,o=t._clip.duration,c=o/a,h=a/o;t.warp(1,c,e),this.warp(h,1,e)}return this}crossFadeTo(t,e,i=!1){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return t!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const a=this._mixer,o=a.time,c=this.timeScale;let h=this._timeScaleInterpolant;h===null&&(h=a._lendControlInterpolant(),this._timeScaleInterpolant=h);const p=h.parameterPositions,m=h.sampleValues;return p[0]=o,p[1]=o+i,m[0]=t/c,m[1]=e/c,this}stopWarping(){const t=this._timeScaleInterpolant;return t!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,a){if(!this.enabled){this._updateWeight(t);return}const o=this._startTime;if(o!==null){const p=(t-o)*i;p<0||i===0?e=0:(this._startTime=null,e=i*p)}e*=this._updateTimeScale(t);const c=this._updateTime(e),h=this._updateWeight(t);if(h>0){const p=this._interpolants,m=this._propertyBindings;switch(this.blendMode){case uE:for(let y=0,v=p.length;y!==v;++y)p[y].evaluate(c),m[y].accumulateAdditive(h);break;case x_:default:for(let y=0,v=p.length;y!==v;++y)p[y].evaluate(c),m[y].accumulate(a,h)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(i!==null){const a=i.evaluate(t)[0];e*=a,t>i.parameterPositions[1]&&(this.stopFading(),a===0&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;if(i!==null){const a=i.evaluate(t)[0];e*=a,t>i.parameterPositions[1]&&(this.stopWarping(),e===0?this.paused=!0:this.timeScale=e)}}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let a=this.time+t,o=this._loopCount;const c=i===tU;if(t===0)return o===-1?a:c&&(o&1)===1?e-a:a;if(i===J4){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(a>=e)a=e;else if(a<0)a=0;else{this.time=a;break t}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(o===-1&&(t>=0?(o=0,this._setEndings(!0,this.repetitions===0,c)):this._setEndings(this.repetitions===0,!0,c)),a>=e||a<0){const h=Math.floor(a/e);a-=e*h,o+=Math.abs(h);const p=this.repetitions-o;if(p<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,a=t>0?e:0,this.time=a,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(p===1){const m=t<0;this._setEndings(m,!m,c)}else this._setEndings(!1,!1,c);this._loopCount=o,this.time=a,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h})}}else this.time=a;if(c&&(o&1)===1)return e-a}return a}_setEndings(t,e,i){const a=this._interpolantSettings;i?(a.endingStart=wh,a.endingEnd=wh):(t?a.endingStart=this.zeroSlopeAtStart?wh:Eh:a.endingStart=kg,e?a.endingEnd=this.zeroSlopeAtEnd?wh:Eh:a.endingEnd=kg)}_scheduleFading(t,e,i){const a=this._mixer,o=a.time;let c=this._weightInterpolant;c===null&&(c=a._lendControlInterpolant(),this._weightInterpolant=c);const h=c.parameterPositions,p=c.sampleValues;return h[0]=o,p[0]=e,h[1]=o+t,p[1]=i,this}}const p6=new Float32Array(1);class m6 extends zl{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const i=t._localRoot||this._root,a=t._clip.tracks,o=a.length,c=t._propertyBindings,h=t._interpolants,p=i.uuid,m=this._bindingsByRootAndName;let y=m[p];y===void 0&&(y={},m[p]=y);for(let v=0;v!==o;++v){const b=a[v],M=b.name;let E=y[M];if(E!==void 0)++E.referenceCount,c[v]=E;else{if(E=c[v],E!==void 0){E._cacheIndex===null&&(++E.referenceCount,this._addInactiveBinding(E,p,M));continue}const R=e&&e._propertyBindings[v].binding.parsedPath;E=new hj(Tn.create(i,M,R),b.ValueTypeName,b.getValueSize()),++E.referenceCount,this._addInactiveBinding(E,p,M),c[v]=E}h[v].resultBuffer=E.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(t._cacheIndex===null){const i=(t._localRoot||this._root).uuid,a=t._clip.uuid,o=this._actionsByClip[a];this._bindAction(t,o&&o.knownActions[0]),this._addInactiveAction(t,a,i)}const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.useCount++===0&&(this._lendBinding(o),o.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];--o.useCount===0&&(o.restoreOriginalState(),this._takeBackBinding(o))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return e!==null&&e<this._nActiveActions}_addInactiveAction(t,e,i){const a=this._actions,o=this._actionsByClip;let c=o[e];if(c===void 0)c={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,o[e]=c;else{const h=c.knownActions;t._byClipCacheIndex=h.length,h.push(t)}t._cacheIndex=a.length,a.push(t),c.actionByRoot[i]=t}_removeInactiveAction(t){const e=this._actions,i=e[e.length-1],a=t._cacheIndex;i._cacheIndex=a,e[a]=i,e.pop(),t._cacheIndex=null;const o=t._clip.uuid,c=this._actionsByClip,h=c[o],p=h.knownActions,m=p[p.length-1],y=t._byClipCacheIndex;m._byClipCacheIndex=y,p[y]=m,p.pop(),t._byClipCacheIndex=null;const v=h.actionByRoot,b=(t._localRoot||this._root).uuid;delete v[b],p.length===0&&delete c[o],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let i=0,a=e.length;i!==a;++i){const o=e[i];--o.referenceCount===0&&this._removeInactiveBinding(o)}}_lendAction(t){const e=this._actions,i=t._cacheIndex,a=this._nActiveActions++,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_takeBackAction(t){const e=this._actions,i=t._cacheIndex,a=--this._nActiveActions,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_addInactiveBinding(t,e,i){const a=this._bindingsByRootAndName,o=this._bindings;let c=a[e];c===void 0&&(c={},a[e]=c),c[i]=t,t._cacheIndex=o.length,o.push(t)}_removeInactiveBinding(t){const e=this._bindings,i=t.binding,a=i.rootNode.uuid,o=i.path,c=this._bindingsByRootAndName,h=c[a],p=e[e.length-1],m=t._cacheIndex;p._cacheIndex=m,e[m]=p,e.pop(),delete h[o],Object.keys(h).length===0&&delete c[a]}_lendBinding(t){const e=this._bindings,i=t._cacheIndex,a=this._nActiveBindings++,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_takeBackBinding(t){const e=this._bindings,i=t._cacheIndex,a=--this._nActiveBindings,o=e[a];t._cacheIndex=a,e[a]=t,o._cacheIndex=i,e[i]=o}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return i===void 0&&(i=new DE(new Float32Array(2),new Float32Array(2),1,p6),i.__cacheIndex=e,t[e]=i),i}_takeBackControlInterpolant(t){const e=this._controlInterpolants,i=t.__cacheIndex,a=--this._nActiveControlInterpolants,o=e[a];t.__cacheIndex=a,e[a]=t,o.__cacheIndex=i,e[i]=o}clipAction(t,e,i){const a=e||this._root,o=a.uuid;let c=typeof t=="string"?tx.findByName(a,t):t;const h=c!==null?c.uuid:t,p=this._actionsByClip[h];let m=null;if(i===void 0&&(c!==null?i=c.blendMode:i=x_),p!==void 0){const v=p.actionByRoot[o];if(v!==void 0&&v.blendMode===i)return v;m=p.knownActions[0],c===null&&(c=m._clip)}if(c===null)return null;const y=new fj(this,c,e,i);return this._bindAction(y,m),this._addInactiveAction(y,h,o),y}existingAction(t,e){const i=e||this._root,a=i.uuid,o=typeof t=="string"?tx.findByName(i,t):t,c=o?o.uuid:t,h=this._actionsByClip[c];return h!==void 0&&h.actionByRoot[a]||null}stopAllAction(){const t=this._actions,e=this._nActiveActions;for(let i=e-1;i>=0;--i)t[i].stop();return this}update(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,a=this.time+=t,o=Math.sign(t),c=this._accuIndex^=1;for(let m=0;m!==i;++m)e[m]._update(a,t,o,c);const h=this._bindings,p=this._nActiveBindings;for(let m=0;m!==p;++m)h[m].apply(c);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,i=t.uuid,a=this._actionsByClip,o=a[i];if(o!==void 0){const c=o.knownActions;for(let h=0,p=c.length;h!==p;++h){const m=c[h];this._deactivateAction(m);const y=m._cacheIndex,v=e[e.length-1];m._cacheIndex=null,m._byClipCacheIndex=null,v._cacheIndex=y,e[y]=v,e.pop(),this._removeInactiveBindingsForAction(m)}delete a[i]}}uncacheRoot(t){const e=t.uuid,i=this._actionsByClip;for(const c in i){const h=i[c].actionByRoot,p=h[e];p!==void 0&&(this._deactivateAction(p),this._removeInactiveAction(p))}const a=this._bindingsByRootAndName,o=a[e];if(o!==void 0)for(const c in o){const h=o[c];h.restoreOriginalState(),this._removeInactiveBinding(h)}}uncacheAction(t,e){const i=this.existingAction(t,e);i!==null&&(this._deactivateAction(i),this._removeInactiveAction(i))}}class g6 extends y_{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isRenderTarget3D=!0,this.depth=i,this.texture=new v_(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class x6 extends y_{constructor(t=1,e=1,i=1,a={}){super(t,e,a),this.isRenderTargetArray=!0,this.depth=i,this.texture=new mx(null,t,e,i),this.texture.isRenderTargetTexture=!0}}class BE{constructor(t){this.value=t}clone(){return new BE(this.value.clone===void 0?this.value:this.value.clone())}}let y6=0;class v6 extends zl{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:y6++}),this.name="",this.usage=Xg,this.uniforms=[]}add(t){return this.uniforms.push(t),this}remove(t){const e=this.uniforms.indexOf(t);return e!==-1&&this.uniforms.splice(e,1),this}setName(t){return this.name=t,this}setUsage(t){return this.usage=t,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(t){this.name=t.name,this.usage=t.usage;const e=t.uniforms;this.uniforms.length=0;for(let i=0,a=e.length;i<a;i++){const o=Array.isArray(e[i])?e[i]:[e[i]];for(let c=0;c<o.length;c++)this.uniforms.push(o[c].clone())}return this}clone(){return new this.constructor().copy(this)}}class b6 extends M_{constructor(t,e,i=1){super(t,e),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}class _6{constructor(t,e,i,a,o){this.isGLBufferAttribute=!0,this.name="",this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=a,this.count=o,this.version=0}set needsUpdate(t){t===!0&&this.version++}setBuffer(t){return this.buffer=t,this}setType(t,e){return this.type=t,this.elementSize=e,this}setItemSize(t){return this.itemSize=t,this}setCount(t){return this.count=t,this}}const DC=new Ve;class pj{constructor(t,e,i=0,a=1/0){this.ray=new Vh(t,e),this.near=i,this.far=a,this.camera=null,this.layers=new Jp,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(t,e){this.ray.set(t,e)}setFromCamera(t,e){e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)}setFromXRController(t){return DC.identity().extractRotation(t.matrixWorld),this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(DC),this}intersectObject(t,e=!0,i=[]){return xT(t,this,i,e),i.sort(UC),i}intersectObjects(t,e=!0,i=[]){for(let a=0,o=t.length;a<o;a++)xT(t[a],this,i,e);return i.sort(UC),i}}function UC(n,t){return n.distance-t.distance}function xT(n,t,e,i){let a=!0;if(n.layers.test(t.layers)&&n.raycast(t,e)===!1&&(a=!1),a===!0&&i===!0){const o=n.children;for(let c=0,h=o.length;c<h;c++)xT(o[c],t,e,!0)}}class yT{constructor(t=1,e=0,i=0){this.radius=t,this.phi=e,this.theta=i}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){return this.phi=Ye(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(Ye(e/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class S6{constructor(t=1,e=0,i=0){this.radius=t,this.theta=e,this.y=i}set(t,e,i){return this.radius=t,this.theta=e,this.y=i,this}copy(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+i*i),this.theta=Math.atan2(t,i),this.y=e,this}clone(){return new this.constructor().copy(this)}}class IE{constructor(t,e,i,a){IE.prototype.isMatrix2=!0,this.elements=[1,0,0,1],t!==void 0&&this.set(t,e,i,a)}identity(){return this.set(1,0,0,1),this}fromArray(t,e=0){for(let i=0;i<4;i++)this.elements[i]=t[i+e];return this}set(t,e,i,a){const o=this.elements;return o[0]=t,o[2]=e,o[1]=i,o[3]=a,this}}const jC=new Gt;class M6{constructor(t=new Gt(1/0,1/0),e=new Gt(-1/0,-1/0)){this.isBox2=!0,this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=jC.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return new this.constructor().copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return t.x>=this.min.x&&t.x<=this.max.x&&t.y>=this.min.y&&t.y<=this.max.y}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return t.max.x>=this.min.x&&t.min.x<=this.max.x&&t.max.y>=this.min.y&&t.min.y<=this.max.y}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return this.clampPoint(t,jC).distanceTo(t)}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}const LC=new J,Iv=new J;class T6{constructor(t=new J,e=new J){this.start=t,this.end=e}set(t,e){return this.start.copy(t),this.end.copy(e),this}copy(t){return this.start.copy(t.start),this.end.copy(t.end),this}getCenter(t){return t.addVectors(this.start,this.end).multiplyScalar(.5)}delta(t){return t.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(t,e){return this.delta(e).multiplyScalar(t).add(this.start)}closestPointToPointParameter(t,e){LC.subVectors(t,this.start),Iv.subVectors(this.end,this.start);const i=Iv.dot(Iv);let o=Iv.dot(LC)/i;return e&&(o=Ye(o,0,1)),o}closestPointToPoint(t,e,i){const a=this.closestPointToPointParameter(t,e);return this.delta(i).multiplyScalar(a).add(this.start)}applyMatrix4(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this}equals(t){return t.start.equals(this.start)&&t.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const NC=new J;class E6 extends wn{constructor(t,e){super(),this.light=t,this.matrixAutoUpdate=!1,this.color=e,this.type="SpotLightHelper";const i=new an,a=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let c=0,h=1,p=32;c<p;c++,h++){const m=c/p*Math.PI*2,y=h/p*Math.PI*2;a.push(Math.cos(m),Math.sin(m),1,Math.cos(y),Math.sin(y),1)}i.setAttribute("position",new be(a,3));const o=new Rr({fog:!1,toneMapped:!1});this.cone=new Pl(i,o),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),NC.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NC),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const Du=new J,Fv=new Ve,vM=new Ve;class w6 extends Pl{constructor(t){const e=mj(t),i=new an,a=[],o=[],c=new he(0,0,1),h=new he(0,1,0);for(let m=0;m<e.length;m++){const y=e[m];y.parent&&y.parent.isBone&&(a.push(0,0,0),a.push(0,0,0),o.push(c.r,c.g,c.b),o.push(h.r,h.g,h.b))}i.setAttribute("position",new be(a,3)),i.setAttribute("color",new be(o,3));const p=new Rr({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(i,p),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,a=i.getAttribute("position");vM.copy(this.root.matrixWorld).invert();for(let o=0,c=0;o<e.length;o++){const h=e[o];h.parent&&h.parent.isBone&&(Fv.multiplyMatrices(vM,h.matrixWorld),Du.setFromMatrixPosition(Fv),a.setXYZ(c,Du.x,Du.y,Du.z),Fv.multiplyMatrices(vM,h.parent.matrixWorld),Du.setFromMatrixPosition(Fv),a.setXYZ(c+1,Du.x,Du.y,Du.z),c+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose()}}function mj(n){const t=[];n.isBone===!0&&t.push(n);for(let e=0;e<n.children.length;e++)t.push(...mj(n.children[e]));return t}class A6 extends $i{constructor(t,e,i){const a=new bx(e,4,2),o=new td({wireframe:!0,fog:!1,toneMapped:!1});super(a,o),this.light=t,this.color=i,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const C6=new J,OC=new he,zC=new he;class R6 extends wn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="HemisphereLightHelper";const a=new vx(e);a.rotateY(Math.PI*.5),this.material=new td({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const o=a.getAttribute("position"),c=new Float32Array(o.count*3);a.setAttribute("color",new qn(c,3)),this.add(new $i(a,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const t=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const e=t.geometry.getAttribute("color");OC.copy(this.light.color),zC.copy(this.light.groundColor);for(let i=0,a=e.count;i<a;i++){const o=i<a/2?OC:zC;e.setXYZ(i,o.r,o.g,o.b)}e.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),t.lookAt(C6.setFromMatrixPosition(this.light.matrixWorld).negate())}}class D6 extends Pl{constructor(t=10,e=10,i=4473924,a=8947848){i=new he(i),a=new he(a);const o=e/2,c=t/e,h=t/2,p=[],m=[];for(let b=0,M=0,E=-h;b<=e;b++,E+=c){p.push(-h,0,E,h,0,E),p.push(E,0,-h,E,0,h);const R=b===o?i:a;R.toArray(m,M),M+=3,R.toArray(m,M),M+=3,R.toArray(m,M),M+=3,R.toArray(m,M),M+=3}const y=new an;y.setAttribute("position",new be(p,3)),y.setAttribute("color",new be(m,3));const v=new Rr({vertexColors:!0,toneMapped:!1});super(y,v),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class U6 extends Pl{constructor(t=10,e=16,i=8,a=64,o=4473924,c=8947848){o=new he(o),c=new he(c);const h=[],p=[];if(e>1)for(let v=0;v<e;v++){const b=v/e*(Math.PI*2),M=Math.sin(b)*t,E=Math.cos(b)*t;h.push(0,0,0),h.push(M,0,E);const R=v&1?o:c;p.push(R.r,R.g,R.b),p.push(R.r,R.g,R.b)}for(let v=0;v<i;v++){const b=v&1?o:c,M=t-t/i*v;for(let E=0;E<a;E++){let R=E/a*(Math.PI*2),C=Math.sin(R)*M,T=Math.cos(R)*M;h.push(C,0,T),p.push(b.r,b.g,b.b),R=(E+1)/a*(Math.PI*2),C=Math.sin(R)*M,T=Math.cos(R)*M,h.push(C,0,T),p.push(b.r,b.g,b.b)}}const m=new an;m.setAttribute("position",new be(h,3)),m.setAttribute("color",new be(p,3));const y=new Rr({vertexColors:!0,toneMapped:!1});super(m,y),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const PC=new J,Vv=new J,BC=new J;class j6 extends wn{constructor(t,e,i){super(),this.light=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",e===void 0&&(e=1);let a=new an;a.setAttribute("position",new be([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));const o=new Rr({fog:!1,toneMapped:!1});this.lightPlane=new Ku(a,o),this.add(this.lightPlane),a=new an,a.setAttribute("position",new be([0,0,0,0,0,1],3)),this.targetLine=new Ku(a,o),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),PC.setFromMatrixPosition(this.light.matrixWorld),Vv.setFromMatrixPosition(this.light.target.matrixWorld),BC.subVectors(Vv,PC),this.lightPlane.lookAt(Vv),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Vv),this.targetLine.scale.z=BC.length()}}const Hv=new J,Ui=new b_;class L6 extends Pl{constructor(t){const e=new an,i=new Rr({color:16777215,vertexColors:!0,toneMapped:!1}),a=[],o=[],c={};h("n1","n2"),h("n2","n4"),h("n4","n3"),h("n3","n1"),h("f1","f2"),h("f2","f4"),h("f4","f3"),h("f3","f1"),h("n1","f1"),h("n2","f2"),h("n3","f3"),h("n4","f4"),h("p","n1"),h("p","n2"),h("p","n3"),h("p","n4"),h("u1","u2"),h("u2","u3"),h("u3","u1"),h("c","t"),h("p","c"),h("cn1","cn2"),h("cn3","cn4"),h("cf1","cf2"),h("cf3","cf4");function h(E,R){p(E),p(R)}function p(E){a.push(0,0,0),o.push(0,0,0),c[E]===void 0&&(c[E]=[]),c[E].push(a.length/3-1)}e.setAttribute("position",new be(a,3)),e.setAttribute("color",new be(o,3)),super(e,i),this.type="CameraHelper",this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=c,this.update();const m=new he(16755200),y=new he(16711680),v=new he(43775),b=new he(16777215),M=new he(3355443);this.setColors(m,y,v,b,M)}setColors(t,e,i,a,o){const h=this.geometry.getAttribute("color");h.setXYZ(0,t.r,t.g,t.b),h.setXYZ(1,t.r,t.g,t.b),h.setXYZ(2,t.r,t.g,t.b),h.setXYZ(3,t.r,t.g,t.b),h.setXYZ(4,t.r,t.g,t.b),h.setXYZ(5,t.r,t.g,t.b),h.setXYZ(6,t.r,t.g,t.b),h.setXYZ(7,t.r,t.g,t.b),h.setXYZ(8,t.r,t.g,t.b),h.setXYZ(9,t.r,t.g,t.b),h.setXYZ(10,t.r,t.g,t.b),h.setXYZ(11,t.r,t.g,t.b),h.setXYZ(12,t.r,t.g,t.b),h.setXYZ(13,t.r,t.g,t.b),h.setXYZ(14,t.r,t.g,t.b),h.setXYZ(15,t.r,t.g,t.b),h.setXYZ(16,t.r,t.g,t.b),h.setXYZ(17,t.r,t.g,t.b),h.setXYZ(18,t.r,t.g,t.b),h.setXYZ(19,t.r,t.g,t.b),h.setXYZ(20,t.r,t.g,t.b),h.setXYZ(21,t.r,t.g,t.b),h.setXYZ(22,t.r,t.g,t.b),h.setXYZ(23,t.r,t.g,t.b),h.setXYZ(24,e.r,e.g,e.b),h.setXYZ(25,e.r,e.g,e.b),h.setXYZ(26,e.r,e.g,e.b),h.setXYZ(27,e.r,e.g,e.b),h.setXYZ(28,e.r,e.g,e.b),h.setXYZ(29,e.r,e.g,e.b),h.setXYZ(30,e.r,e.g,e.b),h.setXYZ(31,e.r,e.g,e.b),h.setXYZ(32,i.r,i.g,i.b),h.setXYZ(33,i.r,i.g,i.b),h.setXYZ(34,i.r,i.g,i.b),h.setXYZ(35,i.r,i.g,i.b),h.setXYZ(36,i.r,i.g,i.b),h.setXYZ(37,i.r,i.g,i.b),h.setXYZ(38,a.r,a.g,a.b),h.setXYZ(39,a.r,a.g,a.b),h.setXYZ(40,o.r,o.g,o.b),h.setXYZ(41,o.r,o.g,o.b),h.setXYZ(42,o.r,o.g,o.b),h.setXYZ(43,o.r,o.g,o.b),h.setXYZ(44,o.r,o.g,o.b),h.setXYZ(45,o.r,o.g,o.b),h.setXYZ(46,o.r,o.g,o.b),h.setXYZ(47,o.r,o.g,o.b),h.setXYZ(48,o.r,o.g,o.b),h.setXYZ(49,o.r,o.g,o.b),h.needsUpdate=!0}update(){const t=this.geometry,e=this.pointMap,i=1,a=1;Ui.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const o=this.camera.coordinateSystem===jo?-1:0;Ii("c",e,t,Ui,0,0,o),Ii("t",e,t,Ui,0,0,1),Ii("n1",e,t,Ui,-1,-1,o),Ii("n2",e,t,Ui,i,-1,o),Ii("n3",e,t,Ui,-1,a,o),Ii("n4",e,t,Ui,i,a,o),Ii("f1",e,t,Ui,-1,-1,1),Ii("f2",e,t,Ui,i,-1,1),Ii("f3",e,t,Ui,-1,a,1),Ii("f4",e,t,Ui,i,a,1),Ii("u1",e,t,Ui,i*.7,a*1.1,o),Ii("u2",e,t,Ui,-1*.7,a*1.1,o),Ii("u3",e,t,Ui,0,a*2,o),Ii("cf1",e,t,Ui,-1,0,1),Ii("cf2",e,t,Ui,i,0,1),Ii("cf3",e,t,Ui,0,-1,1),Ii("cf4",e,t,Ui,0,a,1),Ii("cn1",e,t,Ui,-1,0,o),Ii("cn2",e,t,Ui,i,0,o),Ii("cn3",e,t,Ui,0,-1,o),Ii("cn4",e,t,Ui,0,a,o),t.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function Ii(n,t,e,i,a,o,c){Hv.set(a,o,c).unproject(i);const h=t[n];if(h!==void 0){const p=e.getAttribute("position");for(let m=0,y=h.length;m<y;m++)p.setXYZ(h[m],Hv.x,Hv.y,Hv.z)}}const kv=new Cr;class N6 extends Pl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=new Float32Array(8*3),o=new an;o.setIndex(new qn(i,1)),o.setAttribute("position",new qn(a,3)),super(o,new Rr({color:e,toneMapped:!1})),this.object=t,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&kv.setFromObject(this.object),kv.isEmpty())return;const t=kv.min,e=kv.max,i=this.geometry.attributes.position,a=i.array;a[0]=e.x,a[1]=e.y,a[2]=e.z,a[3]=t.x,a[4]=e.y,a[5]=e.z,a[6]=t.x,a[7]=t.y,a[8]=e.z,a[9]=e.x,a[10]=t.y,a[11]=e.z,a[12]=e.x,a[13]=e.y,a[14]=t.z,a[15]=t.x,a[16]=e.y,a[17]=t.z,a[18]=t.x,a[19]=t.y,a[20]=t.z,a[21]=e.x,a[22]=t.y,a[23]=t.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(t){return this.object=t,this.update(),this}copy(t,e){return super.copy(t,e),this.object=t.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class O6 extends Pl{constructor(t,e=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),a=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],o=new an;o.setIndex(new qn(i,1)),o.setAttribute("position",new be(a,3)),super(o,new Rr({color:e,toneMapped:!1})),this.box=t,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(t){const e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(t))}dispose(){this.geometry.dispose(),this.material.dispose()}}class z6 extends Ku{constructor(t,e=1,i=16776960){const a=i,o=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],c=new an;c.setAttribute("position",new be(o,3)),c.computeBoundingSphere(),super(c,new Rr({color:a,toneMapped:!1})),this.type="PlaneHelper",this.plane=t,this.size=e;const h=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],p=new an;p.setAttribute("position",new be(h,3)),p.computeBoundingSphere(),this.add(new $i(p,new td({color:a,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(t){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(t)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const IC=new J;let Gv,bM;class P6 extends wn{constructor(t=new J(0,0,1),e=new J(0,0,0),i=1,a=16776960,o=i*.2,c=o*.2){super(),this.type="ArrowHelper",Gv===void 0&&(Gv=new an,Gv.setAttribute("position",new be([0,0,0,0,1,0],3)),bM=new cm(0,.5,1,5,1),bM.translate(0,-.5,0)),this.position.copy(e),this.line=new Ku(Gv,new Rr({color:a,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new $i(bM,new td({color:a,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(i,o,c)}setDirection(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{IC.set(t.z,0,-t.x).normalize();const e=Math.acos(t.y);this.quaternion.setFromAxisAngle(IC,e)}}setLength(t,e=t*.2,i=e*.2){this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(i,e,i),this.cone.position.y=t,this.cone.updateMatrix()}setColor(t){this.line.material.color.set(t),this.cone.material.color.set(t)}copy(t){return super.copy(t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class B6 extends Pl{constructor(t=1){const e=[0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t],i=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],a=new an;a.setAttribute("position",new be(e,3)),a.setAttribute("color",new be(i,3));const o=new Rr({vertexColors:!0,toneMapped:!1});super(a,o),this.type="AxesHelper"}setColors(t,e,i){const a=new he,o=this.geometry.attributes.color.array;return a.set(t),a.toArray(o,0),a.toArray(o,3),a.set(e),a.toArray(o,6),a.toArray(o,9),a.set(i),a.toArray(o,12),a.toArray(o,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class I6{constructor(){this.type="ShapePath",this.color=new he,this.subPaths=[],this.currentPath=null}moveTo(t,e){return this.currentPath=new Wg,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this}lineTo(t,e){return this.currentPath.lineTo(t,e),this}quadraticCurveTo(t,e,i,a){return this.currentPath.quadraticCurveTo(t,e,i,a),this}bezierCurveTo(t,e,i,a,o,c){return this.currentPath.bezierCurveTo(t,e,i,a,o,c),this}splineThru(t){return this.currentPath.splineThru(t),this}toShapes(t){function e(T){const D=[];for(let j=0,N=T.length;j<N;j++){const B=T[j],P=new Nh;P.curves=B.curves,D.push(P)}return D}function i(T,D){const j=D.length;let N=!1;for(let B=j-1,P=0;P<j;B=P++){let H=D[B],k=D[P],I=k.x-H.x,z=k.y-H.y;if(Math.abs(z)>Number.EPSILON){if(z<0&&(H=D[P],I=-I,k=D[B],z=-z),T.y<H.y||T.y>k.y)continue;if(T.y===H.y){if(T.x===H.x)return!0}else{const K=z*(T.x-H.x)-I*(T.y-H.y);if(K===0)return!0;if(K<0)continue;N=!N}}else{if(T.y!==H.y)continue;if(k.x<=T.x&&T.x<=H.x||H.x<=T.x&&T.x<=k.x)return!0}}return N}const a=Dl.isClockWise,o=this.subPaths;if(o.length===0)return[];let c,h,p;const m=[];if(o.length===1)return h=o[0],p=new Nh,p.curves=h.curves,m.push(p),m;let y=!a(o[0].getPoints());y=t?!y:y;const v=[],b=[];let M=[],E=0,R;b[E]=void 0,M[E]=[];for(let T=0,D=o.length;T<D;T++)h=o[T],R=h.getPoints(),c=a(R),c=t?!c:c,c?(!y&&b[E]&&E++,b[E]={s:new Nh,p:R},b[E].s.curves=h.curves,y&&E++,M[E]=[]):M[E].push({h,p:R[0]});if(!b[0])return e(o);if(b.length>1){let T=!1,D=0;for(let j=0,N=b.length;j<N;j++)v[j]=[];for(let j=0,N=b.length;j<N;j++){const B=M[j];for(let P=0;P<B.length;P++){const H=B[P];let k=!0;for(let I=0;I<b.length;I++)i(H.p,b[I].p)&&(j!==I&&D++,k?(k=!1,v[I].push(H)):T=!0);k&&v[j].push(H)}}D>0&&T===!1&&(M=v)}let C;for(let T=0,D=b.length;T<D;T++){p=b[T].s,m.push(p),C=M[T];for(let j=0,N=C.length;j<N;j++)p.holes.push(C[j].h)}return m}}let F6=class extends zl{constructor(t,e=null){super(),this.object=t,this.domElement=e,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(t){if(t===void 0){console.warn("THREE.Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=t}disconnect(){}dispose(){}update(){}};function V6(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2):(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0),n}function H6(n,t){const e=n.image&&n.image.width?n.image.width/n.image.height:1;return e>t?(n.repeat.x=t/e,n.repeat.y=1,n.offset.x=(1-n.repeat.x)/2,n.offset.y=0):(n.repeat.x=1,n.repeat.y=e/t,n.offset.x=0,n.offset.y=(1-n.repeat.y)/2),n}function k6(n){return n.repeat.x=1,n.repeat.y=1,n.offset.x=0,n.offset.y=0,n}function vT(n,t,e,i){const a=G6(i);switch(e){case aE:return n*t;case sE:return n*t;case oE:return n*t*2;case p_:return n*t/a.components*a.byteLength;case px:return n*t/a.components*a.byteLength;case lE:return n*t*2/a.components*a.byteLength;case m_:return n*t*2/a.components*a.byteLength;case rE:return n*t*3/a.components*a.byteLength;case $a:return n*t*4/a.components*a.byteLength;case g_:return n*t*4/a.components*a.byteLength;case Mg:case Tg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case Eg:case wg:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case mb:case xb:return Math.max(n,16)*Math.max(t,8)/4;case pb:case gb:return Math.max(n,8)*Math.max(t,8)/2;case yb:case vb:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*8;case bb:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case _b:return Math.floor((n+3)/4)*Math.floor((t+3)/4)*16;case Sb:return Math.floor((n+4)/5)*Math.floor((t+3)/4)*16;case Mb:return Math.floor((n+4)/5)*Math.floor((t+4)/5)*16;case Tb:return Math.floor((n+5)/6)*Math.floor((t+4)/5)*16;case Eb:return Math.floor((n+5)/6)*Math.floor((t+5)/6)*16;case wb:return Math.floor((n+7)/8)*Math.floor((t+4)/5)*16;case Ab:return Math.floor((n+7)/8)*Math.floor((t+5)/6)*16;case Cb:return Math.floor((n+7)/8)*Math.floor((t+7)/8)*16;case Rb:return Math.floor((n+9)/10)*Math.floor((t+4)/5)*16;case Db:return Math.floor((n+9)/10)*Math.floor((t+5)/6)*16;case Ub:return Math.floor((n+9)/10)*Math.floor((t+7)/8)*16;case jb:return Math.floor((n+9)/10)*Math.floor((t+9)/10)*16;case Lb:return Math.floor((n+11)/12)*Math.floor((t+9)/10)*16;case Nb:return Math.floor((n+11)/12)*Math.floor((t+11)/12)*16;case Ag:case Ob:case zb:return Math.ceil(n/4)*Math.ceil(t/4)*16;case cE:case Pb:return Math.ceil(n/4)*Math.ceil(t/4)*8;case Bb:case Ib:return Math.ceil(n/4)*Math.ceil(t/4)*16}throw new Error(`Unable to determine texture byte length for ${e} format.`)}function G6(n){switch(n){case No:case eE:return{byteLength:1,components:1};case Yp:case nE:case lm:return{byteLength:2,components:1};case h_:case f_:return{byteLength:2,components:4};case Cc:case d_:case Kr:return{byteLength:4,components:1};case iE:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}class X6{static contain(t,e){return V6(t,e)}static cover(t,e){return H6(t,e)}static fill(t){return k6(t)}static getByteLength(t,e,i,a){return vT(t,e,i,a)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:l_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=l_);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function gj(){let n=null,t=!1,e=null,i=null;function a(o,c){e(o,c),i=n.requestAnimationFrame(a)}return{start:function(){t!==!0&&e!==null&&(i=n.requestAnimationFrame(a),t=!0)},stop:function(){n.cancelAnimationFrame(i),t=!1},setAnimationLoop:function(o){e=o},setContext:function(o){n=o}}}function q6(n){const t=new WeakMap;function e(h,p){const m=h.array,y=h.usage,v=m.byteLength,b=n.createBuffer();n.bindBuffer(p,b),n.bufferData(p,m,y),h.onUploadCallback();let M;if(m instanceof Float32Array)M=n.FLOAT;else if(m instanceof Uint16Array)h.isFloat16BufferAttribute?M=n.HALF_FLOAT:M=n.UNSIGNED_SHORT;else if(m instanceof Int16Array)M=n.SHORT;else if(m instanceof Uint32Array)M=n.UNSIGNED_INT;else if(m instanceof Int32Array)M=n.INT;else if(m instanceof Int8Array)M=n.BYTE;else if(m instanceof Uint8Array)M=n.UNSIGNED_BYTE;else if(m instanceof Uint8ClampedArray)M=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+m);return{buffer:b,type:M,bytesPerElement:m.BYTES_PER_ELEMENT,version:h.version,size:v}}function i(h,p,m){const y=p.array,v=p.updateRanges;if(n.bindBuffer(m,h),v.length===0)n.bufferSubData(m,0,y);else{v.sort((M,E)=>M.start-E.start);let b=0;for(let M=1;M<v.length;M++){const E=v[b],R=v[M];R.start<=E.start+E.count+1?E.count=Math.max(E.count,R.start+R.count-E.start):(++b,v[b]=R)}v.length=b+1;for(let M=0,E=v.length;M<E;M++){const R=v[M];n.bufferSubData(m,R.start*y.BYTES_PER_ELEMENT,y,R.start,R.count)}p.clearUpdateRanges()}p.onUploadCallback()}function a(h){return h.isInterleavedBufferAttribute&&(h=h.data),t.get(h)}function o(h){h.isInterleavedBufferAttribute&&(h=h.data);const p=t.get(h);p&&(n.deleteBuffer(p.buffer),t.delete(h))}function c(h,p){if(h.isInterleavedBufferAttribute&&(h=h.data),h.isGLBufferAttribute){const y=t.get(h);(!y||y.version<h.version)&&t.set(h,{buffer:h.buffer,type:h.type,bytesPerElement:h.elementSize,version:h.version});return}const m=t.get(h);if(m===void 0)t.set(h,e(h,p));else if(m.version<h.version){if(m.size!==h.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(m.buffer,h,p),m.version=h.version}}return{get:a,remove:o,update:c}}var Y6=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,W6=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,Z6=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,K6=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Q6=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,J6=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$6=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,tI=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,eI=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,nI=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,iI=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,aI=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,rI=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,sI=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,oI=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lI=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,cI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uI=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dI=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hI=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,fI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,pI=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,mI=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,gI=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,xI=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yI=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,vI=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,bI=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,_I=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,SI=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,MI="gl_FragColor = linearToOutputTexel( gl_FragColor );",TI=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,EI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,wI=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,AI=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,CI=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,RI=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,DI=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,UI=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jI=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,LI=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,NI=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,OI=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,zI=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,PI=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,BI=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,II=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,FI=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,VI=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,HI=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,kI=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,GI=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,XI=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,qI=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,YI=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,WI=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ZI=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,KI=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,QI=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,JI=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,$I=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,t8=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,e8=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,n8=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,i8=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,a8=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,r8=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,s8=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,o8=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,l8=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,c8=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,u8=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,d8=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,h8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f8=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,p8=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,m8=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,g8=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,x8=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,y8=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,v8=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,b8=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,_8=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,S8=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,M8=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,T8=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,E8=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,w8=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,A8=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,C8=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,R8=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,D8=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,U8=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,j8=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,L8=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,N8=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,O8=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,z8=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,P8=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,B8=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,I8=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,F8=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,V8=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,H8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,k8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,G8=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,X8=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const q8=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Y8=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,W8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z8=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K8=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Q8=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J8=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,$8=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,tF=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,eF=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,nF=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,iF=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,aF=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,rF=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,sF=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,oF=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lF=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,cF=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,uF=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,dF=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hF=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fF=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,pF=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mF=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gF=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xF=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yF=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,vF=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bF=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,_F=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,SF=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,MF=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,TF=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,EF=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,nn={alphahash_fragment:Y6,alphahash_pars_fragment:W6,alphamap_fragment:Z6,alphamap_pars_fragment:K6,alphatest_fragment:Q6,alphatest_pars_fragment:J6,aomap_fragment:$6,aomap_pars_fragment:tI,batching_pars_vertex:eI,batching_vertex:nI,begin_vertex:iI,beginnormal_vertex:aI,bsdfs:rI,iridescence_fragment:sI,bumpmap_pars_fragment:oI,clipping_planes_fragment:lI,clipping_planes_pars_fragment:cI,clipping_planes_pars_vertex:uI,clipping_planes_vertex:dI,color_fragment:hI,color_pars_fragment:fI,color_pars_vertex:pI,color_vertex:mI,common:gI,cube_uv_reflection_fragment:xI,defaultnormal_vertex:yI,displacementmap_pars_vertex:vI,displacementmap_vertex:bI,emissivemap_fragment:_I,emissivemap_pars_fragment:SI,colorspace_fragment:MI,colorspace_pars_fragment:TI,envmap_fragment:EI,envmap_common_pars_fragment:wI,envmap_pars_fragment:AI,envmap_pars_vertex:CI,envmap_physical_pars_fragment:II,envmap_vertex:RI,fog_vertex:DI,fog_pars_vertex:UI,fog_fragment:jI,fog_pars_fragment:LI,gradientmap_pars_fragment:NI,lightmap_pars_fragment:OI,lights_lambert_fragment:zI,lights_lambert_pars_fragment:PI,lights_pars_begin:BI,lights_toon_fragment:FI,lights_toon_pars_fragment:VI,lights_phong_fragment:HI,lights_phong_pars_fragment:kI,lights_physical_fragment:GI,lights_physical_pars_fragment:XI,lights_fragment_begin:qI,lights_fragment_maps:YI,lights_fragment_end:WI,logdepthbuf_fragment:ZI,logdepthbuf_pars_fragment:KI,logdepthbuf_pars_vertex:QI,logdepthbuf_vertex:JI,map_fragment:$I,map_pars_fragment:t8,map_particle_fragment:e8,map_particle_pars_fragment:n8,metalnessmap_fragment:i8,metalnessmap_pars_fragment:a8,morphinstance_vertex:r8,morphcolor_vertex:s8,morphnormal_vertex:o8,morphtarget_pars_vertex:l8,morphtarget_vertex:c8,normal_fragment_begin:u8,normal_fragment_maps:d8,normal_pars_fragment:h8,normal_pars_vertex:f8,normal_vertex:p8,normalmap_pars_fragment:m8,clearcoat_normal_fragment_begin:g8,clearcoat_normal_fragment_maps:x8,clearcoat_pars_fragment:y8,iridescence_pars_fragment:v8,opaque_fragment:b8,packing:_8,premultiplied_alpha_fragment:S8,project_vertex:M8,dithering_fragment:T8,dithering_pars_fragment:E8,roughnessmap_fragment:w8,roughnessmap_pars_fragment:A8,shadowmap_pars_fragment:C8,shadowmap_pars_vertex:R8,shadowmap_vertex:D8,shadowmask_pars_fragment:U8,skinbase_vertex:j8,skinning_pars_vertex:L8,skinning_vertex:N8,skinnormal_vertex:O8,specularmap_fragment:z8,specularmap_pars_fragment:P8,tonemapping_fragment:B8,tonemapping_pars_fragment:I8,transmission_fragment:F8,transmission_pars_fragment:V8,uv_pars_fragment:H8,uv_pars_vertex:k8,uv_vertex:G8,worldpos_vertex:X8,background_vert:q8,background_frag:Y8,backgroundCube_vert:W8,backgroundCube_frag:Z8,cube_vert:K8,cube_frag:Q8,depth_vert:J8,depth_frag:$8,distanceRGBA_vert:tF,distanceRGBA_frag:eF,equirect_vert:nF,equirect_frag:iF,linedashed_vert:aF,linedashed_frag:rF,meshbasic_vert:sF,meshbasic_frag:oF,meshlambert_vert:lF,meshlambert_frag:cF,meshmatcap_vert:uF,meshmatcap_frag:dF,meshnormal_vert:hF,meshnormal_frag:fF,meshphong_vert:pF,meshphong_frag:mF,meshphysical_vert:gF,meshphysical_frag:xF,meshtoon_vert:yF,meshtoon_frag:vF,points_vert:bF,points_frag:_F,shadow_vert:SF,shadow_frag:MF,sprite_vert:TF,sprite_frag:EF},de={common:{diffuse:{value:new he(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Ke}},envmap:{envMap:{value:null},envMapRotation:{value:new Ke},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Ke}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Ke}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Ke},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Ke},normalScale:{value:new Gt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Ke},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Ke}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Ke}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Ke}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new he(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new he(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0},uvTransform:{value:new Ke}},sprite:{diffuse:{value:new he(16777215)},opacity:{value:1},center:{value:new Gt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Ke},alphaMap:{value:null},alphaMapTransform:{value:new Ke},alphaTest:{value:0}}},Uo={basic:{uniforms:Mr([de.common,de.specularmap,de.envmap,de.aomap,de.lightmap,de.fog]),vertexShader:nn.meshbasic_vert,fragmentShader:nn.meshbasic_frag},lambert:{uniforms:Mr([de.common,de.specularmap,de.envmap,de.aomap,de.lightmap,de.emissivemap,de.bumpmap,de.normalmap,de.displacementmap,de.fog,de.lights,{emissive:{value:new he(0)}}]),vertexShader:nn.meshlambert_vert,fragmentShader:nn.meshlambert_frag},phong:{uniforms:Mr([de.common,de.specularmap,de.envmap,de.aomap,de.lightmap,de.emissivemap,de.bumpmap,de.normalmap,de.displacementmap,de.fog,de.lights,{emissive:{value:new he(0)},specular:{value:new he(1118481)},shininess:{value:30}}]),vertexShader:nn.meshphong_vert,fragmentShader:nn.meshphong_frag},standard:{uniforms:Mr([de.common,de.envmap,de.aomap,de.lightmap,de.emissivemap,de.bumpmap,de.normalmap,de.displacementmap,de.roughnessmap,de.metalnessmap,de.fog,de.lights,{emissive:{value:new he(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag},toon:{uniforms:Mr([de.common,de.aomap,de.lightmap,de.emissivemap,de.bumpmap,de.normalmap,de.displacementmap,de.gradientmap,de.fog,de.lights,{emissive:{value:new he(0)}}]),vertexShader:nn.meshtoon_vert,fragmentShader:nn.meshtoon_frag},matcap:{uniforms:Mr([de.common,de.bumpmap,de.normalmap,de.displacementmap,de.fog,{matcap:{value:null}}]),vertexShader:nn.meshmatcap_vert,fragmentShader:nn.meshmatcap_frag},points:{uniforms:Mr([de.points,de.fog]),vertexShader:nn.points_vert,fragmentShader:nn.points_frag},dashed:{uniforms:Mr([de.common,de.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:nn.linedashed_vert,fragmentShader:nn.linedashed_frag},depth:{uniforms:Mr([de.common,de.displacementmap]),vertexShader:nn.depth_vert,fragmentShader:nn.depth_frag},normal:{uniforms:Mr([de.common,de.bumpmap,de.normalmap,de.displacementmap,{opacity:{value:1}}]),vertexShader:nn.meshnormal_vert,fragmentShader:nn.meshnormal_frag},sprite:{uniforms:Mr([de.sprite,de.fog]),vertexShader:nn.sprite_vert,fragmentShader:nn.sprite_frag},background:{uniforms:{uvTransform:{value:new Ke},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:nn.background_vert,fragmentShader:nn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Ke}},vertexShader:nn.backgroundCube_vert,fragmentShader:nn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:nn.cube_vert,fragmentShader:nn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:nn.equirect_vert,fragmentShader:nn.equirect_frag},distanceRGBA:{uniforms:Mr([de.common,de.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:nn.distanceRGBA_vert,fragmentShader:nn.distanceRGBA_frag},shadow:{uniforms:Mr([de.lights,de.fog,{color:{value:new he(0)},opacity:{value:1}}]),vertexShader:nn.shadow_vert,fragmentShader:nn.shadow_frag}};Uo.physical={uniforms:Mr([Uo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Ke},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Ke},clearcoatNormalScale:{value:new Gt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Ke},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Ke},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Ke},sheen:{value:0},sheenColor:{value:new he(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Ke},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Ke},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Ke},transmissionSamplerSize:{value:new Gt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Ke},attenuationDistance:{value:0},attenuationColor:{value:new he(0)},specularColor:{value:new he(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Ke},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Ke},anisotropyVector:{value:new Gt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Ke}}]),vertexShader:nn.meshphysical_vert,fragmentShader:nn.meshphysical_frag};const Xv={r:0,b:0,g:0},oh=new bs,wF=new Ve;function AF(n,t,e,i,a,o,c){const h=new he(0);let p=o===!0?0:1,m,y,v=null,b=0,M=null;function E(j){let N=j.isScene===!0?j.background:null;return N&&N.isTexture&&(N=(j.backgroundBlurriness>0?e:t).get(N)),N}function R(j){let N=!1;const B=E(j);B===null?T(h,p):B&&B.isColor&&(T(B,1),N=!0);const P=n.xr.getEnvironmentBlendMode();P==="additive"?i.buffers.color.setClear(0,0,0,1,c):P==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,c),(n.autoClear||N)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function C(j,N){const B=E(N);B&&(B.isCubeTexture||B.mapping===om)?(y===void 0&&(y=new $i(new Hh(1,1,1),new Oo({name:"BackgroundCubeMaterial",uniforms:$p(Uo.backgroundCube.uniforms),vertexShader:Uo.backgroundCube.vertexShader,fragmentShader:Uo.backgroundCube.fragmentShader,side:Ar,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),y.geometry.deleteAttribute("normal"),y.geometry.deleteAttribute("uv"),y.onBeforeRender=function(P,H,k){this.matrixWorld.copyPosition(k.matrixWorld)},Object.defineProperty(y.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),a.update(y)),oh.copy(N.backgroundRotation),oh.x*=-1,oh.y*=-1,oh.z*=-1,B.isCubeTexture&&B.isRenderTargetTexture===!1&&(oh.y*=-1,oh.z*=-1),y.material.uniforms.envMap.value=B,y.material.uniforms.flipEnvMap.value=B.isCubeTexture&&B.isRenderTargetTexture===!1?-1:1,y.material.uniforms.backgroundBlurriness.value=N.backgroundBlurriness,y.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,y.material.uniforms.backgroundRotation.value.setFromMatrix4(wF.makeRotationFromEuler(oh)),y.material.toneMapped=_n.getTransfer(B.colorSpace)!==Xn,(v!==B||b!==B.version||M!==n.toneMapping)&&(y.material.needsUpdate=!0,v=B,b=B.version,M=n.toneMapping),y.layers.enableAll(),j.unshift(y,y.geometry,y.material,0,0,null)):B&&B.isTexture&&(m===void 0&&(m=new $i(new um(2,2),new Oo({name:"BackgroundMaterial",uniforms:$p(Uo.background.uniforms),vertexShader:Uo.background.vertexShader,fragmentShader:Uo.background.fragmentShader,side:wc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),m.geometry.deleteAttribute("normal"),Object.defineProperty(m.material,"map",{get:function(){return this.uniforms.t2D.value}}),a.update(m)),m.material.uniforms.t2D.value=B,m.material.uniforms.backgroundIntensity.value=N.backgroundIntensity,m.material.toneMapped=_n.getTransfer(B.colorSpace)!==Xn,B.matrixAutoUpdate===!0&&B.updateMatrix(),m.material.uniforms.uvTransform.value.copy(B.matrix),(v!==B||b!==B.version||M!==n.toneMapping)&&(m.material.needsUpdate=!0,v=B,b=B.version,M=n.toneMapping),m.layers.enableAll(),j.unshift(m,m.geometry,m.material,0,0,null))}function T(j,N){j.getRGB(Xv,mU(n)),i.buffers.color.setClear(Xv.r,Xv.g,Xv.b,N,c)}function D(){y!==void 0&&(y.geometry.dispose(),y.material.dispose(),y=void 0),m!==void 0&&(m.geometry.dispose(),m.material.dispose(),m=void 0)}return{getClearColor:function(){return h},setClearColor:function(j,N=1){h.set(j),p=N,T(h,p)},getClearAlpha:function(){return p},setClearAlpha:function(j){p=j,T(h,p)},render:R,addToRenderList:C,dispose:D}}function CF(n,t){const e=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},a=b(null);let o=a,c=!1;function h(z,K,ft,st,xt){let bt=!1;const F=v(st,ft,K);o!==F&&(o=F,m(o.object)),bt=M(z,st,ft,xt),bt&&E(z,st,ft,xt),xt!==null&&t.update(xt,n.ELEMENT_ARRAY_BUFFER),(bt||c)&&(c=!1,N(z,K,ft,st),xt!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(xt).buffer))}function p(){return n.createVertexArray()}function m(z){return n.bindVertexArray(z)}function y(z){return n.deleteVertexArray(z)}function v(z,K,ft){const st=ft.wireframe===!0;let xt=i[z.id];xt===void 0&&(xt={},i[z.id]=xt);let bt=xt[K.id];bt===void 0&&(bt={},xt[K.id]=bt);let F=bt[st];return F===void 0&&(F=b(p()),bt[st]=F),F}function b(z){const K=[],ft=[],st=[];for(let xt=0;xt<e;xt++)K[xt]=0,ft[xt]=0,st[xt]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:K,enabledAttributes:ft,attributeDivisors:st,object:z,attributes:{},index:null}}function M(z,K,ft,st){const xt=o.attributes,bt=K.attributes;let F=0;const Z=ft.getAttributes();for(const Q in Z)if(Z[Q].location>=0){const q=xt[Q];let it=bt[Q];if(it===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(it=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(it=z.instanceColor)),q===void 0||q.attribute!==it||it&&q.data!==it.data)return!0;F++}return o.attributesNum!==F||o.index!==st}function E(z,K,ft,st){const xt={},bt=K.attributes;let F=0;const Z=ft.getAttributes();for(const Q in Z)if(Z[Q].location>=0){let q=bt[Q];q===void 0&&(Q==="instanceMatrix"&&z.instanceMatrix&&(q=z.instanceMatrix),Q==="instanceColor"&&z.instanceColor&&(q=z.instanceColor));const it={};it.attribute=q,q&&q.data&&(it.data=q.data),xt[Q]=it,F++}o.attributes=xt,o.attributesNum=F,o.index=st}function R(){const z=o.newAttributes;for(let K=0,ft=z.length;K<ft;K++)z[K]=0}function C(z){T(z,0)}function T(z,K){const ft=o.newAttributes,st=o.enabledAttributes,xt=o.attributeDivisors;ft[z]=1,st[z]===0&&(n.enableVertexAttribArray(z),st[z]=1),xt[z]!==K&&(n.vertexAttribDivisor(z,K),xt[z]=K)}function D(){const z=o.newAttributes,K=o.enabledAttributes;for(let ft=0,st=K.length;ft<st;ft++)K[ft]!==z[ft]&&(n.disableVertexAttribArray(ft),K[ft]=0)}function j(z,K,ft,st,xt,bt,F){F===!0?n.vertexAttribIPointer(z,K,ft,xt,bt):n.vertexAttribPointer(z,K,ft,st,xt,bt)}function N(z,K,ft,st){R();const xt=st.attributes,bt=ft.getAttributes(),F=K.defaultAttributeValues;for(const Z in bt){const Q=bt[Z];if(Q.location>=0){let ut=xt[Z];if(ut===void 0&&(Z==="instanceMatrix"&&z.instanceMatrix&&(ut=z.instanceMatrix),Z==="instanceColor"&&z.instanceColor&&(ut=z.instanceColor)),ut!==void 0){const q=ut.normalized,it=ut.itemSize,St=t.get(ut);if(St===void 0)continue;const Lt=St.buffer,rt=St.type,Rt=St.bytesPerElement,Pt=rt===n.INT||rt===n.UNSIGNED_INT||ut.gpuType===d_;if(ut.isInterleavedBufferAttribute){const Wt=ut.data,$t=Wt.stride,we=ut.offset;if(Wt.isInstancedInterleavedBuffer){for(let ve=0;ve<Q.locationSize;ve++)T(Q.location+ve,Wt.meshPerAttribute);z.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=Wt.meshPerAttribute*Wt.count)}else for(let ve=0;ve<Q.locationSize;ve++)C(Q.location+ve);n.bindBuffer(n.ARRAY_BUFFER,Lt);for(let ve=0;ve<Q.locationSize;ve++)j(Q.location+ve,it/Q.locationSize,rt,q,$t*Rt,(we+it/Q.locationSize*ve)*Rt,Pt)}else{if(ut.isInstancedBufferAttribute){for(let Wt=0;Wt<Q.locationSize;Wt++)T(Q.location+Wt,ut.meshPerAttribute);z.isInstancedMesh!==!0&&st._maxInstanceCount===void 0&&(st._maxInstanceCount=ut.meshPerAttribute*ut.count)}else for(let Wt=0;Wt<Q.locationSize;Wt++)C(Q.location+Wt);n.bindBuffer(n.ARRAY_BUFFER,Lt);for(let Wt=0;Wt<Q.locationSize;Wt++)j(Q.location+Wt,it/Q.locationSize,rt,q,it*Rt,it/Q.locationSize*Wt*Rt,Pt)}}else if(F!==void 0){const q=F[Z];if(q!==void 0)switch(q.length){case 2:n.vertexAttrib2fv(Q.location,q);break;case 3:n.vertexAttrib3fv(Q.location,q);break;case 4:n.vertexAttrib4fv(Q.location,q);break;default:n.vertexAttrib1fv(Q.location,q)}}}}D()}function B(){k();for(const z in i){const K=i[z];for(const ft in K){const st=K[ft];for(const xt in st)y(st[xt].object),delete st[xt];delete K[ft]}delete i[z]}}function P(z){if(i[z.id]===void 0)return;const K=i[z.id];for(const ft in K){const st=K[ft];for(const xt in st)y(st[xt].object),delete st[xt];delete K[ft]}delete i[z.id]}function H(z){for(const K in i){const ft=i[K];if(ft[z.id]===void 0)continue;const st=ft[z.id];for(const xt in st)y(st[xt].object),delete st[xt];delete ft[z.id]}}function k(){I(),c=!0,o!==a&&(o=a,m(o.object))}function I(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:h,reset:k,resetDefaultState:I,dispose:B,releaseStatesOfGeometry:P,releaseStatesOfProgram:H,initAttributes:R,enableAttribute:C,disableUnusedAttributes:D}}function RF(n,t,e){let i;function a(m){i=m}function o(m,y){n.drawArrays(i,m,y),e.update(y,i,1)}function c(m,y,v){v!==0&&(n.drawArraysInstanced(i,m,y,v),e.update(y,i,v))}function h(m,y,v){if(v===0)return;t.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,m,0,y,0,v);let M=0;for(let E=0;E<v;E++)M+=y[E];e.update(M,i,1)}function p(m,y,v,b){if(v===0)return;const M=t.get("WEBGL_multi_draw");if(M===null)for(let E=0;E<m.length;E++)c(m[E],y[E],b[E]);else{M.multiDrawArraysInstancedWEBGL(i,m,0,y,0,b,0,v);let E=0;for(let R=0;R<v;R++)E+=y[R]*b[R];e.update(E,i,1)}}this.setMode=a,this.render=o,this.renderInstances=c,this.renderMultiDraw=h,this.renderMultiDrawInstances=p}function DF(n,t,e,i){let a;function o(){if(a!==void 0)return a;if(t.has("EXT_texture_filter_anisotropic")===!0){const H=t.get("EXT_texture_filter_anisotropic");a=n.getParameter(H.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else a=0;return a}function c(H){return!(H!==$a&&i.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function h(H){const k=H===lm&&(t.has("EXT_color_buffer_half_float")||t.has("EXT_color_buffer_float"));return!(H!==No&&i.convert(H)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&H!==Kr&&!k)}function p(H){if(H==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";H="mediump"}return H==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let m=e.precision!==void 0?e.precision:"highp";const y=p(m);y!==m&&(console.warn("THREE.WebGLRenderer:",m,"not supported, using",y,"instead."),m=y);const v=e.logarithmicDepthBuffer===!0,b=e.reverseDepthBuffer===!0&&t.has("EXT_clip_control"),M=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),E=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),R=n.getParameter(n.MAX_TEXTURE_SIZE),C=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),T=n.getParameter(n.MAX_VERTEX_ATTRIBS),D=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),j=n.getParameter(n.MAX_VARYING_VECTORS),N=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),B=E>0,P=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:o,getMaxPrecision:p,textureFormatReadable:c,textureTypeReadable:h,precision:m,logarithmicDepthBuffer:v,reverseDepthBuffer:b,maxTextures:M,maxVertexTextures:E,maxTextureSize:R,maxCubemapSize:C,maxAttributes:T,maxVertexUniforms:D,maxVaryings:j,maxFragmentUniforms:N,vertexTextures:B,maxSamples:P}}function UF(n){const t=this;let e=null,i=0,a=!1,o=!1;const c=new bc,h=new Ke,p={value:null,needsUpdate:!1};this.uniform=p,this.numPlanes=0,this.numIntersection=0,this.init=function(v,b){const M=v.length!==0||b||i!==0||a;return a=b,i=v.length,M},this.beginShadows=function(){o=!0,y(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(v,b){e=y(v,b,0)},this.setState=function(v,b,M){const E=v.clippingPlanes,R=v.clipIntersection,C=v.clipShadows,T=n.get(v);if(!a||E===null||E.length===0||o&&!C)o?y(null):m();else{const D=o?0:i,j=D*4;let N=T.clippingState||null;p.value=N,N=y(E,b,j,M);for(let B=0;B!==j;++B)N[B]=e[B];T.clippingState=N,this.numIntersection=R?this.numPlanes:0,this.numPlanes+=D}};function m(){p.value!==e&&(p.value=e,p.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function y(v,b,M,E){const R=v!==null?v.length:0;let C=null;if(R!==0){if(C=p.value,E!==!0||C===null){const T=M+R*4,D=b.matrixWorldInverse;h.getNormalMatrix(D),(C===null||C.length<T)&&(C=new Float32Array(T));for(let j=0,N=M;j!==R;++j,N+=4)c.copy(v[j]).applyMatrix4(D,h),c.normal.toArray(C,N),C[N+3]=c.constant}p.value=C,p.needsUpdate=!0}return t.numPlanes=R,t.numIntersection=0,C}}function jF(n){let t=new WeakMap;function e(c,h){return h===Bg?c.mapping=Ac:h===Ig&&(c.mapping=Wu),c}function i(c){if(c&&c.isTexture){const h=c.mapping;if(h===Bg||h===Ig)if(t.has(c)){const p=t.get(c).texture;return e(p,c.mapping)}else{const p=c.image;if(p&&p.height>0){const m=new yU(p.height);return m.fromEquirectangularTexture(n,c),t.set(c,m),c.addEventListener("dispose",a),e(m.texture,c.mapping)}else return null}}return c}function a(c){const h=c.target;h.removeEventListener("dispose",a);const p=t.get(h);p!==void 0&&(t.delete(h),p.dispose())}function o(){t=new WeakMap}return{get:i,dispose:o}}const Op=4,FC=[.125,.215,.35,.446,.526,.582],Mh=20,_M=new Yu,VC=new he;let SM=null,MM=0,TM=0,EM=!1;const _h=(1+Math.sqrt(5))/2,hp=1/_h,HC=[new J(-_h,hp,0),new J(_h,hp,0),new J(-hp,0,_h),new J(hp,0,_h),new J(0,_h,-hp),new J(0,_h,hp),new J(-1,1,-1),new J(1,1,-1),new J(-1,1,1),new J(1,1,1)],LF=new J;class bT{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,a=100,o={}){const{size:c=256,position:h=LF}=o;SM=this._renderer.getRenderTarget(),MM=this._renderer.getActiveCubeFace(),TM=this._renderer.getActiveMipmapLevel(),EM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(c);const p=this._allocateTargets();return p.depthBuffer=!0,this._sceneToCubeUV(t,i,a,p,h),e>0&&this._blur(p,0,0,e),this._applyPMREM(p),this._cleanup(p),p}fromEquirectangular(t,e=null){return this._fromTexture(t,e)}fromCubemap(t,e=null){return this._fromTexture(t,e)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=XC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=GC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(t){this._lodMax=Math.floor(Math.log2(t)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let t=0;t<this._lodPlanes.length;t++)this._lodPlanes[t].dispose()}_cleanup(t){this._renderer.setRenderTarget(SM,MM,TM),this._renderer.xr.enabled=EM,t.scissorTest=!1,qv(t,0,0,t.width,t.height)}_fromTexture(t,e){t.mapping===Ac||t.mapping===Wu?this._setSize(t.image.length===0?16:t.image[0].width||t.image[0].image.width):this._setSize(t.image.width/4),SM=this._renderer.getRenderTarget(),MM=this._renderer.getActiveCubeFace(),TM=this._renderer.getActiveMipmapLevel(),EM=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=e||this._allocateTargets();return this._textureToCubeUV(t,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const t=3*Math.max(this._cubeSize,112),e=4*this._cubeSize,i={magFilter:ua,minFilter:ua,generateMipmaps:!1,type:lm,format:$a,colorSpace:Zu,depthBuffer:!1},a=kC(t,e,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==t||this._pingPongRenderTarget.height!==e){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=kC(t,e,i);const{_lodMax:o}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=NF(o)),this._blurMaterial=OF(o,t,e)}return a}_compileMaterial(t){const e=new $i(this._lodPlanes[0],t);this._renderer.compile(e,_M)}_sceneToCubeUV(t,e,i,a,o){const p=new Vi(90,1,e,i),m=[1,-1,1,1,1,1],y=[1,1,1,-1,-1,-1],v=this._renderer,b=v.autoClear,M=v.toneMapping;v.getClearColor(VC),v.toneMapping=Cl,v.autoClear=!1;const E=new td({name:"PMREM.Background",side:Ar,depthWrite:!1,depthTest:!1}),R=new $i(new Hh,E);let C=!1;const T=t.background;T?T.isColor&&(E.color.copy(T),t.background=null,C=!0):(E.color.copy(VC),C=!0);for(let D=0;D<6;D++){const j=D%3;j===0?(p.up.set(0,m[D],0),p.position.set(o.x,o.y,o.z),p.lookAt(o.x+y[D],o.y,o.z)):j===1?(p.up.set(0,0,m[D]),p.position.set(o.x,o.y,o.z),p.lookAt(o.x,o.y+y[D],o.z)):(p.up.set(0,m[D],0),p.position.set(o.x,o.y,o.z),p.lookAt(o.x,o.y,o.z+y[D]));const N=this._cubeSize;qv(a,j*N,D>2?N:0,N,N),v.setRenderTarget(a),C&&v.render(R,p),v.render(t,p)}R.geometry.dispose(),R.material.dispose(),v.toneMapping=M,v.autoClear=b,t.background=T}_textureToCubeUV(t,e){const i=this._renderer,a=t.mapping===Ac||t.mapping===Wu;a?(this._cubemapMaterial===null&&(this._cubemapMaterial=XC()),this._cubemapMaterial.uniforms.flipEnvMap.value=t.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=GC());const o=a?this._cubemapMaterial:this._equirectMaterial,c=new $i(this._lodPlanes[0],o),h=o.uniforms;h.envMap.value=t;const p=this._cubeSize;qv(e,0,0,3*p,2*p),i.setRenderTarget(e),i.render(c,_M)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;const a=this._lodPlanes.length;for(let o=1;o<a;o++){const c=Math.sqrt(this._sigmas[o]*this._sigmas[o]-this._sigmas[o-1]*this._sigmas[o-1]),h=HC[(a-o-1)%HC.length];this._blur(t,o-1,o,c,h)}e.autoClear=i}_blur(t,e,i,a,o){const c=this._pingPongRenderTarget;this._halfBlur(t,c,e,i,a,"latitudinal",o),this._halfBlur(c,t,i,i,a,"longitudinal",o)}_halfBlur(t,e,i,a,o,c,h){const p=this._renderer,m=this._blurMaterial;c!=="latitudinal"&&c!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const y=3,v=new $i(this._lodPlanes[a],m),b=m.uniforms,M=this._sizeLods[i]-1,E=isFinite(o)?Math.PI/(2*M):2*Math.PI/(2*Mh-1),R=o/E,C=isFinite(o)?1+Math.floor(y*R):Mh;C>Mh&&console.warn(`sigmaRadians, ${o}, is too large and will clip, as it requested ${C} samples when the maximum is set to ${Mh}`);const T=[];let D=0;for(let H=0;H<Mh;++H){const k=H/R,I=Math.exp(-k*k/2);T.push(I),H===0?D+=I:H<C&&(D+=2*I)}for(let H=0;H<T.length;H++)T[H]=T[H]/D;b.envMap.value=t.texture,b.samples.value=C,b.weights.value=T,b.latitudinal.value=c==="latitudinal",h&&(b.poleAxis.value=h);const{_lodMax:j}=this;b.dTheta.value=E,b.mipInt.value=j-i;const N=this._sizeLods[a],B=3*N*(a>j-Op?a-j+Op:0),P=4*(this._cubeSize-N);qv(e,B,P,3*N,2*N),p.setRenderTarget(e),p.render(v,_M)}}function NF(n){const t=[],e=[],i=[];let a=n;const o=n-Op+1+FC.length;for(let c=0;c<o;c++){const h=Math.pow(2,a);e.push(h);let p=1/h;c>n-Op?p=FC[c-n+Op-1]:c===0&&(p=0),i.push(p);const m=1/(h-2),y=-m,v=1+m,b=[y,y,v,y,v,v,y,y,v,v,y,v],M=6,E=6,R=3,C=2,T=1,D=new Float32Array(R*E*M),j=new Float32Array(C*E*M),N=new Float32Array(T*E*M);for(let P=0;P<M;P++){const H=P%3*2/3-1,k=P>2?0:-1,I=[H,k,0,H+2/3,k,0,H+2/3,k+1,0,H,k,0,H+2/3,k+1,0,H,k+1,0];D.set(I,R*E*P),j.set(b,C*E*P);const z=[P,P,P,P,P,P];N.set(z,T*E*P)}const B=new an;B.setAttribute("position",new qn(D,R)),B.setAttribute("uv",new qn(j,C)),B.setAttribute("faceIndex",new qn(N,T)),t.push(B),a>Op&&a--}return{lodPlanes:t,sizeLods:e,sigmas:i}}function kC(n,t,e){const i=new Ol(n,t,e);return i.texture.mapping=om,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function qv(n,t,e,i,a){n.viewport.set(t,e,i,a),n.scissor.set(t,e,i,a)}function OF(n,t,e){const i=new Float32Array(Mh),a=new J(0,1,0);return new Oo({name:"SphericalGaussianBlur",defines:{n:Mh,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/e,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:a}},vertexShader:FE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Tc,depthTest:!1,depthWrite:!1})}function GC(){return new Oo({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:FE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Tc,depthTest:!1,depthWrite:!1})}function XC(){return new Oo({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:FE(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Tc,depthTest:!1,depthWrite:!1})}function FE(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function zF(n){let t=new WeakMap,e=null;function i(h){if(h&&h.isTexture){const p=h.mapping,m=p===Bg||p===Ig,y=p===Ac||p===Wu;if(m||y){let v=t.get(h);const b=v!==void 0?v.texture.pmremVersion:0;if(h.isRenderTargetTexture&&h.pmremVersion!==b)return e===null&&(e=new bT(n)),v=m?e.fromEquirectangular(h,v):e.fromCubemap(h,v),v.texture.pmremVersion=h.pmremVersion,t.set(h,v),v.texture;if(v!==void 0)return v.texture;{const M=h.image;return m&&M&&M.height>0||y&&M&&a(M)?(e===null&&(e=new bT(n)),v=m?e.fromEquirectangular(h):e.fromCubemap(h),v.texture.pmremVersion=h.pmremVersion,t.set(h,v),h.addEventListener("dispose",o),v.texture):null}}}return h}function a(h){let p=0;const m=6;for(let y=0;y<m;y++)h[y]!==void 0&&p++;return p===m}function o(h){const p=h.target;p.removeEventListener("dispose",o);const m=t.get(p);m!==void 0&&(t.delete(p),m.dispose())}function c(){t=new WeakMap,e!==null&&(e.dispose(),e=null)}return{get:i,dispose:c}}function PF(n){const t={};function e(i){if(t[i]!==void 0)return t[i];let a;switch(i){case"WEBGL_depth_texture":a=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":a=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":a=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":a=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:a=n.getExtension(i)}return t[i]=a,a}return{has:function(i){return e(i)!==null},init:function(){e("EXT_color_buffer_float"),e("WEBGL_clip_cull_distance"),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float"),e("WEBGL_multisampled_render_to_texture"),e("WEBGL_render_shared_exponent")},get:function(i){const a=e(i);return a===null&&q1("THREE.WebGLRenderer: "+i+" extension not supported."),a}}}function BF(n,t,e,i){const a={},o=new WeakMap;function c(v){const b=v.target;b.index!==null&&t.remove(b.index);for(const E in b.attributes)t.remove(b.attributes[E]);b.removeEventListener("dispose",c),delete a[b.id];const M=o.get(b);M&&(t.remove(M),o.delete(b)),i.releaseStatesOfGeometry(b),b.isInstancedBufferGeometry===!0&&delete b._maxInstanceCount,e.memory.geometries--}function h(v,b){return a[b.id]===!0||(b.addEventListener("dispose",c),a[b.id]=!0,e.memory.geometries++),b}function p(v){const b=v.attributes;for(const M in b)t.update(b[M],n.ARRAY_BUFFER)}function m(v){const b=[],M=v.index,E=v.attributes.position;let R=0;if(M!==null){const D=M.array;R=M.version;for(let j=0,N=D.length;j<N;j+=3){const B=D[j+0],P=D[j+1],H=D[j+2];b.push(B,P,P,H,H,B)}}else if(E!==void 0){const D=E.array;R=E.version;for(let j=0,N=D.length/3-1;j<N;j+=3){const B=j+0,P=j+1,H=j+2;b.push(B,P,P,H,H,B)}}else return;const C=new(dU(b)?pE:fE)(b,1);C.version=R;const T=o.get(v);T&&t.remove(T),o.set(v,C)}function y(v){const b=o.get(v);if(b){const M=v.index;M!==null&&b.version<M.version&&m(v)}else m(v);return o.get(v)}return{get:h,update:p,getWireframeAttribute:y}}function IF(n,t,e){let i;function a(b){i=b}let o,c;function h(b){o=b.type,c=b.bytesPerElement}function p(b,M){n.drawElements(i,M,o,b*c),e.update(M,i,1)}function m(b,M,E){E!==0&&(n.drawElementsInstanced(i,M,o,b*c,E),e.update(M,i,E))}function y(b,M,E){if(E===0)return;t.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,M,0,o,b,0,E);let C=0;for(let T=0;T<E;T++)C+=M[T];e.update(C,i,1)}function v(b,M,E,R){if(E===0)return;const C=t.get("WEBGL_multi_draw");if(C===null)for(let T=0;T<b.length;T++)m(b[T]/c,M[T],R[T]);else{C.multiDrawElementsInstancedWEBGL(i,M,0,o,b,0,R,0,E);let T=0;for(let D=0;D<E;D++)T+=M[D]*R[D];e.update(T,i,1)}}this.setMode=a,this.setIndex=h,this.render=p,this.renderInstances=m,this.renderMultiDraw=y,this.renderMultiDrawInstances=v}function FF(n){const t={geometries:0,textures:0},e={frame:0,calls:0,triangles:0,points:0,lines:0};function i(o,c,h){switch(e.calls++,c){case n.TRIANGLES:e.triangles+=h*(o/3);break;case n.LINES:e.lines+=h*(o/2);break;case n.LINE_STRIP:e.lines+=h*(o-1);break;case n.LINE_LOOP:e.lines+=h*o;break;case n.POINTS:e.points+=h*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",c);break}}function a(){e.calls=0,e.triangles=0,e.points=0,e.lines=0}return{memory:t,render:e,programs:null,autoReset:!0,reset:a,update:i}}function VF(n,t,e){const i=new WeakMap,a=new En;function o(c,h,p){const m=c.morphTargetInfluences,y=h.morphAttributes.position||h.morphAttributes.normal||h.morphAttributes.color,v=y!==void 0?y.length:0;let b=i.get(h);if(b===void 0||b.count!==v){let z=function(){k.dispose(),i.delete(h),h.removeEventListener("dispose",z)};var M=z;b!==void 0&&b.texture.dispose();const E=h.morphAttributes.position!==void 0,R=h.morphAttributes.normal!==void 0,C=h.morphAttributes.color!==void 0,T=h.morphAttributes.position||[],D=h.morphAttributes.normal||[],j=h.morphAttributes.color||[];let N=0;E===!0&&(N=1),R===!0&&(N=2),C===!0&&(N=3);let B=h.attributes.position.count*N,P=1;B>t.maxTextureSize&&(P=Math.ceil(B/t.maxTextureSize),B=t.maxTextureSize);const H=new Float32Array(B*P*4*v),k=new mx(H,B,P,v);k.type=Kr,k.needsUpdate=!0;const I=N*4;for(let K=0;K<v;K++){const ft=T[K],st=D[K],xt=j[K],bt=B*P*4*K;for(let F=0;F<ft.count;F++){const Z=F*I;E===!0&&(a.fromBufferAttribute(ft,F),H[bt+Z+0]=a.x,H[bt+Z+1]=a.y,H[bt+Z+2]=a.z,H[bt+Z+3]=0),R===!0&&(a.fromBufferAttribute(st,F),H[bt+Z+4]=a.x,H[bt+Z+5]=a.y,H[bt+Z+6]=a.z,H[bt+Z+7]=0),C===!0&&(a.fromBufferAttribute(xt,F),H[bt+Z+8]=a.x,H[bt+Z+9]=a.y,H[bt+Z+10]=a.z,H[bt+Z+11]=xt.itemSize===4?a.w:1)}}b={count:v,texture:k,size:new Gt(B,P)},i.set(h,b),h.addEventListener("dispose",z)}if(c.isInstancedMesh===!0&&c.morphTexture!==null)p.getUniforms().setValue(n,"morphTexture",c.morphTexture,e);else{let E=0;for(let C=0;C<m.length;C++)E+=m[C];const R=h.morphTargetsRelative?1:1-E;p.getUniforms().setValue(n,"morphTargetBaseInfluence",R),p.getUniforms().setValue(n,"morphTargetInfluences",m)}p.getUniforms().setValue(n,"morphTargetsTexture",b.texture,e),p.getUniforms().setValue(n,"morphTargetsTextureSize",b.size)}return{update:o}}function HF(n,t,e,i){let a=new WeakMap;function o(p){const m=i.render.frame,y=p.geometry,v=t.get(p,y);if(a.get(v)!==m&&(t.update(v),a.set(v,m)),p.isInstancedMesh&&(p.hasEventListener("dispose",h)===!1&&p.addEventListener("dispose",h),a.get(p)!==m&&(e.update(p.instanceMatrix,n.ARRAY_BUFFER),p.instanceColor!==null&&e.update(p.instanceColor,n.ARRAY_BUFFER),a.set(p,m))),p.isSkinnedMesh){const b=p.skeleton;a.get(b)!==m&&(b.update(),a.set(b,m))}return v}function c(){a=new WeakMap}function h(p){const m=p.target;m.removeEventListener("dispose",h),e.remove(m.instanceMatrix),m.instanceColor!==null&&e.remove(m.instanceColor)}return{update:o,dispose:c}}const xj=new Li,qC=new vE(1,1),yj=new mx,vj=new v_,bj=new gx,YC=[],WC=[],ZC=new Float32Array(16),KC=new Float32Array(9),QC=new Float32Array(4);function dm(n,t,e){const i=n[0];if(i<=0||i>0)return n;const a=t*e;let o=YC[a];if(o===void 0&&(o=new Float32Array(a),YC[a]=o),t!==0){i.toArray(o,0);for(let c=1,h=0;c!==t;++c)h+=e,n[c].toArray(o,h)}return o}function da(n,t){if(n.length!==t.length)return!1;for(let e=0,i=n.length;e<i;e++)if(n[e]!==t[e])return!1;return!0}function ha(n,t){for(let e=0,i=t.length;e<i;e++)n[e]=t[e]}function F_(n,t){let e=WC[t];e===void 0&&(e=new Int32Array(t),WC[t]=e);for(let i=0;i!==t;++i)e[i]=n.allocateTextureUnit();return e}function kF(n,t){const e=this.cache;e[0]!==t&&(n.uniform1f(this.addr,t),e[0]=t)}function GF(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(da(e,t))return;n.uniform2fv(this.addr,t),ha(e,t)}}function XF(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(t.r!==void 0)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(n.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(da(e,t))return;n.uniform3fv(this.addr,t),ha(e,t)}}function qF(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(da(e,t))return;n.uniform4fv(this.addr,t),ha(e,t)}}function YF(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(da(e,t))return;n.uniformMatrix2fv(this.addr,!1,t),ha(e,t)}else{if(da(e,i))return;QC.set(i),n.uniformMatrix2fv(this.addr,!1,QC),ha(e,i)}}function WF(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(da(e,t))return;n.uniformMatrix3fv(this.addr,!1,t),ha(e,t)}else{if(da(e,i))return;KC.set(i),n.uniformMatrix3fv(this.addr,!1,KC),ha(e,i)}}function ZF(n,t){const e=this.cache,i=t.elements;if(i===void 0){if(da(e,t))return;n.uniformMatrix4fv(this.addr,!1,t),ha(e,t)}else{if(da(e,i))return;ZC.set(i),n.uniformMatrix4fv(this.addr,!1,ZC),ha(e,i)}}function KF(n,t){const e=this.cache;e[0]!==t&&(n.uniform1i(this.addr,t),e[0]=t)}function QF(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2i(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(da(e,t))return;n.uniform2iv(this.addr,t),ha(e,t)}}function JF(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3i(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(da(e,t))return;n.uniform3iv(this.addr,t),ha(e,t)}}function $F(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4i(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(da(e,t))return;n.uniform4iv(this.addr,t),ha(e,t)}}function tV(n,t){const e=this.cache;e[0]!==t&&(n.uniform1ui(this.addr,t),e[0]=t)}function eV(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y)&&(n.uniform2ui(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(da(e,t))return;n.uniform2uiv(this.addr,t),ha(e,t)}}function nV(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(n.uniform3ui(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else{if(da(e,t))return;n.uniform3uiv(this.addr,t),ha(e,t)}}function iV(n,t){const e=this.cache;if(t.x!==void 0)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(n.uniform4ui(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(da(e,t))return;n.uniform4uiv(this.addr,t),ha(e,t)}}function aV(n,t,e){const i=this.cache,a=e.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a);let o;this.type===n.SAMPLER_2D_SHADOW?(qC.compareFunction=dE,o=qC):o=xj,e.setTexture2D(t||o,a)}function rV(n,t,e){const i=this.cache,a=e.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),e.setTexture3D(t||vj,a)}function sV(n,t,e){const i=this.cache,a=e.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),e.setTextureCube(t||bj,a)}function oV(n,t,e){const i=this.cache,a=e.allocateTextureUnit();i[0]!==a&&(n.uniform1i(this.addr,a),i[0]=a),e.setTexture2DArray(t||yj,a)}function lV(n){switch(n){case 5126:return kF;case 35664:return GF;case 35665:return XF;case 35666:return qF;case 35674:return YF;case 35675:return WF;case 35676:return ZF;case 5124:case 35670:return KF;case 35667:case 35671:return QF;case 35668:case 35672:return JF;case 35669:case 35673:return $F;case 5125:return tV;case 36294:return eV;case 36295:return nV;case 36296:return iV;case 35678:case 36198:case 36298:case 36306:case 35682:return aV;case 35679:case 36299:case 36307:return rV;case 35680:case 36300:case 36308:case 36293:return sV;case 36289:case 36303:case 36311:case 36292:return oV}}function cV(n,t){n.uniform1fv(this.addr,t)}function uV(n,t){const e=dm(t,this.size,2);n.uniform2fv(this.addr,e)}function dV(n,t){const e=dm(t,this.size,3);n.uniform3fv(this.addr,e)}function hV(n,t){const e=dm(t,this.size,4);n.uniform4fv(this.addr,e)}function fV(n,t){const e=dm(t,this.size,4);n.uniformMatrix2fv(this.addr,!1,e)}function pV(n,t){const e=dm(t,this.size,9);n.uniformMatrix3fv(this.addr,!1,e)}function mV(n,t){const e=dm(t,this.size,16);n.uniformMatrix4fv(this.addr,!1,e)}function gV(n,t){n.uniform1iv(this.addr,t)}function xV(n,t){n.uniform2iv(this.addr,t)}function yV(n,t){n.uniform3iv(this.addr,t)}function vV(n,t){n.uniform4iv(this.addr,t)}function bV(n,t){n.uniform1uiv(this.addr,t)}function _V(n,t){n.uniform2uiv(this.addr,t)}function SV(n,t){n.uniform3uiv(this.addr,t)}function MV(n,t){n.uniform4uiv(this.addr,t)}function TV(n,t,e){const i=this.cache,a=t.length,o=F_(e,a);da(i,o)||(n.uniform1iv(this.addr,o),ha(i,o));for(let c=0;c!==a;++c)e.setTexture2D(t[c]||xj,o[c])}function EV(n,t,e){const i=this.cache,a=t.length,o=F_(e,a);da(i,o)||(n.uniform1iv(this.addr,o),ha(i,o));for(let c=0;c!==a;++c)e.setTexture3D(t[c]||vj,o[c])}function wV(n,t,e){const i=this.cache,a=t.length,o=F_(e,a);da(i,o)||(n.uniform1iv(this.addr,o),ha(i,o));for(let c=0;c!==a;++c)e.setTextureCube(t[c]||bj,o[c])}function AV(n,t,e){const i=this.cache,a=t.length,o=F_(e,a);da(i,o)||(n.uniform1iv(this.addr,o),ha(i,o));for(let c=0;c!==a;++c)e.setTexture2DArray(t[c]||yj,o[c])}function CV(n){switch(n){case 5126:return cV;case 35664:return uV;case 35665:return dV;case 35666:return hV;case 35674:return fV;case 35675:return pV;case 35676:return mV;case 5124:case 35670:return gV;case 35667:case 35671:return xV;case 35668:case 35672:return yV;case 35669:case 35673:return vV;case 5125:return bV;case 36294:return _V;case 36295:return SV;case 36296:return MV;case 35678:case 36198:case 36298:case 36306:case 35682:return TV;case 35679:case 36299:case 36307:return EV;case 35680:case 36300:case 36308:case 36293:return wV;case 36289:case 36303:case 36311:case 36292:return AV}}class RV{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.setValue=lV(e.type)}}class DV{constructor(t,e,i){this.id=t,this.addr=i,this.cache=[],this.type=e.type,this.size=e.size,this.setValue=CV(e.type)}}class UV{constructor(t){this.id=t,this.seq=[],this.map={}}setValue(t,e,i){const a=this.seq;for(let o=0,c=a.length;o!==c;++o){const h=a[o];h.setValue(t,e[h.id],i)}}}const wM=/(\w+)(\])?(\[|\.)?/g;function JC(n,t){n.seq.push(t),n.map[t.id]=t}function jV(n,t,e){const i=n.name,a=i.length;for(wM.lastIndex=0;;){const o=wM.exec(i),c=wM.lastIndex;let h=o[1];const p=o[2]==="]",m=o[3];if(p&&(h=h|0),m===void 0||m==="["&&c+2===a){JC(e,m===void 0?new RV(h,n,t):new DV(h,n,t));break}else{let v=e.map[h];v===void 0&&(v=new UV(h),JC(e,v)),e=v}}}class W1{constructor(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let a=0;a<i;++a){const o=t.getActiveUniform(e,a),c=t.getUniformLocation(e,o.name);jV(o,c,this)}}setValue(t,e,i,a){const o=this.map[e];o!==void 0&&o.setValue(t,i,a)}setOptional(t,e,i){const a=e[i];a!==void 0&&this.setValue(t,i,a)}static upload(t,e,i,a){for(let o=0,c=e.length;o!==c;++o){const h=e[o],p=i[h.id];p.needsUpdate!==!1&&h.setValue(t,p.value,a)}}static seqWithValue(t,e){const i=[];for(let a=0,o=t.length;a!==o;++a){const c=t[a];c.id in e&&i.push(c)}return i}}function $C(n,t,e){const i=n.createShader(t);return n.shaderSource(i,e),n.compileShader(i),i}const LV=37297;let NV=0;function OV(n,t){const e=n.split(`
`),i=[],a=Math.max(t-6,0),o=Math.min(t+6,e.length);for(let c=a;c<o;c++){const h=c+1;i.push(`${h===t?">":" "} ${h}: ${e[c]}`)}return i.join(`
`)}const t3=new Ke;function zV(n){_n._getMatrix(t3,_n.workingColorSpace,n);const t=`mat3( ${t3.elements.map(e=>e.toFixed(4))} )`;switch(_n.getTransfer(n)){case Gg:return[t,"LinearTransferOETF"];case Xn:return[t,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[t,"LinearTransferOETF"]}}function e3(n,t,e){const i=n.getShaderParameter(t,n.COMPILE_STATUS),a=n.getShaderInfoLog(t).trim();if(i&&a==="")return"";const o=/ERROR: 0:(\d+)/.exec(a);if(o){const c=parseInt(o[1]);return e.toUpperCase()+`

`+a+`

`+OV(n.getShaderSource(t),c)}else return a}function PV(n,t){const e=zV(t);return[`vec4 ${n}( vec4 value ) {`,`	return ${e[1]}( vec4( value.rgb * ${e[0]}, value.a ) );`,"}"].join(`
`)}function BV(n,t){let e;switch(t){case X4:e="Linear";break;case q4:e="Reinhard";break;case Y4:e="Cineon";break;case $T:e="ACESFilmic";break;case Z4:e="AgX";break;case K4:e="Neutral";break;case W4:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+n+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}const Yv=new J;function IV(){_n.getLuminanceCoefficients(Yv);const n=Yv.x.toFixed(4),t=Yv.y.toFixed(4),e=Yv.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${t}, ${e} );`,"	return dot( weights, rgb );","}"].join(`
`)}function FV(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(xg).join(`
`)}function VV(n){const t=[];for(const e in n){const i=n[e];i!==!1&&t.push("#define "+e+" "+i)}return t.join(`
`)}function HV(n,t){const e={},i=n.getProgramParameter(t,n.ACTIVE_ATTRIBUTES);for(let a=0;a<i;a++){const o=n.getActiveAttrib(t,a),c=o.name;let h=1;o.type===n.FLOAT_MAT2&&(h=2),o.type===n.FLOAT_MAT3&&(h=3),o.type===n.FLOAT_MAT4&&(h=4),e[c]={type:o.type,location:n.getAttribLocation(t,c),locationSize:h}}return e}function xg(n){return n!==""}function n3(n,t){const e=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,e).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function i3(n,t){return n.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const kV=/^[ \t]*#include +<([\w\d./]+)>/gm;function _T(n){return n.replace(kV,XV)}const GV=new Map;function XV(n,t){let e=nn[t];if(e===void 0){const i=GV.get(t);if(i!==void 0)e=nn[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',t,i);else throw new Error("Can not resolve #include <"+t+">")}return _T(e)}const qV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function a3(n){return n.replace(qV,YV)}function YV(n,t,e,i){let a="";for(let o=parseInt(t);o<parseInt(e);o++)a+=i.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return a}function r3(n){let t=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?t+=`
#define HIGH_PRECISION`:n.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function WV(n){let t="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===c_?t="SHADOWMAP_TYPE_PCF":n.shadowMapType===_g?t="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Do&&(t="SHADOWMAP_TYPE_VSM"),t}function ZV(n){let t="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Ac:case Wu:t="ENVMAP_TYPE_CUBE";break;case om:t="ENVMAP_TYPE_CUBE_UV";break}return t}function KV(n){let t="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case Wu:t="ENVMAP_MODE_REFRACTION";break}return t}function QV(n){let t="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case fx:t="ENVMAP_BLENDING_MULTIPLY";break;case k4:t="ENVMAP_BLENDING_MIX";break;case G4:t="ENVMAP_BLENDING_ADD";break}return t}function JV(n){const t=n.envMapCubeUVHeight;if(t===null)return null;const e=Math.log2(t)-2,i=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,e),7*16)),texelHeight:i,maxMip:e}}function $V(n,t,e,i){const a=n.getContext(),o=e.defines;let c=e.vertexShader,h=e.fragmentShader;const p=WV(e),m=ZV(e),y=KV(e),v=QV(e),b=JV(e),M=FV(e),E=VV(o),R=a.createProgram();let C,T,D=e.glslVersion?"#version "+e.glslVersion+`
`:"";e.isRawShaderMaterial?(C=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,E].filter(xg).join(`
`),C.length>0&&(C+=`
`),T=["#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,E].filter(xg).join(`
`),T.length>0&&(T+=`
`)):(C=[r3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,E,e.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",e.batching?"#define USE_BATCHING":"",e.batchingColor?"#define USE_BATCHING_COLOR":"",e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.instancingMorph?"#define USE_INSTANCING_MORPH":"",e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+y:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.displacementMap?"#define USE_DISPLACEMENTMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.mapUv?"#define MAP_UV "+e.mapUv:"",e.alphaMapUv?"#define ALPHAMAP_UV "+e.alphaMapUv:"",e.lightMapUv?"#define LIGHTMAP_UV "+e.lightMapUv:"",e.aoMapUv?"#define AOMAP_UV "+e.aoMapUv:"",e.emissiveMapUv?"#define EMISSIVEMAP_UV "+e.emissiveMapUv:"",e.bumpMapUv?"#define BUMPMAP_UV "+e.bumpMapUv:"",e.normalMapUv?"#define NORMALMAP_UV "+e.normalMapUv:"",e.displacementMapUv?"#define DISPLACEMENTMAP_UV "+e.displacementMapUv:"",e.metalnessMapUv?"#define METALNESSMAP_UV "+e.metalnessMapUv:"",e.roughnessMapUv?"#define ROUGHNESSMAP_UV "+e.roughnessMapUv:"",e.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+e.anisotropyMapUv:"",e.clearcoatMapUv?"#define CLEARCOATMAP_UV "+e.clearcoatMapUv:"",e.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+e.clearcoatNormalMapUv:"",e.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+e.clearcoatRoughnessMapUv:"",e.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+e.iridescenceMapUv:"",e.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+e.iridescenceThicknessMapUv:"",e.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+e.sheenColorMapUv:"",e.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+e.sheenRoughnessMapUv:"",e.specularMapUv?"#define SPECULARMAP_UV "+e.specularMapUv:"",e.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+e.specularColorMapUv:"",e.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+e.specularIntensityMapUv:"",e.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+e.transmissionMapUv:"",e.thicknessMapUv?"#define THICKNESSMAP_UV "+e.thicknessMapUv:"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&e.flatShading===!1?"#define USE_MORPHNORMALS":"",e.morphColors?"#define USE_MORPHCOLORS":"",e.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+e.morphTextureStride:"",e.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+e.morphTargetsCount:"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+p:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xg).join(`
`),T=[r3(e),"#define SHADER_TYPE "+e.shaderType,"#define SHADER_NAME "+e.shaderName,E,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+m:"",e.envMap?"#define "+y:"",e.envMap?"#define "+v:"",b?"#define CUBEUV_TEXEL_WIDTH "+b.texelWidth:"",b?"#define CUBEUV_TEXEL_HEIGHT "+b.texelHeight:"",b?"#define CUBEUV_MAX_MIP "+b.maxMip+".0":"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",e.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.anisotropy?"#define USE_ANISOTROPY":"",e.anisotropyMap?"#define USE_ANISOTROPYMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.dispersion?"#define USE_DISPERSION":"",e.iridescence?"#define USE_IRIDESCENCE":"",e.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",e.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",e.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.alphaHash?"#define USE_ALPHAHASH":"",e.sheen?"#define USE_SHEEN":"",e.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",e.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents&&e.flatShading===!1?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor||e.batchingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUv1s?"#define USE_UV1":"",e.vertexUv2s?"#define USE_UV2":"",e.vertexUv3s?"#define USE_UV3":"",e.pointsUvs?"#define USE_POINTS_UV":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+p:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.numLightProbes>0?"#define USE_LIGHT_PROBES":"",e.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",e.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",e.toneMapping!==Cl?"#define TONE_MAPPING":"",e.toneMapping!==Cl?nn.tonemapping_pars_fragment:"",e.toneMapping!==Cl?BV("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.opaque?"#define OPAQUE":"",nn.colorspace_pars_fragment,PV("linearToOutputTexel",e.outputColorSpace),IV(),e.useDepthPacking?"#define DEPTH_PACKING "+e.depthPacking:"",`
`].filter(xg).join(`
`)),c=_T(c),c=n3(c,e),c=i3(c,e),h=_T(h),h=n3(h,e),h=i3(h,e),c=a3(c),h=a3(h),e.isRawShaderMaterial!==!0&&(D=`#version 300 es
`,C=[M,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+C,T=["#define varying in",e.glslVersion===dT?"":"layout(location = 0) out highp vec4 pc_fragColor;",e.glslVersion===dT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+T);const j=D+C+c,N=D+T+h,B=$C(a,a.VERTEX_SHADER,j),P=$C(a,a.FRAGMENT_SHADER,N);a.attachShader(R,B),a.attachShader(R,P),e.index0AttributeName!==void 0?a.bindAttribLocation(R,0,e.index0AttributeName):e.morphTargets===!0&&a.bindAttribLocation(R,0,"position"),a.linkProgram(R);function H(K){if(n.debug.checkShaderErrors){const ft=a.getProgramInfoLog(R).trim(),st=a.getShaderInfoLog(B).trim(),xt=a.getShaderInfoLog(P).trim();let bt=!0,F=!0;if(a.getProgramParameter(R,a.LINK_STATUS)===!1)if(bt=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(a,R,B,P);else{const Z=e3(a,B,"vertex"),Q=e3(a,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+a.getError()+" - VALIDATE_STATUS "+a.getProgramParameter(R,a.VALIDATE_STATUS)+`

Material Name: `+K.name+`
Material Type: `+K.type+`

Program Info Log: `+ft+`
`+Z+`
`+Q)}else ft!==""?console.warn("THREE.WebGLProgram: Program Info Log:",ft):(st===""||xt==="")&&(F=!1);F&&(K.diagnostics={runnable:bt,programLog:ft,vertexShader:{log:st,prefix:C},fragmentShader:{log:xt,prefix:T}})}a.deleteShader(B),a.deleteShader(P),k=new W1(a,R),I=HV(a,R)}let k;this.getUniforms=function(){return k===void 0&&H(this),k};let I;this.getAttributes=function(){return I===void 0&&H(this),I};let z=e.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return z===!1&&(z=a.getProgramParameter(R,LV)),z},this.destroy=function(){i.releaseStatesOfProgram(this),a.deleteProgram(R),this.program=void 0},this.type=e.shaderType,this.name=e.shaderName,this.id=NV++,this.cacheKey=t,this.usedTimes=1,this.program=R,this.vertexShader=B,this.fragmentShader=P,this}let tH=0;class eH{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(t){const e=t.vertexShader,i=t.fragmentShader,a=this._getShaderStage(e),o=this._getShaderStage(i),c=this._getShaderCacheForMaterial(t);return c.has(a)===!1&&(c.add(a),a.usedTimes++),c.has(o)===!1&&(c.add(o),o.usedTimes++),this}remove(t){const e=this.materialCache.get(t);for(const i of e)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(t),this}getVertexShaderID(t){return this._getShaderStage(t.vertexShader).id}getFragmentShaderID(t){return this._getShaderStage(t.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(t){const e=this.materialCache;let i=e.get(t);return i===void 0&&(i=new Set,e.set(t,i)),i}_getShaderStage(t){const e=this.shaderCache;let i=e.get(t);return i===void 0&&(i=new nH(t),e.set(t,i)),i}}class nH{constructor(t){this.id=tH++,this.code=t,this.usedTimes=0}}function iH(n,t,e,i,a,o,c){const h=new Jp,p=new eH,m=new Set,y=[],v=a.logarithmicDepthBuffer,b=a.vertexTextures;let M=a.precision;const E={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function R(I){return m.add(I),I===0?"uv":`uv${I}`}function C(I,z,K,ft,st){const xt=ft.fog,bt=st.geometry,F=I.isMeshStandardMaterial?ft.environment:null,Z=(I.isMeshStandardMaterial?e:t).get(I.envMap||F),Q=Z&&Z.mapping===om?Z.image.height:null,ut=E[I.type];I.precision!==null&&(M=a.getMaxPrecision(I.precision),M!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",M,"instead."));const q=bt.morphAttributes.position||bt.morphAttributes.normal||bt.morphAttributes.color,it=q!==void 0?q.length:0;let St=0;bt.morphAttributes.position!==void 0&&(St=1),bt.morphAttributes.normal!==void 0&&(St=2),bt.morphAttributes.color!==void 0&&(St=3);let Lt,rt,Rt,Pt;if(ut){const We=Uo[ut];Lt=We.vertexShader,rt=We.fragmentShader}else Lt=I.vertexShader,rt=I.fragmentShader,p.update(I),Rt=p.getVertexShaderID(I),Pt=p.getFragmentShaderID(I);const Wt=n.getRenderTarget(),$t=n.state.buffers.depth.getReversed(),we=st.isInstancedMesh===!0,ve=st.isBatchedMesh===!0,Pe=!!I.map,Ne=!!I.matcap,Be=!!Z,et=!!I.aoMap,Ln=!!I.lightMap,kt=!!I.bumpMap,zt=!!I.normalMap,Bt=!!I.displacementMap,ee=!!I.emissiveMap,Nt=!!I.metalnessMap,W=!!I.roughnessMap,V=I.anisotropy>0,dt=I.clearcoat>0,Ut=I.dispersion>0,It=I.iridescence>0,jt=I.sheen>0,ae=I.transmission>0,Kt=V&&!!I.anisotropyMap,ne=dt&&!!I.clearcoatMap,Qe=dt&&!!I.clearcoatNormalMap,Zt=dt&&!!I.clearcoatRoughnessMap,fe=It&&!!I.iridescenceMap,ge=It&&!!I.iridescenceThicknessMap,xe=jt&&!!I.sheenColorMap,ie=jt&&!!I.sheenRoughnessMap,at=!!I.specularMap,Ot=!!I.specularColorMap,se=!!I.specularIntensityMap,nt=ae&&!!I.transmissionMap,Qt=ae&&!!I.thicknessMap,Dt=!!I.gradientMap,Ft=!!I.alphaMap,ce=I.alphaTest>0,oe=!!I.alphaHash,Me=!!I.extensions;let tn=Cl;I.toneMapped&&(Wt===null||Wt.isXRRenderTarget===!0)&&(tn=n.toneMapping);const An={shaderID:ut,shaderType:I.type,shaderName:I.name,vertexShader:Lt,fragmentShader:rt,defines:I.defines,customVertexShaderID:Rt,customFragmentShaderID:Pt,isRawShaderMaterial:I.isRawShaderMaterial===!0,glslVersion:I.glslVersion,precision:M,batching:ve,batchingColor:ve&&st._colorsTexture!==null,instancing:we,instancingColor:we&&st.instanceColor!==null,instancingMorph:we&&st.morphTexture!==null,supportsVertexTextures:b,outputColorSpace:Wt===null?n.outputColorSpace:Wt.isXRRenderTarget===!0?Wt.texture.colorSpace:Zu,alphaToCoverage:!!I.alphaToCoverage,map:Pe,matcap:Ne,envMap:Be,envMapMode:Be&&Z.mapping,envMapCubeUVHeight:Q,aoMap:et,lightMap:Ln,bumpMap:kt,normalMap:zt,displacementMap:b&&Bt,emissiveMap:ee,normalMapObjectSpace:zt&&I.normalMapType===iU,normalMapTangentSpace:zt&&I.normalMapType===$u,metalnessMap:Nt,roughnessMap:W,anisotropy:V,anisotropyMap:Kt,clearcoat:dt,clearcoatMap:ne,clearcoatNormalMap:Qe,clearcoatRoughnessMap:Zt,dispersion:Ut,iridescence:It,iridescenceMap:fe,iridescenceThicknessMap:ge,sheen:jt,sheenColorMap:xe,sheenRoughnessMap:ie,specularMap:at,specularColorMap:Ot,specularIntensityMap:se,transmission:ae,transmissionMap:nt,thicknessMap:Qt,gradientMap:Dt,opaque:I.transparent===!1&&I.blending===Uh&&I.alphaToCoverage===!1,alphaMap:Ft,alphaTest:ce,alphaHash:oe,combine:I.combine,mapUv:Pe&&R(I.map.channel),aoMapUv:et&&R(I.aoMap.channel),lightMapUv:Ln&&R(I.lightMap.channel),bumpMapUv:kt&&R(I.bumpMap.channel),normalMapUv:zt&&R(I.normalMap.channel),displacementMapUv:Bt&&R(I.displacementMap.channel),emissiveMapUv:ee&&R(I.emissiveMap.channel),metalnessMapUv:Nt&&R(I.metalnessMap.channel),roughnessMapUv:W&&R(I.roughnessMap.channel),anisotropyMapUv:Kt&&R(I.anisotropyMap.channel),clearcoatMapUv:ne&&R(I.clearcoatMap.channel),clearcoatNormalMapUv:Qe&&R(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Zt&&R(I.clearcoatRoughnessMap.channel),iridescenceMapUv:fe&&R(I.iridescenceMap.channel),iridescenceThicknessMapUv:ge&&R(I.iridescenceThicknessMap.channel),sheenColorMapUv:xe&&R(I.sheenColorMap.channel),sheenRoughnessMapUv:ie&&R(I.sheenRoughnessMap.channel),specularMapUv:at&&R(I.specularMap.channel),specularColorMapUv:Ot&&R(I.specularColorMap.channel),specularIntensityMapUv:se&&R(I.specularIntensityMap.channel),transmissionMapUv:nt&&R(I.transmissionMap.channel),thicknessMapUv:Qt&&R(I.thicknessMap.channel),alphaMapUv:Ft&&R(I.alphaMap.channel),vertexTangents:!!bt.attributes.tangent&&(zt||V),vertexColors:I.vertexColors,vertexAlphas:I.vertexColors===!0&&!!bt.attributes.color&&bt.attributes.color.itemSize===4,pointsUvs:st.isPoints===!0&&!!bt.attributes.uv&&(Pe||Ft),fog:!!xt,useFog:I.fog===!0,fogExp2:!!xt&&xt.isFogExp2,flatShading:I.flatShading===!0,sizeAttenuation:I.sizeAttenuation===!0,logarithmicDepthBuffer:v,reverseDepthBuffer:$t,skinning:st.isSkinnedMesh===!0,morphTargets:bt.morphAttributes.position!==void 0,morphNormals:bt.morphAttributes.normal!==void 0,morphColors:bt.morphAttributes.color!==void 0,morphTargetsCount:it,morphTextureStride:St,numDirLights:z.directional.length,numPointLights:z.point.length,numSpotLights:z.spot.length,numSpotLightMaps:z.spotLightMap.length,numRectAreaLights:z.rectArea.length,numHemiLights:z.hemi.length,numDirLightShadows:z.directionalShadowMap.length,numPointLightShadows:z.pointShadowMap.length,numSpotLightShadows:z.spotShadowMap.length,numSpotLightShadowsWithMaps:z.numSpotLightShadowsWithMaps,numLightProbes:z.numLightProbes,numClippingPlanes:c.numPlanes,numClipIntersection:c.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&K.length>0,shadowMapType:n.shadowMap.type,toneMapping:tn,decodeVideoTexture:Pe&&I.map.isVideoTexture===!0&&_n.getTransfer(I.map.colorSpace)===Xn,decodeVideoTextureEmissive:ee&&I.emissiveMap.isVideoTexture===!0&&_n.getTransfer(I.emissiveMap.colorSpace)===Xn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:I.side===wl,flipSided:I.side===Ar,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionClipCullDistance:Me&&I.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(Me&&I.extensions.multiDraw===!0||ve)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()};return An.vertexUv1s=m.has(1),An.vertexUv2s=m.has(2),An.vertexUv3s=m.has(3),m.clear(),An}function T(I){const z=[];if(I.shaderID?z.push(I.shaderID):(z.push(I.customVertexShaderID),z.push(I.customFragmentShaderID)),I.defines!==void 0)for(const K in I.defines)z.push(K),z.push(I.defines[K]);return I.isRawShaderMaterial===!1&&(D(z,I),j(z,I),z.push(n.outputColorSpace)),z.push(I.customProgramCacheKey),z.join()}function D(I,z){I.push(z.precision),I.push(z.outputColorSpace),I.push(z.envMapMode),I.push(z.envMapCubeUVHeight),I.push(z.mapUv),I.push(z.alphaMapUv),I.push(z.lightMapUv),I.push(z.aoMapUv),I.push(z.bumpMapUv),I.push(z.normalMapUv),I.push(z.displacementMapUv),I.push(z.emissiveMapUv),I.push(z.metalnessMapUv),I.push(z.roughnessMapUv),I.push(z.anisotropyMapUv),I.push(z.clearcoatMapUv),I.push(z.clearcoatNormalMapUv),I.push(z.clearcoatRoughnessMapUv),I.push(z.iridescenceMapUv),I.push(z.iridescenceThicknessMapUv),I.push(z.sheenColorMapUv),I.push(z.sheenRoughnessMapUv),I.push(z.specularMapUv),I.push(z.specularColorMapUv),I.push(z.specularIntensityMapUv),I.push(z.transmissionMapUv),I.push(z.thicknessMapUv),I.push(z.combine),I.push(z.fogExp2),I.push(z.sizeAttenuation),I.push(z.morphTargetsCount),I.push(z.morphAttributeCount),I.push(z.numDirLights),I.push(z.numPointLights),I.push(z.numSpotLights),I.push(z.numSpotLightMaps),I.push(z.numHemiLights),I.push(z.numRectAreaLights),I.push(z.numDirLightShadows),I.push(z.numPointLightShadows),I.push(z.numSpotLightShadows),I.push(z.numSpotLightShadowsWithMaps),I.push(z.numLightProbes),I.push(z.shadowMapType),I.push(z.toneMapping),I.push(z.numClippingPlanes),I.push(z.numClipIntersection),I.push(z.depthPacking)}function j(I,z){h.disableAll(),z.supportsVertexTextures&&h.enable(0),z.instancing&&h.enable(1),z.instancingColor&&h.enable(2),z.instancingMorph&&h.enable(3),z.matcap&&h.enable(4),z.envMap&&h.enable(5),z.normalMapObjectSpace&&h.enable(6),z.normalMapTangentSpace&&h.enable(7),z.clearcoat&&h.enable(8),z.iridescence&&h.enable(9),z.alphaTest&&h.enable(10),z.vertexColors&&h.enable(11),z.vertexAlphas&&h.enable(12),z.vertexUv1s&&h.enable(13),z.vertexUv2s&&h.enable(14),z.vertexUv3s&&h.enable(15),z.vertexTangents&&h.enable(16),z.anisotropy&&h.enable(17),z.alphaHash&&h.enable(18),z.batching&&h.enable(19),z.dispersion&&h.enable(20),z.batchingColor&&h.enable(21),I.push(h.mask),h.disableAll(),z.fog&&h.enable(0),z.useFog&&h.enable(1),z.flatShading&&h.enable(2),z.logarithmicDepthBuffer&&h.enable(3),z.reverseDepthBuffer&&h.enable(4),z.skinning&&h.enable(5),z.morphTargets&&h.enable(6),z.morphNormals&&h.enable(7),z.morphColors&&h.enable(8),z.premultipliedAlpha&&h.enable(9),z.shadowMapEnabled&&h.enable(10),z.doubleSided&&h.enable(11),z.flipSided&&h.enable(12),z.useDepthPacking&&h.enable(13),z.dithering&&h.enable(14),z.transmission&&h.enable(15),z.sheen&&h.enable(16),z.opaque&&h.enable(17),z.pointsUvs&&h.enable(18),z.decodeVideoTexture&&h.enable(19),z.decodeVideoTextureEmissive&&h.enable(20),z.alphaToCoverage&&h.enable(21),I.push(h.mask)}function N(I){const z=E[I.type];let K;if(z){const ft=Uo[z];K=gU.clone(ft.uniforms)}else K=I.uniforms;return K}function B(I,z){let K;for(let ft=0,st=y.length;ft<st;ft++){const xt=y[ft];if(xt.cacheKey===z){K=xt,++K.usedTimes;break}}return K===void 0&&(K=new $V(n,z,I,o),y.push(K)),K}function P(I){if(--I.usedTimes===0){const z=y.indexOf(I);y[z]=y[y.length-1],y.pop(),I.destroy()}}function H(I){p.remove(I)}function k(){p.dispose()}return{getParameters:C,getProgramCacheKey:T,getUniforms:N,acquireProgram:B,releaseProgram:P,releaseShaderCache:H,programs:y,dispose:k}}function aH(){let n=new WeakMap;function t(c){return n.has(c)}function e(c){let h=n.get(c);return h===void 0&&(h={},n.set(c,h)),h}function i(c){n.delete(c)}function a(c,h,p){n.get(c)[h]=p}function o(){n=new WeakMap}return{has:t,get:e,remove:i,update:a,dispose:o}}function rH(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.material.id!==t.material.id?n.material.id-t.material.id:n.z!==t.z?n.z-t.z:n.id-t.id}function s3(n,t){return n.groupOrder!==t.groupOrder?n.groupOrder-t.groupOrder:n.renderOrder!==t.renderOrder?n.renderOrder-t.renderOrder:n.z!==t.z?t.z-n.z:n.id-t.id}function o3(){const n=[];let t=0;const e=[],i=[],a=[];function o(){t=0,e.length=0,i.length=0,a.length=0}function c(v,b,M,E,R,C){let T=n[t];return T===void 0?(T={id:v.id,object:v,geometry:b,material:M,groupOrder:E,renderOrder:v.renderOrder,z:R,group:C},n[t]=T):(T.id=v.id,T.object=v,T.geometry=b,T.material=M,T.groupOrder=E,T.renderOrder=v.renderOrder,T.z=R,T.group=C),t++,T}function h(v,b,M,E,R,C){const T=c(v,b,M,E,R,C);M.transmission>0?i.push(T):M.transparent===!0?a.push(T):e.push(T)}function p(v,b,M,E,R,C){const T=c(v,b,M,E,R,C);M.transmission>0?i.unshift(T):M.transparent===!0?a.unshift(T):e.unshift(T)}function m(v,b){e.length>1&&e.sort(v||rH),i.length>1&&i.sort(b||s3),a.length>1&&a.sort(b||s3)}function y(){for(let v=t,b=n.length;v<b;v++){const M=n[v];if(M.id===null)break;M.id=null,M.object=null,M.geometry=null,M.material=null,M.group=null}}return{opaque:e,transmissive:i,transparent:a,init:o,push:h,unshift:p,finish:y,sort:m}}function sH(){let n=new WeakMap;function t(i,a){const o=n.get(i);let c;return o===void 0?(c=new o3,n.set(i,[c])):a>=o.length?(c=new o3,o.push(c)):c=o[a],c}function e(){n=new WeakMap}return{get:t,dispose:e}}function oH(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new J,color:new he};break;case"SpotLight":e={position:new J,direction:new J,color:new he,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new J,color:new he,distance:0,decay:0};break;case"HemisphereLight":e={direction:new J,skyColor:new he,groundColor:new he};break;case"RectAreaLight":e={color:new he,position:new J,halfWidth:new J,halfHeight:new J};break}return n[t.id]=e,e}}}function lH(){const n={};return{get:function(t){if(n[t.id]!==void 0)return n[t.id];let e;switch(t.type){case"DirectionalLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gt};break;case"SpotLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gt};break;case"PointLight":e={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Gt,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[t.id]=e,e}}}let cH=0;function uH(n,t){return(t.castShadow?2:0)-(n.castShadow?2:0)+(t.map?1:0)-(n.map?1:0)}function dH(n){const t=new oH,e=lH(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let m=0;m<9;m++)i.probe.push(new J);const a=new J,o=new Ve,c=new Ve;function h(m){let y=0,v=0,b=0;for(let I=0;I<9;I++)i.probe[I].set(0,0,0);let M=0,E=0,R=0,C=0,T=0,D=0,j=0,N=0,B=0,P=0,H=0;m.sort(uH);for(let I=0,z=m.length;I<z;I++){const K=m[I],ft=K.color,st=K.intensity,xt=K.distance,bt=K.shadow&&K.shadow.map?K.shadow.map.texture:null;if(K.isAmbientLight)y+=ft.r*st,v+=ft.g*st,b+=ft.b*st;else if(K.isLightProbe){for(let F=0;F<9;F++)i.probe[F].addScaledVector(K.sh.coefficients[F],st);H++}else if(K.isDirectionalLight){const F=t.get(K);if(F.color.copy(K.color).multiplyScalar(K.intensity),K.castShadow){const Z=K.shadow,Q=e.get(K);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.directionalShadow[M]=Q,i.directionalShadowMap[M]=bt,i.directionalShadowMatrix[M]=K.shadow.matrix,D++}i.directional[M]=F,M++}else if(K.isSpotLight){const F=t.get(K);F.position.setFromMatrixPosition(K.matrixWorld),F.color.copy(ft).multiplyScalar(st),F.distance=xt,F.coneCos=Math.cos(K.angle),F.penumbraCos=Math.cos(K.angle*(1-K.penumbra)),F.decay=K.decay,i.spot[R]=F;const Z=K.shadow;if(K.map&&(i.spotLightMap[B]=K.map,B++,Z.updateMatrices(K),K.castShadow&&P++),i.spotLightMatrix[R]=Z.matrix,K.castShadow){const Q=e.get(K);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,i.spotShadow[R]=Q,i.spotShadowMap[R]=bt,N++}R++}else if(K.isRectAreaLight){const F=t.get(K);F.color.copy(ft).multiplyScalar(st),F.halfWidth.set(K.width*.5,0,0),F.halfHeight.set(0,K.height*.5,0),i.rectArea[C]=F,C++}else if(K.isPointLight){const F=t.get(K);if(F.color.copy(K.color).multiplyScalar(K.intensity),F.distance=K.distance,F.decay=K.decay,K.castShadow){const Z=K.shadow,Q=e.get(K);Q.shadowIntensity=Z.intensity,Q.shadowBias=Z.bias,Q.shadowNormalBias=Z.normalBias,Q.shadowRadius=Z.radius,Q.shadowMapSize=Z.mapSize,Q.shadowCameraNear=Z.camera.near,Q.shadowCameraFar=Z.camera.far,i.pointShadow[E]=Q,i.pointShadowMap[E]=bt,i.pointShadowMatrix[E]=K.shadow.matrix,j++}i.point[E]=F,E++}else if(K.isHemisphereLight){const F=t.get(K);F.skyColor.copy(K.color).multiplyScalar(st),F.groundColor.copy(K.groundColor).multiplyScalar(st),i.hemi[T]=F,T++}}C>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=de.LTC_FLOAT_1,i.rectAreaLTC2=de.LTC_FLOAT_2):(i.rectAreaLTC1=de.LTC_HALF_1,i.rectAreaLTC2=de.LTC_HALF_2)),i.ambient[0]=y,i.ambient[1]=v,i.ambient[2]=b;const k=i.hash;(k.directionalLength!==M||k.pointLength!==E||k.spotLength!==R||k.rectAreaLength!==C||k.hemiLength!==T||k.numDirectionalShadows!==D||k.numPointShadows!==j||k.numSpotShadows!==N||k.numSpotMaps!==B||k.numLightProbes!==H)&&(i.directional.length=M,i.spot.length=R,i.rectArea.length=C,i.point.length=E,i.hemi.length=T,i.directionalShadow.length=D,i.directionalShadowMap.length=D,i.pointShadow.length=j,i.pointShadowMap.length=j,i.spotShadow.length=N,i.spotShadowMap.length=N,i.directionalShadowMatrix.length=D,i.pointShadowMatrix.length=j,i.spotLightMatrix.length=N+B-P,i.spotLightMap.length=B,i.numSpotLightShadowsWithMaps=P,i.numLightProbes=H,k.directionalLength=M,k.pointLength=E,k.spotLength=R,k.rectAreaLength=C,k.hemiLength=T,k.numDirectionalShadows=D,k.numPointShadows=j,k.numSpotShadows=N,k.numSpotMaps=B,k.numLightProbes=H,i.version=cH++)}function p(m,y){let v=0,b=0,M=0,E=0,R=0;const C=y.matrixWorldInverse;for(let T=0,D=m.length;T<D;T++){const j=m[T];if(j.isDirectionalLight){const N=i.directional[v];N.direction.setFromMatrixPosition(j.matrixWorld),a.setFromMatrixPosition(j.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(C),v++}else if(j.isSpotLight){const N=i.spot[M];N.position.setFromMatrixPosition(j.matrixWorld),N.position.applyMatrix4(C),N.direction.setFromMatrixPosition(j.matrixWorld),a.setFromMatrixPosition(j.target.matrixWorld),N.direction.sub(a),N.direction.transformDirection(C),M++}else if(j.isRectAreaLight){const N=i.rectArea[E];N.position.setFromMatrixPosition(j.matrixWorld),N.position.applyMatrix4(C),c.identity(),o.copy(j.matrixWorld),o.premultiply(C),c.extractRotation(o),N.halfWidth.set(j.width*.5,0,0),N.halfHeight.set(0,j.height*.5,0),N.halfWidth.applyMatrix4(c),N.halfHeight.applyMatrix4(c),E++}else if(j.isPointLight){const N=i.point[b];N.position.setFromMatrixPosition(j.matrixWorld),N.position.applyMatrix4(C),b++}else if(j.isHemisphereLight){const N=i.hemi[R];N.direction.setFromMatrixPosition(j.matrixWorld),N.direction.transformDirection(C),R++}}}return{setup:h,setupView:p,state:i}}function l3(n){const t=new dH(n),e=[],i=[];function a(y){m.camera=y,e.length=0,i.length=0}function o(y){e.push(y)}function c(y){i.push(y)}function h(){t.setup(e)}function p(y){t.setupView(e,y)}const m={lightsArray:e,shadowsArray:i,camera:null,lights:t,transmissionRenderTarget:{}};return{init:a,state:m,setupLights:h,setupLightsView:p,pushLight:o,pushShadow:c}}function hH(n){let t=new WeakMap;function e(a,o=0){const c=t.get(a);let h;return c===void 0?(h=new l3(n),t.set(a,[h])):o>=c.length?(h=new l3(n),c.push(h)):h=c[o],h}function i(){t=new WeakMap}return{get:e,dispose:i}}const fH=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,pH=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function mH(n,t,e){let i=new xx;const a=new Gt,o=new Gt,c=new En,h=new AE({depthPacking:nU}),p=new CE,m={},y=e.maxTextureSize,v={[wc]:Ar,[Ar]:wc,[wl]:wl},b=new Oo({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Gt},radius:{value:4}},vertexShader:fH,fragmentShader:pH}),M=b.clone();M.defines.HORIZONTAL_PASS=1;const E=new an;E.setAttribute("position",new qn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const R=new $i(E,b),C=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=c_;let T=this.type;this.render=function(P,H,k){if(C.enabled===!1||C.autoUpdate===!1&&C.needsUpdate===!1||P.length===0)return;const I=n.getRenderTarget(),z=n.getActiveCubeFace(),K=n.getActiveMipmapLevel(),ft=n.state;ft.setBlending(Tc),ft.buffers.color.setClear(1,1,1,1),ft.buffers.depth.setTest(!0),ft.setScissorTest(!1);const st=T!==Do&&this.type===Do,xt=T===Do&&this.type!==Do;for(let bt=0,F=P.length;bt<F;bt++){const Z=P[bt],Q=Z.shadow;if(Q===void 0){console.warn("THREE.WebGLShadowMap:",Z,"has no shadow.");continue}if(Q.autoUpdate===!1&&Q.needsUpdate===!1)continue;a.copy(Q.mapSize);const ut=Q.getFrameExtents();if(a.multiply(ut),o.copy(Q.mapSize),(a.x>y||a.y>y)&&(a.x>y&&(o.x=Math.floor(y/ut.x),a.x=o.x*ut.x,Q.mapSize.x=o.x),a.y>y&&(o.y=Math.floor(y/ut.y),a.y=o.y*ut.y,Q.mapSize.y=o.y)),Q.map===null||st===!0||xt===!0){const it=this.type!==Do?{minFilter:za,magFilter:za}:{};Q.map!==null&&Q.map.dispose(),Q.map=new Ol(a.x,a.y,it),Q.map.texture.name=Z.name+".shadowMap",Q.camera.updateProjectionMatrix()}n.setRenderTarget(Q.map),n.clear();const q=Q.getViewportCount();for(let it=0;it<q;it++){const St=Q.getViewport(it);c.set(o.x*St.x,o.y*St.y,o.x*St.z,o.y*St.w),ft.viewport(c),Q.updateMatrices(Z,it),i=Q.getFrustum(),N(H,k,Q.camera,Z,this.type)}Q.isPointLightShadow!==!0&&this.type===Do&&D(Q,k),Q.needsUpdate=!1}T=this.type,C.needsUpdate=!1,n.setRenderTarget(I,z,K)};function D(P,H){const k=t.update(R);b.defines.VSM_SAMPLES!==P.blurSamples&&(b.defines.VSM_SAMPLES=P.blurSamples,M.defines.VSM_SAMPLES=P.blurSamples,b.needsUpdate=!0,M.needsUpdate=!0),P.mapPass===null&&(P.mapPass=new Ol(a.x,a.y)),b.uniforms.shadow_pass.value=P.map.texture,b.uniforms.resolution.value=P.mapSize,b.uniforms.radius.value=P.radius,n.setRenderTarget(P.mapPass),n.clear(),n.renderBufferDirect(H,null,k,b,R,null),M.uniforms.shadow_pass.value=P.mapPass.texture,M.uniforms.resolution.value=P.mapSize,M.uniforms.radius.value=P.radius,n.setRenderTarget(P.map),n.clear(),n.renderBufferDirect(H,null,k,M,R,null)}function j(P,H,k,I){let z=null;const K=k.isPointLight===!0?P.customDistanceMaterial:P.customDepthMaterial;if(K!==void 0)z=K;else if(z=k.isPointLight===!0?p:h,n.localClippingEnabled&&H.clipShadows===!0&&Array.isArray(H.clippingPlanes)&&H.clippingPlanes.length!==0||H.displacementMap&&H.displacementScale!==0||H.alphaMap&&H.alphaTest>0||H.map&&H.alphaTest>0){const ft=z.uuid,st=H.uuid;let xt=m[ft];xt===void 0&&(xt={},m[ft]=xt);let bt=xt[st];bt===void 0&&(bt=z.clone(),xt[st]=bt,H.addEventListener("dispose",B)),z=bt}if(z.visible=H.visible,z.wireframe=H.wireframe,I===Do?z.side=H.shadowSide!==null?H.shadowSide:H.side:z.side=H.shadowSide!==null?H.shadowSide:v[H.side],z.alphaMap=H.alphaMap,z.alphaTest=H.alphaTest,z.map=H.map,z.clipShadows=H.clipShadows,z.clippingPlanes=H.clippingPlanes,z.clipIntersection=H.clipIntersection,z.displacementMap=H.displacementMap,z.displacementScale=H.displacementScale,z.displacementBias=H.displacementBias,z.wireframeLinewidth=H.wireframeLinewidth,z.linewidth=H.linewidth,k.isPointLight===!0&&z.isMeshDistanceMaterial===!0){const ft=n.properties.get(z);ft.light=k}return z}function N(P,H,k,I,z){if(P.visible===!1)return;if(P.layers.test(H.layers)&&(P.isMesh||P.isLine||P.isPoints)&&(P.castShadow||P.receiveShadow&&z===Do)&&(!P.frustumCulled||i.intersectsObject(P))){P.modelViewMatrix.multiplyMatrices(k.matrixWorldInverse,P.matrixWorld);const st=t.update(P),xt=P.material;if(Array.isArray(xt)){const bt=st.groups;for(let F=0,Z=bt.length;F<Z;F++){const Q=bt[F],ut=xt[Q.materialIndex];if(ut&&ut.visible){const q=j(P,ut,I,z);P.onBeforeShadow(n,P,H,k,st,q,Q),n.renderBufferDirect(k,null,st,q,P,Q),P.onAfterShadow(n,P,H,k,st,q,Q)}}}else if(xt.visible){const bt=j(P,xt,I,z);P.onBeforeShadow(n,P,H,k,st,bt,null),n.renderBufferDirect(k,null,st,bt,P,null),P.onAfterShadow(n,P,H,k,st,bt,null)}}const ft=P.children;for(let st=0,xt=ft.length;st<xt;st++)N(ft[st],H,k,I,z)}function B(P){P.target.removeEventListener("dispose",B);for(const k in m){const I=m[k],z=P.target.uuid;z in I&&(I[z].dispose(),delete I[z])}}}const gH={[ob]:lb,[cb]:hb,[ub]:fb,[zh]:db,[lb]:ob,[hb]:cb,[fb]:ub,[db]:zh};function xH(n,t){function e(){let nt=!1;const Qt=new En;let Dt=null;const Ft=new En(0,0,0,0);return{setMask:function(ce){Dt!==ce&&!nt&&(n.colorMask(ce,ce,ce,ce),Dt=ce)},setLocked:function(ce){nt=ce},setClear:function(ce,oe,Me,tn,An){An===!0&&(ce*=tn,oe*=tn,Me*=tn),Qt.set(ce,oe,Me,tn),Ft.equals(Qt)===!1&&(n.clearColor(ce,oe,Me,tn),Ft.copy(Qt))},reset:function(){nt=!1,Dt=null,Ft.set(-1,0,0,0)}}}function i(){let nt=!1,Qt=!1,Dt=null,Ft=null,ce=null;return{setReversed:function(oe){if(Qt!==oe){const Me=t.get("EXT_clip_control");oe?Me.clipControlEXT(Me.LOWER_LEFT_EXT,Me.ZERO_TO_ONE_EXT):Me.clipControlEXT(Me.LOWER_LEFT_EXT,Me.NEGATIVE_ONE_TO_ONE_EXT),Qt=oe;const tn=ce;ce=null,this.setClear(tn)}},getReversed:function(){return Qt},setTest:function(oe){oe?Wt(n.DEPTH_TEST):$t(n.DEPTH_TEST)},setMask:function(oe){Dt!==oe&&!nt&&(n.depthMask(oe),Dt=oe)},setFunc:function(oe){if(Qt&&(oe=gH[oe]),Ft!==oe){switch(oe){case ob:n.depthFunc(n.NEVER);break;case lb:n.depthFunc(n.ALWAYS);break;case cb:n.depthFunc(n.LESS);break;case zh:n.depthFunc(n.LEQUAL);break;case ub:n.depthFunc(n.EQUAL);break;case db:n.depthFunc(n.GEQUAL);break;case hb:n.depthFunc(n.GREATER);break;case fb:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Ft=oe}},setLocked:function(oe){nt=oe},setClear:function(oe){ce!==oe&&(Qt&&(oe=1-oe),n.clearDepth(oe),ce=oe)},reset:function(){nt=!1,Dt=null,Ft=null,ce=null,Qt=!1}}}function a(){let nt=!1,Qt=null,Dt=null,Ft=null,ce=null,oe=null,Me=null,tn=null,An=null;return{setTest:function(We){nt||(We?Wt(n.STENCIL_TEST):$t(n.STENCIL_TEST))},setMask:function(We){Qt!==We&&!nt&&(n.stencilMask(We),Qt=We)},setFunc:function(We,Ti,ni){(Dt!==We||Ft!==Ti||ce!==ni)&&(n.stencilFunc(We,Ti,ni),Dt=We,Ft=Ti,ce=ni)},setOp:function(We,Ti,ni){(oe!==We||Me!==Ti||tn!==ni)&&(n.stencilOp(We,Ti,ni),oe=We,Me=Ti,tn=ni)},setLocked:function(We){nt=We},setClear:function(We){An!==We&&(n.clearStencil(We),An=We)},reset:function(){nt=!1,Qt=null,Dt=null,Ft=null,ce=null,oe=null,Me=null,tn=null,An=null}}}const o=new e,c=new i,h=new a,p=new WeakMap,m=new WeakMap;let y={},v={},b=new WeakMap,M=[],E=null,R=!1,C=null,T=null,D=null,j=null,N=null,B=null,P=null,H=new he(0,0,0),k=0,I=!1,z=null,K=null,ft=null,st=null,xt=null;const bt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let F=!1,Z=0;const Q=n.getParameter(n.VERSION);Q.indexOf("WebGL")!==-1?(Z=parseFloat(/^WebGL (\d)/.exec(Q)[1]),F=Z>=1):Q.indexOf("OpenGL ES")!==-1&&(Z=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),F=Z>=2);let ut=null,q={};const it=n.getParameter(n.SCISSOR_BOX),St=n.getParameter(n.VIEWPORT),Lt=new En().fromArray(it),rt=new En().fromArray(St);function Rt(nt,Qt,Dt,Ft){const ce=new Uint8Array(4),oe=n.createTexture();n.bindTexture(nt,oe),n.texParameteri(nt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(nt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let Me=0;Me<Dt;Me++)nt===n.TEXTURE_3D||nt===n.TEXTURE_2D_ARRAY?n.texImage3D(Qt,0,n.RGBA,1,1,Ft,0,n.RGBA,n.UNSIGNED_BYTE,ce):n.texImage2D(Qt+Me,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,ce);return oe}const Pt={};Pt[n.TEXTURE_2D]=Rt(n.TEXTURE_2D,n.TEXTURE_2D,1),Pt[n.TEXTURE_CUBE_MAP]=Rt(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Pt[n.TEXTURE_2D_ARRAY]=Rt(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Pt[n.TEXTURE_3D]=Rt(n.TEXTURE_3D,n.TEXTURE_3D,1,1),o.setClear(0,0,0,1),c.setClear(1),h.setClear(0),Wt(n.DEPTH_TEST),c.setFunc(zh),kt(!1),zt(sT),Wt(n.CULL_FACE),et(Tc);function Wt(nt){y[nt]!==!0&&(n.enable(nt),y[nt]=!0)}function $t(nt){y[nt]!==!1&&(n.disable(nt),y[nt]=!1)}function we(nt,Qt){return v[nt]!==Qt?(n.bindFramebuffer(nt,Qt),v[nt]=Qt,nt===n.DRAW_FRAMEBUFFER&&(v[n.FRAMEBUFFER]=Qt),nt===n.FRAMEBUFFER&&(v[n.DRAW_FRAMEBUFFER]=Qt),!0):!1}function ve(nt,Qt){let Dt=M,Ft=!1;if(nt){Dt=b.get(Qt),Dt===void 0&&(Dt=[],b.set(Qt,Dt));const ce=nt.textures;if(Dt.length!==ce.length||Dt[0]!==n.COLOR_ATTACHMENT0){for(let oe=0,Me=ce.length;oe<Me;oe++)Dt[oe]=n.COLOR_ATTACHMENT0+oe;Dt.length=ce.length,Ft=!0}}else Dt[0]!==n.BACK&&(Dt[0]=n.BACK,Ft=!0);Ft&&n.drawBuffers(Dt)}function Pe(nt){return E!==nt?(n.useProgram(nt),E=nt,!0):!1}const Ne={[ku]:n.FUNC_ADD,[w4]:n.FUNC_SUBTRACT,[A4]:n.FUNC_REVERSE_SUBTRACT};Ne[C4]=n.MIN,Ne[R4]=n.MAX;const Be={[D4]:n.ZERO,[U4]:n.ONE,[j4]:n.SRC_COLOR,[rb]:n.SRC_ALPHA,[B4]:n.SRC_ALPHA_SATURATE,[z4]:n.DST_COLOR,[N4]:n.DST_ALPHA,[L4]:n.ONE_MINUS_SRC_COLOR,[sb]:n.ONE_MINUS_SRC_ALPHA,[P4]:n.ONE_MINUS_DST_COLOR,[O4]:n.ONE_MINUS_DST_ALPHA,[I4]:n.CONSTANT_COLOR,[F4]:n.ONE_MINUS_CONSTANT_COLOR,[V4]:n.CONSTANT_ALPHA,[H4]:n.ONE_MINUS_CONSTANT_ALPHA};function et(nt,Qt,Dt,Ft,ce,oe,Me,tn,An,We){if(nt===Tc){R===!0&&($t(n.BLEND),R=!1);return}if(R===!1&&(Wt(n.BLEND),R=!0),nt!==E4){if(nt!==C||We!==I){if((T!==ku||N!==ku)&&(n.blendEquation(n.FUNC_ADD),T=ku,N=ku),We)switch(nt){case Uh:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ab:n.blendFunc(n.ONE,n.ONE);break;case oT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lT:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",nt);break}else switch(nt){case Uh:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case ab:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case oT:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case lT:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",nt);break}D=null,j=null,B=null,P=null,H.set(0,0,0),k=0,C=nt,I=We}return}ce=ce||Qt,oe=oe||Dt,Me=Me||Ft,(Qt!==T||ce!==N)&&(n.blendEquationSeparate(Ne[Qt],Ne[ce]),T=Qt,N=ce),(Dt!==D||Ft!==j||oe!==B||Me!==P)&&(n.blendFuncSeparate(Be[Dt],Be[Ft],Be[oe],Be[Me]),D=Dt,j=Ft,B=oe,P=Me),(tn.equals(H)===!1||An!==k)&&(n.blendColor(tn.r,tn.g,tn.b,An),H.copy(tn),k=An),C=nt,I=!1}function Ln(nt,Qt){nt.side===wl?$t(n.CULL_FACE):Wt(n.CULL_FACE);let Dt=nt.side===Ar;Qt&&(Dt=!Dt),kt(Dt),nt.blending===Uh&&nt.transparent===!1?et(Tc):et(nt.blending,nt.blendEquation,nt.blendSrc,nt.blendDst,nt.blendEquationAlpha,nt.blendSrcAlpha,nt.blendDstAlpha,nt.blendColor,nt.blendAlpha,nt.premultipliedAlpha),c.setFunc(nt.depthFunc),c.setTest(nt.depthTest),c.setMask(nt.depthWrite),o.setMask(nt.colorWrite);const Ft=nt.stencilWrite;h.setTest(Ft),Ft&&(h.setMask(nt.stencilWriteMask),h.setFunc(nt.stencilFunc,nt.stencilRef,nt.stencilFuncMask),h.setOp(nt.stencilFail,nt.stencilZFail,nt.stencilZPass)),ee(nt.polygonOffset,nt.polygonOffsetFactor,nt.polygonOffsetUnits),nt.alphaToCoverage===!0?Wt(n.SAMPLE_ALPHA_TO_COVERAGE):$t(n.SAMPLE_ALPHA_TO_COVERAGE)}function kt(nt){z!==nt&&(nt?n.frontFace(n.CW):n.frontFace(n.CCW),z=nt)}function zt(nt){nt!==S4?(Wt(n.CULL_FACE),nt!==K&&(nt===sT?n.cullFace(n.BACK):nt===M4?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):$t(n.CULL_FACE),K=nt}function Bt(nt){nt!==ft&&(F&&n.lineWidth(nt),ft=nt)}function ee(nt,Qt,Dt){nt?(Wt(n.POLYGON_OFFSET_FILL),(st!==Qt||xt!==Dt)&&(n.polygonOffset(Qt,Dt),st=Qt,xt=Dt)):$t(n.POLYGON_OFFSET_FILL)}function Nt(nt){nt?Wt(n.SCISSOR_TEST):$t(n.SCISSOR_TEST)}function W(nt){nt===void 0&&(nt=n.TEXTURE0+bt-1),ut!==nt&&(n.activeTexture(nt),ut=nt)}function V(nt,Qt,Dt){Dt===void 0&&(ut===null?Dt=n.TEXTURE0+bt-1:Dt=ut);let Ft=q[Dt];Ft===void 0&&(Ft={type:void 0,texture:void 0},q[Dt]=Ft),(Ft.type!==nt||Ft.texture!==Qt)&&(ut!==Dt&&(n.activeTexture(Dt),ut=Dt),n.bindTexture(nt,Qt||Pt[nt]),Ft.type=nt,Ft.texture=Qt)}function dt(){const nt=q[ut];nt!==void 0&&nt.type!==void 0&&(n.bindTexture(nt.type,null),nt.type=void 0,nt.texture=void 0)}function Ut(){try{n.compressedTexImage2D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function It(){try{n.compressedTexImage3D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function jt(){try{n.texSubImage2D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function ae(){try{n.texSubImage3D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Kt(){try{n.compressedTexSubImage2D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function ne(){try{n.compressedTexSubImage3D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Qe(){try{n.texStorage2D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function Zt(){try{n.texStorage3D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function fe(){try{n.texImage2D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function ge(){try{n.texImage3D(...arguments)}catch(nt){console.error("THREE.WebGLState:",nt)}}function xe(nt){Lt.equals(nt)===!1&&(n.scissor(nt.x,nt.y,nt.z,nt.w),Lt.copy(nt))}function ie(nt){rt.equals(nt)===!1&&(n.viewport(nt.x,nt.y,nt.z,nt.w),rt.copy(nt))}function at(nt,Qt){let Dt=m.get(Qt);Dt===void 0&&(Dt=new WeakMap,m.set(Qt,Dt));let Ft=Dt.get(nt);Ft===void 0&&(Ft=n.getUniformBlockIndex(Qt,nt.name),Dt.set(nt,Ft))}function Ot(nt,Qt){const Ft=m.get(Qt).get(nt);p.get(Qt)!==Ft&&(n.uniformBlockBinding(Qt,Ft,nt.__bindingPointIndex),p.set(Qt,Ft))}function se(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),c.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),y={},ut=null,q={},v={},b=new WeakMap,M=[],E=null,R=!1,C=null,T=null,D=null,j=null,N=null,B=null,P=null,H=new he(0,0,0),k=0,I=!1,z=null,K=null,ft=null,st=null,xt=null,Lt.set(0,0,n.canvas.width,n.canvas.height),rt.set(0,0,n.canvas.width,n.canvas.height),o.reset(),c.reset(),h.reset()}return{buffers:{color:o,depth:c,stencil:h},enable:Wt,disable:$t,bindFramebuffer:we,drawBuffers:ve,useProgram:Pe,setBlending:et,setMaterial:Ln,setFlipSided:kt,setCullFace:zt,setLineWidth:Bt,setPolygonOffset:ee,setScissorTest:Nt,activeTexture:W,bindTexture:V,unbindTexture:dt,compressedTexImage2D:Ut,compressedTexImage3D:It,texImage2D:fe,texImage3D:ge,updateUBOMapping:at,uniformBlockBinding:Ot,texStorage2D:Qe,texStorage3D:Zt,texSubImage2D:jt,texSubImage3D:ae,compressedTexSubImage2D:Kt,compressedTexSubImage3D:ne,scissor:xe,viewport:ie,reset:se}}function yH(n,t,e,i,a,o,c){const h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new Gt,y=new WeakMap;let v;const b=new WeakMap;let M=!1;try{M=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function E(W,V){return M?new OffscreenCanvas(W,V):Yg("canvas")}function R(W,V,dt){let Ut=1;const It=Nt(W);if((It.width>dt||It.height>dt)&&(Ut=dt/Math.max(It.width,It.height)),Ut<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const jt=Math.floor(Ut*It.width),ae=Math.floor(Ut*It.height);v===void 0&&(v=E(jt,ae));const Kt=V?E(jt,ae):v;return Kt.width=jt,Kt.height=ae,Kt.getContext("2d").drawImage(W,0,0,jt,ae),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+It.width+"x"+It.height+") to ("+jt+"x"+ae+")."),Kt}else return"data"in W&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+It.width+"x"+It.height+")."),W;return W}function C(W){return W.generateMipmaps}function T(W){n.generateMipmap(W)}function D(W){return W.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?n.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function j(W,V,dt,Ut,It=!1){if(W!==null){if(n[W]!==void 0)return n[W];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let jt=V;if(V===n.RED&&(dt===n.FLOAT&&(jt=n.R32F),dt===n.HALF_FLOAT&&(jt=n.R16F),dt===n.UNSIGNED_BYTE&&(jt=n.R8)),V===n.RED_INTEGER&&(dt===n.UNSIGNED_BYTE&&(jt=n.R8UI),dt===n.UNSIGNED_SHORT&&(jt=n.R16UI),dt===n.UNSIGNED_INT&&(jt=n.R32UI),dt===n.BYTE&&(jt=n.R8I),dt===n.SHORT&&(jt=n.R16I),dt===n.INT&&(jt=n.R32I)),V===n.RG&&(dt===n.FLOAT&&(jt=n.RG32F),dt===n.HALF_FLOAT&&(jt=n.RG16F),dt===n.UNSIGNED_BYTE&&(jt=n.RG8)),V===n.RG_INTEGER&&(dt===n.UNSIGNED_BYTE&&(jt=n.RG8UI),dt===n.UNSIGNED_SHORT&&(jt=n.RG16UI),dt===n.UNSIGNED_INT&&(jt=n.RG32UI),dt===n.BYTE&&(jt=n.RG8I),dt===n.SHORT&&(jt=n.RG16I),dt===n.INT&&(jt=n.RG32I)),V===n.RGB_INTEGER&&(dt===n.UNSIGNED_BYTE&&(jt=n.RGB8UI),dt===n.UNSIGNED_SHORT&&(jt=n.RGB16UI),dt===n.UNSIGNED_INT&&(jt=n.RGB32UI),dt===n.BYTE&&(jt=n.RGB8I),dt===n.SHORT&&(jt=n.RGB16I),dt===n.INT&&(jt=n.RGB32I)),V===n.RGBA_INTEGER&&(dt===n.UNSIGNED_BYTE&&(jt=n.RGBA8UI),dt===n.UNSIGNED_SHORT&&(jt=n.RGBA16UI),dt===n.UNSIGNED_INT&&(jt=n.RGBA32UI),dt===n.BYTE&&(jt=n.RGBA8I),dt===n.SHORT&&(jt=n.RGBA16I),dt===n.INT&&(jt=n.RGBA32I)),V===n.RGB&&dt===n.UNSIGNED_INT_5_9_9_9_REV&&(jt=n.RGB9_E5),V===n.RGBA){const ae=It?Gg:_n.getTransfer(Ut);dt===n.FLOAT&&(jt=n.RGBA32F),dt===n.HALF_FLOAT&&(jt=n.RGBA16F),dt===n.UNSIGNED_BYTE&&(jt=ae===Xn?n.SRGB8_ALPHA8:n.RGBA8),dt===n.UNSIGNED_SHORT_4_4_4_4&&(jt=n.RGBA4),dt===n.UNSIGNED_SHORT_5_5_5_1&&(jt=n.RGB5_A1)}return(jt===n.R16F||jt===n.R32F||jt===n.RG16F||jt===n.RG32F||jt===n.RGBA16F||jt===n.RGBA32F)&&t.get("EXT_color_buffer_float"),jt}function N(W,V){let dt;return W?V===null||V===Cc||V===Wp?dt=n.DEPTH24_STENCIL8:V===Kr?dt=n.DEPTH32F_STENCIL8:V===Yp&&(dt=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):V===null||V===Cc||V===Wp?dt=n.DEPTH_COMPONENT24:V===Kr?dt=n.DEPTH_COMPONENT32F:V===Yp&&(dt=n.DEPTH_COMPONENT16),dt}function B(W,V){return C(W)===!0||W.isFramebufferTexture&&W.minFilter!==za&&W.minFilter!==ua?Math.log2(Math.max(V.width,V.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?V.mipmaps.length:1}function P(W){const V=W.target;V.removeEventListener("dispose",P),k(V),V.isVideoTexture&&y.delete(V)}function H(W){const V=W.target;V.removeEventListener("dispose",H),z(V)}function k(W){const V=i.get(W);if(V.__webglInit===void 0)return;const dt=W.source,Ut=b.get(dt);if(Ut){const It=Ut[V.__cacheKey];It.usedTimes--,It.usedTimes===0&&I(W),Object.keys(Ut).length===0&&b.delete(dt)}i.remove(W)}function I(W){const V=i.get(W);n.deleteTexture(V.__webglTexture);const dt=W.source,Ut=b.get(dt);delete Ut[V.__cacheKey],c.memory.textures--}function z(W){const V=i.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),i.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let Ut=0;Ut<6;Ut++){if(Array.isArray(V.__webglFramebuffer[Ut]))for(let It=0;It<V.__webglFramebuffer[Ut].length;It++)n.deleteFramebuffer(V.__webglFramebuffer[Ut][It]);else n.deleteFramebuffer(V.__webglFramebuffer[Ut]);V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer[Ut])}else{if(Array.isArray(V.__webglFramebuffer))for(let Ut=0;Ut<V.__webglFramebuffer.length;Ut++)n.deleteFramebuffer(V.__webglFramebuffer[Ut]);else n.deleteFramebuffer(V.__webglFramebuffer);if(V.__webglDepthbuffer&&n.deleteRenderbuffer(V.__webglDepthbuffer),V.__webglMultisampledFramebuffer&&n.deleteFramebuffer(V.__webglMultisampledFramebuffer),V.__webglColorRenderbuffer)for(let Ut=0;Ut<V.__webglColorRenderbuffer.length;Ut++)V.__webglColorRenderbuffer[Ut]&&n.deleteRenderbuffer(V.__webglColorRenderbuffer[Ut]);V.__webglDepthRenderbuffer&&n.deleteRenderbuffer(V.__webglDepthRenderbuffer)}const dt=W.textures;for(let Ut=0,It=dt.length;Ut<It;Ut++){const jt=i.get(dt[Ut]);jt.__webglTexture&&(n.deleteTexture(jt.__webglTexture),c.memory.textures--),i.remove(dt[Ut])}i.remove(W)}let K=0;function ft(){K=0}function st(){const W=K;return W>=a.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+a.maxTextures),K+=1,W}function xt(W){const V=[];return V.push(W.wrapS),V.push(W.wrapT),V.push(W.wrapR||0),V.push(W.magFilter),V.push(W.minFilter),V.push(W.anisotropy),V.push(W.internalFormat),V.push(W.format),V.push(W.type),V.push(W.generateMipmaps),V.push(W.premultiplyAlpha),V.push(W.flipY),V.push(W.unpackAlignment),V.push(W.colorSpace),V.join()}function bt(W,V){const dt=i.get(W);if(W.isVideoTexture&&Bt(W),W.isRenderTargetTexture===!1&&W.version>0&&dt.__version!==W.version){const Ut=W.image;if(Ut===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Ut.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{rt(dt,W,V);return}}e.bindTexture(n.TEXTURE_2D,dt.__webglTexture,n.TEXTURE0+V)}function F(W,V){const dt=i.get(W);if(W.version>0&&dt.__version!==W.version){rt(dt,W,V);return}e.bindTexture(n.TEXTURE_2D_ARRAY,dt.__webglTexture,n.TEXTURE0+V)}function Z(W,V){const dt=i.get(W);if(W.version>0&&dt.__version!==W.version){rt(dt,W,V);return}e.bindTexture(n.TEXTURE_3D,dt.__webglTexture,n.TEXTURE0+V)}function Q(W,V){const dt=i.get(W);if(W.version>0&&dt.__version!==W.version){Rt(dt,W,V);return}e.bindTexture(n.TEXTURE_CUBE_MAP,dt.__webglTexture,n.TEXTURE0+V)}const ut={[Fg]:n.REPEAT,[Ys]:n.CLAMP_TO_EDGE,[Vg]:n.MIRRORED_REPEAT},q={[za]:n.NEAREST,[tE]:n.NEAREST_MIPMAP_NEAREST,[jp]:n.NEAREST_MIPMAP_LINEAR,[ua]:n.LINEAR,[Sg]:n.LINEAR_MIPMAP_NEAREST,[Al]:n.LINEAR_MIPMAP_LINEAR},it={[aU]:n.NEVER,[uU]:n.ALWAYS,[rU]:n.LESS,[dE]:n.LEQUAL,[sU]:n.EQUAL,[cU]:n.GEQUAL,[oU]:n.GREATER,[lU]:n.NOTEQUAL};function St(W,V){if(V.type===Kr&&t.has("OES_texture_float_linear")===!1&&(V.magFilter===ua||V.magFilter===Sg||V.magFilter===jp||V.magFilter===Al||V.minFilter===ua||V.minFilter===Sg||V.minFilter===jp||V.minFilter===Al)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(W,n.TEXTURE_WRAP_S,ut[V.wrapS]),n.texParameteri(W,n.TEXTURE_WRAP_T,ut[V.wrapT]),(W===n.TEXTURE_3D||W===n.TEXTURE_2D_ARRAY)&&n.texParameteri(W,n.TEXTURE_WRAP_R,ut[V.wrapR]),n.texParameteri(W,n.TEXTURE_MAG_FILTER,q[V.magFilter]),n.texParameteri(W,n.TEXTURE_MIN_FILTER,q[V.minFilter]),V.compareFunction&&(n.texParameteri(W,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(W,n.TEXTURE_COMPARE_FUNC,it[V.compareFunction])),t.has("EXT_texture_filter_anisotropic")===!0){if(V.magFilter===za||V.minFilter!==jp&&V.minFilter!==Al||V.type===Kr&&t.has("OES_texture_float_linear")===!1)return;if(V.anisotropy>1||i.get(V).__currentAnisotropy){const dt=t.get("EXT_texture_filter_anisotropic");n.texParameterf(W,dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(V.anisotropy,a.getMaxAnisotropy())),i.get(V).__currentAnisotropy=V.anisotropy}}}function Lt(W,V){let dt=!1;W.__webglInit===void 0&&(W.__webglInit=!0,V.addEventListener("dispose",P));const Ut=V.source;let It=b.get(Ut);It===void 0&&(It={},b.set(Ut,It));const jt=xt(V);if(jt!==W.__cacheKey){It[jt]===void 0&&(It[jt]={texture:n.createTexture(),usedTimes:0},c.memory.textures++,dt=!0),It[jt].usedTimes++;const ae=It[W.__cacheKey];ae!==void 0&&(It[W.__cacheKey].usedTimes--,ae.usedTimes===0&&I(V)),W.__cacheKey=jt,W.__webglTexture=It[jt].texture}return dt}function rt(W,V,dt){let Ut=n.TEXTURE_2D;(V.isDataArrayTexture||V.isCompressedArrayTexture)&&(Ut=n.TEXTURE_2D_ARRAY),V.isData3DTexture&&(Ut=n.TEXTURE_3D);const It=Lt(W,V),jt=V.source;e.bindTexture(Ut,W.__webglTexture,n.TEXTURE0+dt);const ae=i.get(jt);if(jt.version!==ae.__version||It===!0){e.activeTexture(n.TEXTURE0+dt);const Kt=_n.getPrimaries(_n.workingColorSpace),ne=V.colorSpace===_c?null:_n.getPrimaries(V.colorSpace),Qe=V.colorSpace===_c||Kt===ne?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Qe);let Zt=R(V.image,!1,a.maxTextureSize);Zt=ee(V,Zt);const fe=o.convert(V.format,V.colorSpace),ge=o.convert(V.type);let xe=j(V.internalFormat,fe,ge,V.colorSpace,V.isVideoTexture);St(Ut,V);let ie;const at=V.mipmaps,Ot=V.isVideoTexture!==!0,se=ae.__version===void 0||It===!0,nt=jt.dataReady,Qt=B(V,Zt);if(V.isDepthTexture)xe=N(V.format===Kp,V.type),se&&(Ot?e.texStorage2D(n.TEXTURE_2D,1,xe,Zt.width,Zt.height):e.texImage2D(n.TEXTURE_2D,0,xe,Zt.width,Zt.height,0,fe,ge,null));else if(V.isDataTexture)if(at.length>0){Ot&&se&&e.texStorage2D(n.TEXTURE_2D,Qt,xe,at[0].width,at[0].height);for(let Dt=0,Ft=at.length;Dt<Ft;Dt++)ie=at[Dt],Ot?nt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,ie.width,ie.height,fe,ge,ie.data):e.texImage2D(n.TEXTURE_2D,Dt,xe,ie.width,ie.height,0,fe,ge,ie.data);V.generateMipmaps=!1}else Ot?(se&&e.texStorage2D(n.TEXTURE_2D,Qt,xe,Zt.width,Zt.height),nt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,Zt.width,Zt.height,fe,ge,Zt.data)):e.texImage2D(n.TEXTURE_2D,0,xe,Zt.width,Zt.height,0,fe,ge,Zt.data);else if(V.isCompressedTexture)if(V.isCompressedArrayTexture){Ot&&se&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Qt,xe,at[0].width,at[0].height,Zt.depth);for(let Dt=0,Ft=at.length;Dt<Ft;Dt++)if(ie=at[Dt],V.format!==$a)if(fe!==null)if(Ot){if(nt)if(V.layerUpdates.size>0){const ce=vT(ie.width,ie.height,V.format,V.type);for(const oe of V.layerUpdates){const Me=ie.data.subarray(oe*ce/ie.data.BYTES_PER_ELEMENT,(oe+1)*ce/ie.data.BYTES_PER_ELEMENT);e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,oe,ie.width,ie.height,1,fe,Me)}V.clearLayerUpdates()}else e.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,0,ie.width,ie.height,Zt.depth,fe,ie.data)}else e.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Dt,xe,ie.width,ie.height,Zt.depth,0,ie.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else Ot?nt&&e.texSubImage3D(n.TEXTURE_2D_ARRAY,Dt,0,0,0,ie.width,ie.height,Zt.depth,fe,ge,ie.data):e.texImage3D(n.TEXTURE_2D_ARRAY,Dt,xe,ie.width,ie.height,Zt.depth,0,fe,ge,ie.data)}else{Ot&&se&&e.texStorage2D(n.TEXTURE_2D,Qt,xe,at[0].width,at[0].height);for(let Dt=0,Ft=at.length;Dt<Ft;Dt++)ie=at[Dt],V.format!==$a?fe!==null?Ot?nt&&e.compressedTexSubImage2D(n.TEXTURE_2D,Dt,0,0,ie.width,ie.height,fe,ie.data):e.compressedTexImage2D(n.TEXTURE_2D,Dt,xe,ie.width,ie.height,0,ie.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):Ot?nt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,ie.width,ie.height,fe,ge,ie.data):e.texImage2D(n.TEXTURE_2D,Dt,xe,ie.width,ie.height,0,fe,ge,ie.data)}else if(V.isDataArrayTexture)if(Ot){if(se&&e.texStorage3D(n.TEXTURE_2D_ARRAY,Qt,xe,Zt.width,Zt.height,Zt.depth),nt)if(V.layerUpdates.size>0){const Dt=vT(Zt.width,Zt.height,V.format,V.type);for(const Ft of V.layerUpdates){const ce=Zt.data.subarray(Ft*Dt/Zt.data.BYTES_PER_ELEMENT,(Ft+1)*Dt/Zt.data.BYTES_PER_ELEMENT);e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Ft,Zt.width,Zt.height,1,fe,ge,ce)}V.clearLayerUpdates()}else e.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Zt.width,Zt.height,Zt.depth,fe,ge,Zt.data)}else e.texImage3D(n.TEXTURE_2D_ARRAY,0,xe,Zt.width,Zt.height,Zt.depth,0,fe,ge,Zt.data);else if(V.isData3DTexture)Ot?(se&&e.texStorage3D(n.TEXTURE_3D,Qt,xe,Zt.width,Zt.height,Zt.depth),nt&&e.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Zt.width,Zt.height,Zt.depth,fe,ge,Zt.data)):e.texImage3D(n.TEXTURE_3D,0,xe,Zt.width,Zt.height,Zt.depth,0,fe,ge,Zt.data);else if(V.isFramebufferTexture){if(se)if(Ot)e.texStorage2D(n.TEXTURE_2D,Qt,xe,Zt.width,Zt.height);else{let Dt=Zt.width,Ft=Zt.height;for(let ce=0;ce<Qt;ce++)e.texImage2D(n.TEXTURE_2D,ce,xe,Dt,Ft,0,fe,ge,null),Dt>>=1,Ft>>=1}}else if(at.length>0){if(Ot&&se){const Dt=Nt(at[0]);e.texStorage2D(n.TEXTURE_2D,Qt,xe,Dt.width,Dt.height)}for(let Dt=0,Ft=at.length;Dt<Ft;Dt++)ie=at[Dt],Ot?nt&&e.texSubImage2D(n.TEXTURE_2D,Dt,0,0,fe,ge,ie):e.texImage2D(n.TEXTURE_2D,Dt,xe,fe,ge,ie);V.generateMipmaps=!1}else if(Ot){if(se){const Dt=Nt(Zt);e.texStorage2D(n.TEXTURE_2D,Qt,xe,Dt.width,Dt.height)}nt&&e.texSubImage2D(n.TEXTURE_2D,0,0,0,fe,ge,Zt)}else e.texImage2D(n.TEXTURE_2D,0,xe,fe,ge,Zt);C(V)&&T(Ut),ae.__version=jt.version,V.onUpdate&&V.onUpdate(V)}W.__version=V.version}function Rt(W,V,dt){if(V.image.length!==6)return;const Ut=Lt(W,V),It=V.source;e.bindTexture(n.TEXTURE_CUBE_MAP,W.__webglTexture,n.TEXTURE0+dt);const jt=i.get(It);if(It.version!==jt.__version||Ut===!0){e.activeTexture(n.TEXTURE0+dt);const ae=_n.getPrimaries(_n.workingColorSpace),Kt=V.colorSpace===_c?null:_n.getPrimaries(V.colorSpace),ne=V.colorSpace===_c||ae===Kt?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,V.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,V.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,V.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,ne);const Qe=V.isCompressedTexture||V.image[0].isCompressedTexture,Zt=V.image[0]&&V.image[0].isDataTexture,fe=[];for(let Ft=0;Ft<6;Ft++)!Qe&&!Zt?fe[Ft]=R(V.image[Ft],!0,a.maxCubemapSize):fe[Ft]=Zt?V.image[Ft].image:V.image[Ft],fe[Ft]=ee(V,fe[Ft]);const ge=fe[0],xe=o.convert(V.format,V.colorSpace),ie=o.convert(V.type),at=j(V.internalFormat,xe,ie,V.colorSpace),Ot=V.isVideoTexture!==!0,se=jt.__version===void 0||Ut===!0,nt=It.dataReady;let Qt=B(V,ge);St(n.TEXTURE_CUBE_MAP,V);let Dt;if(Qe){Ot&&se&&e.texStorage2D(n.TEXTURE_CUBE_MAP,Qt,at,ge.width,ge.height);for(let Ft=0;Ft<6;Ft++){Dt=fe[Ft].mipmaps;for(let ce=0;ce<Dt.length;ce++){const oe=Dt[ce];V.format!==$a?xe!==null?Ot?nt&&e.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce,0,0,oe.width,oe.height,xe,oe.data):e.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce,at,oe.width,oe.height,0,oe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Ot?nt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce,0,0,oe.width,oe.height,xe,ie,oe.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce,at,oe.width,oe.height,0,xe,ie,oe.data)}}}else{if(Dt=V.mipmaps,Ot&&se){Dt.length>0&&Qt++;const Ft=Nt(fe[0]);e.texStorage2D(n.TEXTURE_CUBE_MAP,Qt,at,Ft.width,Ft.height)}for(let Ft=0;Ft<6;Ft++)if(Zt){Ot?nt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0,0,0,fe[Ft].width,fe[Ft].height,xe,ie,fe[Ft].data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0,at,fe[Ft].width,fe[Ft].height,0,xe,ie,fe[Ft].data);for(let ce=0;ce<Dt.length;ce++){const Me=Dt[ce].image[Ft].image;Ot?nt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce+1,0,0,Me.width,Me.height,xe,ie,Me.data):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce+1,at,Me.width,Me.height,0,xe,ie,Me.data)}}else{Ot?nt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0,0,0,xe,ie,fe[Ft]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,0,at,xe,ie,fe[Ft]);for(let ce=0;ce<Dt.length;ce++){const oe=Dt[ce];Ot?nt&&e.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce+1,0,0,xe,ie,oe.image[Ft]):e.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Ft,ce+1,at,xe,ie,oe.image[Ft])}}}C(V)&&T(n.TEXTURE_CUBE_MAP),jt.__version=It.version,V.onUpdate&&V.onUpdate(V)}W.__version=V.version}function Pt(W,V,dt,Ut,It,jt){const ae=o.convert(dt.format,dt.colorSpace),Kt=o.convert(dt.type),ne=j(dt.internalFormat,ae,Kt,dt.colorSpace),Qe=i.get(V),Zt=i.get(dt);if(Zt.__renderTarget=V,!Qe.__hasExternalTextures){const fe=Math.max(1,V.width>>jt),ge=Math.max(1,V.height>>jt);It===n.TEXTURE_3D||It===n.TEXTURE_2D_ARRAY?e.texImage3D(It,jt,ne,fe,ge,V.depth,0,ae,Kt,null):e.texImage2D(It,jt,ne,fe,ge,0,ae,Kt,null)}e.bindFramebuffer(n.FRAMEBUFFER,W),zt(V)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Ut,It,Zt.__webglTexture,0,kt(V)):(It===n.TEXTURE_2D||It>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&It<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Ut,It,Zt.__webglTexture,jt),e.bindFramebuffer(n.FRAMEBUFFER,null)}function Wt(W,V,dt){if(n.bindRenderbuffer(n.RENDERBUFFER,W),V.depthBuffer){const Ut=V.depthTexture,It=Ut&&Ut.isDepthTexture?Ut.type:null,jt=N(V.stencilBuffer,It),ae=V.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Kt=kt(V);zt(V)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Kt,jt,V.width,V.height):dt?n.renderbufferStorageMultisample(n.RENDERBUFFER,Kt,jt,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,jt,V.width,V.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,ae,n.RENDERBUFFER,W)}else{const Ut=V.textures;for(let It=0;It<Ut.length;It++){const jt=Ut[It],ae=o.convert(jt.format,jt.colorSpace),Kt=o.convert(jt.type),ne=j(jt.internalFormat,ae,Kt,jt.colorSpace),Qe=kt(V);dt&&zt(V)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,Qe,ne,V.width,V.height):zt(V)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Qe,ne,V.width,V.height):n.renderbufferStorage(n.RENDERBUFFER,ne,V.width,V.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function $t(W,V){if(V&&V.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(n.FRAMEBUFFER,W),!(V.depthTexture&&V.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const Ut=i.get(V.depthTexture);Ut.__renderTarget=V,(!Ut.__webglTexture||V.depthTexture.image.width!==V.width||V.depthTexture.image.height!==V.height)&&(V.depthTexture.image.width=V.width,V.depthTexture.image.height=V.height,V.depthTexture.needsUpdate=!0),bt(V.depthTexture,0);const It=Ut.__webglTexture,jt=kt(V);if(V.depthTexture.format===Zp)zt(V)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,It,0,jt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,It,0);else if(V.depthTexture.format===Kp)zt(V)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,It,0,jt):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,It,0);else throw new Error("Unknown depthTexture format")}function we(W){const V=i.get(W),dt=W.isWebGLCubeRenderTarget===!0;if(V.__boundDepthTexture!==W.depthTexture){const Ut=W.depthTexture;if(V.__depthDisposeCallback&&V.__depthDisposeCallback(),Ut){const It=()=>{delete V.__boundDepthTexture,delete V.__depthDisposeCallback,Ut.removeEventListener("dispose",It)};Ut.addEventListener("dispose",It),V.__depthDisposeCallback=It}V.__boundDepthTexture=Ut}if(W.depthTexture&&!V.__autoAllocateDepthBuffer){if(dt)throw new Error("target.depthTexture not supported in Cube render targets");$t(V.__webglFramebuffer,W)}else if(dt){V.__webglDepthbuffer=[];for(let Ut=0;Ut<6;Ut++)if(e.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer[Ut]),V.__webglDepthbuffer[Ut]===void 0)V.__webglDepthbuffer[Ut]=n.createRenderbuffer(),Wt(V.__webglDepthbuffer[Ut],W,!1);else{const It=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,jt=V.__webglDepthbuffer[Ut];n.bindRenderbuffer(n.RENDERBUFFER,jt),n.framebufferRenderbuffer(n.FRAMEBUFFER,It,n.RENDERBUFFER,jt)}}else if(e.bindFramebuffer(n.FRAMEBUFFER,V.__webglFramebuffer),V.__webglDepthbuffer===void 0)V.__webglDepthbuffer=n.createRenderbuffer(),Wt(V.__webglDepthbuffer,W,!1);else{const Ut=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,It=V.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,It),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ut,n.RENDERBUFFER,It)}e.bindFramebuffer(n.FRAMEBUFFER,null)}function ve(W,V,dt){const Ut=i.get(W);V!==void 0&&Pt(Ut.__webglFramebuffer,W,W.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),dt!==void 0&&we(W)}function Pe(W){const V=W.texture,dt=i.get(W),Ut=i.get(V);W.addEventListener("dispose",H);const It=W.textures,jt=W.isWebGLCubeRenderTarget===!0,ae=It.length>1;if(ae||(Ut.__webglTexture===void 0&&(Ut.__webglTexture=n.createTexture()),Ut.__version=V.version,c.memory.textures++),jt){dt.__webglFramebuffer=[];for(let Kt=0;Kt<6;Kt++)if(V.mipmaps&&V.mipmaps.length>0){dt.__webglFramebuffer[Kt]=[];for(let ne=0;ne<V.mipmaps.length;ne++)dt.__webglFramebuffer[Kt][ne]=n.createFramebuffer()}else dt.__webglFramebuffer[Kt]=n.createFramebuffer()}else{if(V.mipmaps&&V.mipmaps.length>0){dt.__webglFramebuffer=[];for(let Kt=0;Kt<V.mipmaps.length;Kt++)dt.__webglFramebuffer[Kt]=n.createFramebuffer()}else dt.__webglFramebuffer=n.createFramebuffer();if(ae)for(let Kt=0,ne=It.length;Kt<ne;Kt++){const Qe=i.get(It[Kt]);Qe.__webglTexture===void 0&&(Qe.__webglTexture=n.createTexture(),c.memory.textures++)}if(W.samples>0&&zt(W)===!1){dt.__webglMultisampledFramebuffer=n.createFramebuffer(),dt.__webglColorRenderbuffer=[],e.bindFramebuffer(n.FRAMEBUFFER,dt.__webglMultisampledFramebuffer);for(let Kt=0;Kt<It.length;Kt++){const ne=It[Kt];dt.__webglColorRenderbuffer[Kt]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,dt.__webglColorRenderbuffer[Kt]);const Qe=o.convert(ne.format,ne.colorSpace),Zt=o.convert(ne.type),fe=j(ne.internalFormat,Qe,Zt,ne.colorSpace,W.isXRRenderTarget===!0),ge=kt(W);n.renderbufferStorageMultisample(n.RENDERBUFFER,ge,fe,W.width,W.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Kt,n.RENDERBUFFER,dt.__webglColorRenderbuffer[Kt])}n.bindRenderbuffer(n.RENDERBUFFER,null),W.depthBuffer&&(dt.__webglDepthRenderbuffer=n.createRenderbuffer(),Wt(dt.__webglDepthRenderbuffer,W,!0)),e.bindFramebuffer(n.FRAMEBUFFER,null)}}if(jt){e.bindTexture(n.TEXTURE_CUBE_MAP,Ut.__webglTexture),St(n.TEXTURE_CUBE_MAP,V);for(let Kt=0;Kt<6;Kt++)if(V.mipmaps&&V.mipmaps.length>0)for(let ne=0;ne<V.mipmaps.length;ne++)Pt(dt.__webglFramebuffer[Kt][ne],W,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,ne);else Pt(dt.__webglFramebuffer[Kt],W,V,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Kt,0);C(V)&&T(n.TEXTURE_CUBE_MAP),e.unbindTexture()}else if(ae){for(let Kt=0,ne=It.length;Kt<ne;Kt++){const Qe=It[Kt],Zt=i.get(Qe);e.bindTexture(n.TEXTURE_2D,Zt.__webglTexture),St(n.TEXTURE_2D,Qe),Pt(dt.__webglFramebuffer,W,Qe,n.COLOR_ATTACHMENT0+Kt,n.TEXTURE_2D,0),C(Qe)&&T(n.TEXTURE_2D)}e.unbindTexture()}else{let Kt=n.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Kt=W.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),e.bindTexture(Kt,Ut.__webglTexture),St(Kt,V),V.mipmaps&&V.mipmaps.length>0)for(let ne=0;ne<V.mipmaps.length;ne++)Pt(dt.__webglFramebuffer[ne],W,V,n.COLOR_ATTACHMENT0,Kt,ne);else Pt(dt.__webglFramebuffer,W,V,n.COLOR_ATTACHMENT0,Kt,0);C(V)&&T(Kt),e.unbindTexture()}W.depthBuffer&&we(W)}function Ne(W){const V=W.textures;for(let dt=0,Ut=V.length;dt<Ut;dt++){const It=V[dt];if(C(It)){const jt=D(W),ae=i.get(It).__webglTexture;e.bindTexture(jt,ae),T(jt),e.unbindTexture()}}}const Be=[],et=[];function Ln(W){if(W.samples>0){if(zt(W)===!1){const V=W.textures,dt=W.width,Ut=W.height;let It=n.COLOR_BUFFER_BIT;const jt=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ae=i.get(W),Kt=V.length>1;if(Kt)for(let ne=0;ne<V.length;ne++)e.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.RENDERBUFFER,null),e.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.TEXTURE_2D,null,0);e.bindFramebuffer(n.READ_FRAMEBUFFER,ae.__webglMultisampledFramebuffer),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglFramebuffer);for(let ne=0;ne<V.length;ne++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(It|=n.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(It|=n.STENCIL_BUFFER_BIT)),Kt){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,ae.__webglColorRenderbuffer[ne]);const Qe=i.get(V[ne]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Qe,0)}n.blitFramebuffer(0,0,dt,Ut,0,0,dt,Ut,It,n.NEAREST),p===!0&&(Be.length=0,et.length=0,Be.push(n.COLOR_ATTACHMENT0+ne),W.depthBuffer&&W.resolveDepthBuffer===!1&&(Be.push(jt),et.push(jt),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,et)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Be))}if(e.bindFramebuffer(n.READ_FRAMEBUFFER,null),e.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Kt)for(let ne=0;ne<V.length;ne++){e.bindFramebuffer(n.FRAMEBUFFER,ae.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.RENDERBUFFER,ae.__webglColorRenderbuffer[ne]);const Qe=i.get(V[ne]).__webglTexture;e.bindFramebuffer(n.FRAMEBUFFER,ae.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+ne,n.TEXTURE_2D,Qe,0)}e.bindFramebuffer(n.DRAW_FRAMEBUFFER,ae.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&p){const V=W.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[V])}}}function kt(W){return Math.min(a.maxSamples,W.samples)}function zt(W){const V=i.get(W);return W.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&V.__useRenderToTexture!==!1}function Bt(W){const V=c.render.frame;y.get(W)!==V&&(y.set(W,V),W.update())}function ee(W,V){const dt=W.colorSpace,Ut=W.format,It=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||dt!==Zu&&dt!==_c&&(_n.getTransfer(dt)===Xn?(Ut!==$a||It!==No)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",dt)),V}function Nt(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(m.width=W.naturalWidth||W.width,m.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(m.width=W.displayWidth,m.height=W.displayHeight):(m.width=W.width,m.height=W.height),m}this.allocateTextureUnit=st,this.resetTextureUnits=ft,this.setTexture2D=bt,this.setTexture2DArray=F,this.setTexture3D=Z,this.setTextureCube=Q,this.rebindTextures=ve,this.setupRenderTarget=Pe,this.updateRenderTargetMipmap=Ne,this.updateMultisampleRenderTarget=Ln,this.setupDepthRenderbuffer=we,this.setupFrameBufferTexture=Pt,this.useMultisampledRTT=zt}function _j(n,t){function e(i,a=_c){let o;const c=_n.getTransfer(a);if(i===No)return n.UNSIGNED_BYTE;if(i===h_)return n.UNSIGNED_SHORT_4_4_4_4;if(i===f_)return n.UNSIGNED_SHORT_5_5_5_1;if(i===iE)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===eE)return n.BYTE;if(i===nE)return n.SHORT;if(i===Yp)return n.UNSIGNED_SHORT;if(i===d_)return n.INT;if(i===Cc)return n.UNSIGNED_INT;if(i===Kr)return n.FLOAT;if(i===lm)return n.HALF_FLOAT;if(i===aE)return n.ALPHA;if(i===rE)return n.RGB;if(i===$a)return n.RGBA;if(i===sE)return n.LUMINANCE;if(i===oE)return n.LUMINANCE_ALPHA;if(i===Zp)return n.DEPTH_COMPONENT;if(i===Kp)return n.DEPTH_STENCIL;if(i===p_)return n.RED;if(i===px)return n.RED_INTEGER;if(i===lE)return n.RG;if(i===m_)return n.RG_INTEGER;if(i===g_)return n.RGBA_INTEGER;if(i===Mg||i===Tg||i===Eg||i===wg)if(c===Xn)if(o=t.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(i===Mg)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===Tg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===Eg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===wg)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=t.get("WEBGL_compressed_texture_s3tc"),o!==null){if(i===Mg)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===Tg)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===Eg)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===wg)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===pb||i===mb||i===gb||i===xb)if(o=t.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(i===pb)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===mb)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===gb)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===xb)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===yb||i===vb||i===bb)if(o=t.get("WEBGL_compressed_texture_etc"),o!==null){if(i===yb||i===vb)return c===Xn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(i===bb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===_b||i===Sb||i===Mb||i===Tb||i===Eb||i===wb||i===Ab||i===Cb||i===Rb||i===Db||i===Ub||i===jb||i===Lb||i===Nb)if(o=t.get("WEBGL_compressed_texture_astc"),o!==null){if(i===_b)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===Sb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===Mb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===Tb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===Eb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===wb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===Ab)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===Cb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===Rb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===Db)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===Ub)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===jb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===Lb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===Nb)return c===Xn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===Ag||i===Ob||i===zb)if(o=t.get("EXT_texture_compression_bptc"),o!==null){if(i===Ag)return c===Xn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===Ob)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===zb)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===cE||i===Pb||i===Bb||i===Ib)if(o=t.get("EXT_texture_compression_rgtc"),o!==null){if(i===Ag)return o.COMPRESSED_RED_RGTC1_EXT;if(i===Pb)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===Bb)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Ib)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Wp?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:e}}const vH=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,bH=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class _H{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(t,e,i){if(this.texture===null){const a=new Li,o=t.properties.get(a);o.__webglTexture=e.texture,(e.depthNear!==i.depthNear||e.depthFar!==i.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=a}}getMesh(t){if(this.texture!==null&&this.mesh===null){const e=t.cameras[0].viewport,i=new Oo({vertexShader:vH,fragmentShader:bH,uniforms:{depthColor:{value:this.texture},depthWidth:{value:e.z},depthHeight:{value:e.w}}});this.mesh=new $i(new um(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class SH extends zl{constructor(t,e){super();const i=this;let a=null,o=1,c=null,h="local-floor",p=1,m=null,y=null,v=null,b=null,M=null,E=null;const R=new _H,C=e.getContextAttributes();let T=null,D=null;const j=[],N=[],B=new Gt;let P=null;const H=new Vi;H.viewport=new En;const k=new Vi;k.viewport=new En;const I=[H,k],z=new uj;let K=null,ft=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(rt){let Rt=j[rt];return Rt===void 0&&(Rt=new Y1,j[rt]=Rt),Rt.getTargetRaySpace()},this.getControllerGrip=function(rt){let Rt=j[rt];return Rt===void 0&&(Rt=new Y1,j[rt]=Rt),Rt.getGripSpace()},this.getHand=function(rt){let Rt=j[rt];return Rt===void 0&&(Rt=new Y1,j[rt]=Rt),Rt.getHandSpace()};function st(rt){const Rt=N.indexOf(rt.inputSource);if(Rt===-1)return;const Pt=j[Rt];Pt!==void 0&&(Pt.update(rt.inputSource,rt.frame,m||c),Pt.dispatchEvent({type:rt.type,data:rt.inputSource}))}function xt(){a.removeEventListener("select",st),a.removeEventListener("selectstart",st),a.removeEventListener("selectend",st),a.removeEventListener("squeeze",st),a.removeEventListener("squeezestart",st),a.removeEventListener("squeezeend",st),a.removeEventListener("end",xt),a.removeEventListener("inputsourceschange",bt);for(let rt=0;rt<j.length;rt++){const Rt=N[rt];Rt!==null&&(N[rt]=null,j[rt].disconnect(Rt))}K=null,ft=null,R.reset(),t.setRenderTarget(T),M=null,b=null,v=null,a=null,D=null,Lt.stop(),i.isPresenting=!1,t.setPixelRatio(P),t.setSize(B.width,B.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(rt){o=rt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(rt){h=rt,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return m||c},this.setReferenceSpace=function(rt){m=rt},this.getBaseLayer=function(){return b!==null?b:M},this.getBinding=function(){return v},this.getFrame=function(){return E},this.getSession=function(){return a},this.setSession=async function(rt){if(a=rt,a!==null){if(T=t.getRenderTarget(),a.addEventListener("select",st),a.addEventListener("selectstart",st),a.addEventListener("selectend",st),a.addEventListener("squeeze",st),a.addEventListener("squeezestart",st),a.addEventListener("squeezeend",st),a.addEventListener("end",xt),a.addEventListener("inputsourceschange",bt),C.xrCompatible!==!0&&await e.makeXRCompatible(),P=t.getPixelRatio(),t.getSize(B),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Pt=null,Wt=null,$t=null;C.depth&&($t=C.stencil?e.DEPTH24_STENCIL8:e.DEPTH_COMPONENT24,Pt=C.stencil?Kp:Zp,Wt=C.stencil?Wp:Cc);const we={colorFormat:e.RGBA8,depthFormat:$t,scaleFactor:o};v=new XRWebGLBinding(a,e),b=v.createProjectionLayer(we),a.updateRenderState({layers:[b]}),t.setPixelRatio(1),t.setSize(b.textureWidth,b.textureHeight,!1),D=new Ol(b.textureWidth,b.textureHeight,{format:$a,type:No,depthTexture:new vE(b.textureWidth,b.textureHeight,Wt,void 0,void 0,void 0,void 0,void 0,void 0,Pt),stencilBuffer:C.stencil,colorSpace:t.outputColorSpace,samples:C.antialias?4:0,resolveDepthBuffer:b.ignoreDepthValues===!1,resolveStencilBuffer:b.ignoreDepthValues===!1})}else{const Pt={antialias:C.antialias,alpha:!0,depth:C.depth,stencil:C.stencil,framebufferScaleFactor:o};M=new XRWebGLLayer(a,e,Pt),a.updateRenderState({baseLayer:M}),t.setPixelRatio(1),t.setSize(M.framebufferWidth,M.framebufferHeight,!1),D=new Ol(M.framebufferWidth,M.framebufferHeight,{format:$a,type:No,colorSpace:t.outputColorSpace,stencilBuffer:C.stencil,resolveDepthBuffer:M.ignoreDepthValues===!1,resolveStencilBuffer:M.ignoreDepthValues===!1})}D.isXRRenderTarget=!0,this.setFoveation(p),m=null,c=await a.requestReferenceSpace(h),Lt.setContext(a),Lt.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(a!==null)return a.environmentBlendMode},this.getDepthTexture=function(){return R.getDepthTexture()};function bt(rt){for(let Rt=0;Rt<rt.removed.length;Rt++){const Pt=rt.removed[Rt],Wt=N.indexOf(Pt);Wt>=0&&(N[Wt]=null,j[Wt].disconnect(Pt))}for(let Rt=0;Rt<rt.added.length;Rt++){const Pt=rt.added[Rt];let Wt=N.indexOf(Pt);if(Wt===-1){for(let we=0;we<j.length;we++)if(we>=N.length){N.push(Pt),Wt=we;break}else if(N[we]===null){N[we]=Pt,Wt=we;break}if(Wt===-1)break}const $t=j[Wt];$t&&$t.connect(Pt)}}const F=new J,Z=new J;function Q(rt,Rt,Pt){F.setFromMatrixPosition(Rt.matrixWorld),Z.setFromMatrixPosition(Pt.matrixWorld);const Wt=F.distanceTo(Z),$t=Rt.projectionMatrix.elements,we=Pt.projectionMatrix.elements,ve=$t[14]/($t[10]-1),Pe=$t[14]/($t[10]+1),Ne=($t[9]+1)/$t[5],Be=($t[9]-1)/$t[5],et=($t[8]-1)/$t[0],Ln=(we[8]+1)/we[0],kt=ve*et,zt=ve*Ln,Bt=Wt/(-et+Ln),ee=Bt*-et;if(Rt.matrixWorld.decompose(rt.position,rt.quaternion,rt.scale),rt.translateX(ee),rt.translateZ(Bt),rt.matrixWorld.compose(rt.position,rt.quaternion,rt.scale),rt.matrixWorldInverse.copy(rt.matrixWorld).invert(),$t[10]===-1)rt.projectionMatrix.copy(Rt.projectionMatrix),rt.projectionMatrixInverse.copy(Rt.projectionMatrixInverse);else{const Nt=ve+Bt,W=Pe+Bt,V=kt-ee,dt=zt+(Wt-ee),Ut=Ne*Pe/W*Nt,It=Be*Pe/W*Nt;rt.projectionMatrix.makePerspective(V,dt,Ut,It,Nt,W),rt.projectionMatrixInverse.copy(rt.projectionMatrix).invert()}}function ut(rt,Rt){Rt===null?rt.matrixWorld.copy(rt.matrix):rt.matrixWorld.multiplyMatrices(Rt.matrixWorld,rt.matrix),rt.matrixWorldInverse.copy(rt.matrixWorld).invert()}this.updateCamera=function(rt){if(a===null)return;let Rt=rt.near,Pt=rt.far;R.texture!==null&&(R.depthNear>0&&(Rt=R.depthNear),R.depthFar>0&&(Pt=R.depthFar)),z.near=k.near=H.near=Rt,z.far=k.far=H.far=Pt,(K!==z.near||ft!==z.far)&&(a.updateRenderState({depthNear:z.near,depthFar:z.far}),K=z.near,ft=z.far),H.layers.mask=rt.layers.mask|2,k.layers.mask=rt.layers.mask|4,z.layers.mask=H.layers.mask|k.layers.mask;const Wt=rt.parent,$t=z.cameras;ut(z,Wt);for(let we=0;we<$t.length;we++)ut($t[we],Wt);$t.length===2?Q(z,H,k):z.projectionMatrix.copy(H.projectionMatrix),q(rt,z,Wt)};function q(rt,Rt,Pt){Pt===null?rt.matrix.copy(Rt.matrixWorld):(rt.matrix.copy(Pt.matrixWorld),rt.matrix.invert(),rt.matrix.multiply(Rt.matrixWorld)),rt.matrix.decompose(rt.position,rt.quaternion,rt.scale),rt.updateMatrixWorld(!0),rt.projectionMatrix.copy(Rt.projectionMatrix),rt.projectionMatrixInverse.copy(Rt.projectionMatrixInverse),rt.isPerspectiveCamera&&(rt.fov=Qp*2*Math.atan(1/rt.projectionMatrix.elements[5]),rt.zoom=1)}this.getCamera=function(){return z},this.getFoveation=function(){if(!(b===null&&M===null))return p},this.setFoveation=function(rt){p=rt,b!==null&&(b.fixedFoveation=rt),M!==null&&M.fixedFoveation!==void 0&&(M.fixedFoveation=rt)},this.hasDepthSensing=function(){return R.texture!==null},this.getDepthSensingMesh=function(){return R.getMesh(z)};let it=null;function St(rt,Rt){if(y=Rt.getViewerPose(m||c),E=Rt,y!==null){const Pt=y.views;M!==null&&(t.setRenderTargetFramebuffer(D,M.framebuffer),t.setRenderTarget(D));let Wt=!1;Pt.length!==z.cameras.length&&(z.cameras.length=0,Wt=!0);for(let ve=0;ve<Pt.length;ve++){const Pe=Pt[ve];let Ne=null;if(M!==null)Ne=M.getViewport(Pe);else{const et=v.getViewSubImage(b,Pe);Ne=et.viewport,ve===0&&(t.setRenderTargetTextures(D,et.colorTexture,et.depthStencilTexture),t.setRenderTarget(D))}let Be=I[ve];Be===void 0&&(Be=new Vi,Be.layers.enable(ve),Be.viewport=new En,I[ve]=Be),Be.matrix.fromArray(Pe.transform.matrix),Be.matrix.decompose(Be.position,Be.quaternion,Be.scale),Be.projectionMatrix.fromArray(Pe.projectionMatrix),Be.projectionMatrixInverse.copy(Be.projectionMatrix).invert(),Be.viewport.set(Ne.x,Ne.y,Ne.width,Ne.height),ve===0&&(z.matrix.copy(Be.matrix),z.matrix.decompose(z.position,z.quaternion,z.scale)),Wt===!0&&z.cameras.push(Be)}const $t=a.enabledFeatures;if($t&&$t.includes("depth-sensing")&&a.depthUsage=="gpu-optimized"&&v){const ve=v.getDepthInformation(Pt[0]);ve&&ve.isValid&&ve.texture&&R.init(t,ve,a.renderState)}}for(let Pt=0;Pt<j.length;Pt++){const Wt=N[Pt],$t=j[Pt];Wt!==null&&$t!==void 0&&$t.update(Wt,Rt,m||c)}it&&it(rt,Rt),Rt.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:Rt}),E=null}const Lt=new gj;Lt.setAnimationLoop(St),this.setAnimationLoop=function(rt){it=rt},this.dispose=function(){}}}const lh=new bs,MH=new Ve;function TH(n,t){function e(C,T){C.matrixAutoUpdate===!0&&C.updateMatrix(),T.value.copy(C.matrix)}function i(C,T){T.color.getRGB(C.fogColor.value,mU(n)),T.isFog?(C.fogNear.value=T.near,C.fogFar.value=T.far):T.isFogExp2&&(C.fogDensity.value=T.density)}function a(C,T,D,j,N){T.isMeshBasicMaterial||T.isMeshLambertMaterial?o(C,T):T.isMeshToonMaterial?(o(C,T),v(C,T)):T.isMeshPhongMaterial?(o(C,T),y(C,T)):T.isMeshStandardMaterial?(o(C,T),b(C,T),T.isMeshPhysicalMaterial&&M(C,T,N)):T.isMeshMatcapMaterial?(o(C,T),E(C,T)):T.isMeshDepthMaterial?o(C,T):T.isMeshDistanceMaterial?(o(C,T),R(C,T)):T.isMeshNormalMaterial?o(C,T):T.isLineBasicMaterial?(c(C,T),T.isLineDashedMaterial&&h(C,T)):T.isPointsMaterial?p(C,T,D,j):T.isSpriteMaterial?m(C,T):T.isShadowMaterial?(C.color.value.copy(T.color),C.opacity.value=T.opacity):T.isShaderMaterial&&(T.uniformsNeedUpdate=!1)}function o(C,T){C.opacity.value=T.opacity,T.color&&C.diffuse.value.copy(T.color),T.emissive&&C.emissive.value.copy(T.emissive).multiplyScalar(T.emissiveIntensity),T.map&&(C.map.value=T.map,e(T.map,C.mapTransform)),T.alphaMap&&(C.alphaMap.value=T.alphaMap,e(T.alphaMap,C.alphaMapTransform)),T.bumpMap&&(C.bumpMap.value=T.bumpMap,e(T.bumpMap,C.bumpMapTransform),C.bumpScale.value=T.bumpScale,T.side===Ar&&(C.bumpScale.value*=-1)),T.normalMap&&(C.normalMap.value=T.normalMap,e(T.normalMap,C.normalMapTransform),C.normalScale.value.copy(T.normalScale),T.side===Ar&&C.normalScale.value.negate()),T.displacementMap&&(C.displacementMap.value=T.displacementMap,e(T.displacementMap,C.displacementMapTransform),C.displacementScale.value=T.displacementScale,C.displacementBias.value=T.displacementBias),T.emissiveMap&&(C.emissiveMap.value=T.emissiveMap,e(T.emissiveMap,C.emissiveMapTransform)),T.specularMap&&(C.specularMap.value=T.specularMap,e(T.specularMap,C.specularMapTransform)),T.alphaTest>0&&(C.alphaTest.value=T.alphaTest);const D=t.get(T),j=D.envMap,N=D.envMapRotation;j&&(C.envMap.value=j,lh.copy(N),lh.x*=-1,lh.y*=-1,lh.z*=-1,j.isCubeTexture&&j.isRenderTargetTexture===!1&&(lh.y*=-1,lh.z*=-1),C.envMapRotation.value.setFromMatrix4(MH.makeRotationFromEuler(lh)),C.flipEnvMap.value=j.isCubeTexture&&j.isRenderTargetTexture===!1?-1:1,C.reflectivity.value=T.reflectivity,C.ior.value=T.ior,C.refractionRatio.value=T.refractionRatio),T.lightMap&&(C.lightMap.value=T.lightMap,C.lightMapIntensity.value=T.lightMapIntensity,e(T.lightMap,C.lightMapTransform)),T.aoMap&&(C.aoMap.value=T.aoMap,C.aoMapIntensity.value=T.aoMapIntensity,e(T.aoMap,C.aoMapTransform))}function c(C,T){C.diffuse.value.copy(T.color),C.opacity.value=T.opacity,T.map&&(C.map.value=T.map,e(T.map,C.mapTransform))}function h(C,T){C.dashSize.value=T.dashSize,C.totalSize.value=T.dashSize+T.gapSize,C.scale.value=T.scale}function p(C,T,D,j){C.diffuse.value.copy(T.color),C.opacity.value=T.opacity,C.size.value=T.size*D,C.scale.value=j*.5,T.map&&(C.map.value=T.map,e(T.map,C.uvTransform)),T.alphaMap&&(C.alphaMap.value=T.alphaMap,e(T.alphaMap,C.alphaMapTransform)),T.alphaTest>0&&(C.alphaTest.value=T.alphaTest)}function m(C,T){C.diffuse.value.copy(T.color),C.opacity.value=T.opacity,C.rotation.value=T.rotation,T.map&&(C.map.value=T.map,e(T.map,C.mapTransform)),T.alphaMap&&(C.alphaMap.value=T.alphaMap,e(T.alphaMap,C.alphaMapTransform)),T.alphaTest>0&&(C.alphaTest.value=T.alphaTest)}function y(C,T){C.specular.value.copy(T.specular),C.shininess.value=Math.max(T.shininess,1e-4)}function v(C,T){T.gradientMap&&(C.gradientMap.value=T.gradientMap)}function b(C,T){C.metalness.value=T.metalness,T.metalnessMap&&(C.metalnessMap.value=T.metalnessMap,e(T.metalnessMap,C.metalnessMapTransform)),C.roughness.value=T.roughness,T.roughnessMap&&(C.roughnessMap.value=T.roughnessMap,e(T.roughnessMap,C.roughnessMapTransform)),T.envMap&&(C.envMapIntensity.value=T.envMapIntensity)}function M(C,T,D){C.ior.value=T.ior,T.sheen>0&&(C.sheenColor.value.copy(T.sheenColor).multiplyScalar(T.sheen),C.sheenRoughness.value=T.sheenRoughness,T.sheenColorMap&&(C.sheenColorMap.value=T.sheenColorMap,e(T.sheenColorMap,C.sheenColorMapTransform)),T.sheenRoughnessMap&&(C.sheenRoughnessMap.value=T.sheenRoughnessMap,e(T.sheenRoughnessMap,C.sheenRoughnessMapTransform))),T.clearcoat>0&&(C.clearcoat.value=T.clearcoat,C.clearcoatRoughness.value=T.clearcoatRoughness,T.clearcoatMap&&(C.clearcoatMap.value=T.clearcoatMap,e(T.clearcoatMap,C.clearcoatMapTransform)),T.clearcoatRoughnessMap&&(C.clearcoatRoughnessMap.value=T.clearcoatRoughnessMap,e(T.clearcoatRoughnessMap,C.clearcoatRoughnessMapTransform)),T.clearcoatNormalMap&&(C.clearcoatNormalMap.value=T.clearcoatNormalMap,e(T.clearcoatNormalMap,C.clearcoatNormalMapTransform),C.clearcoatNormalScale.value.copy(T.clearcoatNormalScale),T.side===Ar&&C.clearcoatNormalScale.value.negate())),T.dispersion>0&&(C.dispersion.value=T.dispersion),T.iridescence>0&&(C.iridescence.value=T.iridescence,C.iridescenceIOR.value=T.iridescenceIOR,C.iridescenceThicknessMinimum.value=T.iridescenceThicknessRange[0],C.iridescenceThicknessMaximum.value=T.iridescenceThicknessRange[1],T.iridescenceMap&&(C.iridescenceMap.value=T.iridescenceMap,e(T.iridescenceMap,C.iridescenceMapTransform)),T.iridescenceThicknessMap&&(C.iridescenceThicknessMap.value=T.iridescenceThicknessMap,e(T.iridescenceThicknessMap,C.iridescenceThicknessMapTransform))),T.transmission>0&&(C.transmission.value=T.transmission,C.transmissionSamplerMap.value=D.texture,C.transmissionSamplerSize.value.set(D.width,D.height),T.transmissionMap&&(C.transmissionMap.value=T.transmissionMap,e(T.transmissionMap,C.transmissionMapTransform)),C.thickness.value=T.thickness,T.thicknessMap&&(C.thicknessMap.value=T.thicknessMap,e(T.thicknessMap,C.thicknessMapTransform)),C.attenuationDistance.value=T.attenuationDistance,C.attenuationColor.value.copy(T.attenuationColor)),T.anisotropy>0&&(C.anisotropyVector.value.set(T.anisotropy*Math.cos(T.anisotropyRotation),T.anisotropy*Math.sin(T.anisotropyRotation)),T.anisotropyMap&&(C.anisotropyMap.value=T.anisotropyMap,e(T.anisotropyMap,C.anisotropyMapTransform))),C.specularIntensity.value=T.specularIntensity,C.specularColor.value.copy(T.specularColor),T.specularColorMap&&(C.specularColorMap.value=T.specularColorMap,e(T.specularColorMap,C.specularColorMapTransform)),T.specularIntensityMap&&(C.specularIntensityMap.value=T.specularIntensityMap,e(T.specularIntensityMap,C.specularIntensityMapTransform))}function E(C,T){T.matcap&&(C.matcap.value=T.matcap)}function R(C,T){const D=t.get(T).light;C.referencePosition.value.setFromMatrixPosition(D.matrixWorld),C.nearDistance.value=D.shadow.camera.near,C.farDistance.value=D.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:a}}function EH(n,t,e,i){let a={},o={},c=[];const h=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function p(D,j){const N=j.program;i.uniformBlockBinding(D,N)}function m(D,j){let N=a[D.id];N===void 0&&(E(D),N=y(D),a[D.id]=N,D.addEventListener("dispose",C));const B=j.program;i.updateUBOMapping(D,B);const P=t.render.frame;o[D.id]!==P&&(b(D),o[D.id]=P)}function y(D){const j=v();D.__bindingPointIndex=j;const N=n.createBuffer(),B=D.__size,P=D.usage;return n.bindBuffer(n.UNIFORM_BUFFER,N),n.bufferData(n.UNIFORM_BUFFER,B,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,j,N),N}function v(){for(let D=0;D<h;D++)if(c.indexOf(D)===-1)return c.push(D),D;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function b(D){const j=a[D.id],N=D.uniforms,B=D.__cache;n.bindBuffer(n.UNIFORM_BUFFER,j);for(let P=0,H=N.length;P<H;P++){const k=Array.isArray(N[P])?N[P]:[N[P]];for(let I=0,z=k.length;I<z;I++){const K=k[I];if(M(K,P,I,B)===!0){const ft=K.__offset,st=Array.isArray(K.value)?K.value:[K.value];let xt=0;for(let bt=0;bt<st.length;bt++){const F=st[bt],Z=R(F);typeof F=="number"||typeof F=="boolean"?(K.__data[0]=F,n.bufferSubData(n.UNIFORM_BUFFER,ft+xt,K.__data)):F.isMatrix3?(K.__data[0]=F.elements[0],K.__data[1]=F.elements[1],K.__data[2]=F.elements[2],K.__data[3]=0,K.__data[4]=F.elements[3],K.__data[5]=F.elements[4],K.__data[6]=F.elements[5],K.__data[7]=0,K.__data[8]=F.elements[6],K.__data[9]=F.elements[7],K.__data[10]=F.elements[8],K.__data[11]=0):(F.toArray(K.__data,xt),xt+=Z.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,ft,K.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function M(D,j,N,B){const P=D.value,H=j+"_"+N;if(B[H]===void 0)return typeof P=="number"||typeof P=="boolean"?B[H]=P:B[H]=P.clone(),!0;{const k=B[H];if(typeof P=="number"||typeof P=="boolean"){if(k!==P)return B[H]=P,!0}else if(k.equals(P)===!1)return k.copy(P),!0}return!1}function E(D){const j=D.uniforms;let N=0;const B=16;for(let H=0,k=j.length;H<k;H++){const I=Array.isArray(j[H])?j[H]:[j[H]];for(let z=0,K=I.length;z<K;z++){const ft=I[z],st=Array.isArray(ft.value)?ft.value:[ft.value];for(let xt=0,bt=st.length;xt<bt;xt++){const F=st[xt],Z=R(F),Q=N%B,ut=Q%Z.boundary,q=Q+ut;N+=ut,q!==0&&B-q<Z.storage&&(N+=B-q),ft.__data=new Float32Array(Z.storage/Float32Array.BYTES_PER_ELEMENT),ft.__offset=N,N+=Z.storage}}}const P=N%B;return P>0&&(N+=B-P),D.__size=N,D.__cache={},this}function R(D){const j={boundary:0,storage:0};return typeof D=="number"||typeof D=="boolean"?(j.boundary=4,j.storage=4):D.isVector2?(j.boundary=8,j.storage=8):D.isVector3||D.isColor?(j.boundary=16,j.storage=12):D.isVector4?(j.boundary=16,j.storage=16):D.isMatrix3?(j.boundary=48,j.storage=48):D.isMatrix4?(j.boundary=64,j.storage=64):D.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",D),j}function C(D){const j=D.target;j.removeEventListener("dispose",C);const N=c.indexOf(j.__bindingPointIndex);c.splice(N,1),n.deleteBuffer(a[j.id]),delete a[j.id],delete o[j.id]}function T(){for(const D in a)n.deleteBuffer(a[D]);c=[],a={},o={}}return{bind:p,update:m,dispose:T}}class Sj{constructor(t={}){const{canvas:e=hU(),context:i=null,depth:a=!0,stencil:o=!1,alpha:c=!1,antialias:h=!1,premultipliedAlpha:p=!0,preserveDrawingBuffer:m=!1,powerPreference:y="default",failIfMajorPerformanceCaveat:v=!1,reverseDepthBuffer:b=!1}=t;this.isWebGLRenderer=!0;let M;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");M=i.getContextAttributes().alpha}else M=c;const E=new Uint32Array(4),R=new Int32Array(4);let C=null,T=null;const D=[],j=[];this.domElement=e,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Cl,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const N=this;let B=!1;this._outputColorSpace=Qa;let P=0,H=0,k=null,I=-1,z=null;const K=new En,ft=new En;let st=null;const xt=new he(0);let bt=0,F=e.width,Z=e.height,Q=1,ut=null,q=null;const it=new En(0,0,F,Z),St=new En(0,0,F,Z);let Lt=!1;const rt=new xx;let Rt=!1,Pt=!1;const Wt=new Ve,$t=new Ve,we=new J,ve=new En,Pe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let Ne=!1;function Be(){return k===null?Q:1}let et=i;function Ln(X,ct){return e.getContext(X,ct)}try{const X={alpha:!0,depth:a,stencil:o,antialias:h,premultipliedAlpha:p,preserveDrawingBuffer:m,powerPreference:y,failIfMajorPerformanceCaveat:v};if("setAttribute"in e&&e.setAttribute("data-engine",`three.js r${l_}`),e.addEventListener("webglcontextlost",Ft,!1),e.addEventListener("webglcontextrestored",ce,!1),e.addEventListener("webglcontextcreationerror",oe,!1),et===null){const ct="webgl2";if(et=Ln(ct,X),et===null)throw Ln(ct)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(X){throw console.error("THREE.WebGLRenderer: "+X.message),X}let kt,zt,Bt,ee,Nt,W,V,dt,Ut,It,jt,ae,Kt,ne,Qe,Zt,fe,ge,xe,ie,at,Ot,se,nt;function Qt(){kt=new PF(et),kt.init(),Ot=new _j(et,kt),zt=new DF(et,kt,t,Ot),Bt=new xH(et,kt),zt.reverseDepthBuffer&&b&&Bt.buffers.depth.setReversed(!0),ee=new FF(et),Nt=new aH,W=new yH(et,kt,Bt,Nt,zt,Ot,ee),V=new jF(N),dt=new zF(N),Ut=new q6(et),se=new CF(et,Ut),It=new BF(et,Ut,ee,se),jt=new HF(et,It,Ut,ee),xe=new VF(et,zt,W),Zt=new UF(Nt),ae=new iH(N,V,dt,kt,zt,se,Zt),Kt=new TH(N,Nt),ne=new sH,Qe=new hH(kt),ge=new AF(N,V,dt,Bt,jt,M,p),fe=new mH(N,jt,zt),nt=new EH(et,ee,zt,Bt),ie=new RF(et,kt,ee),at=new IF(et,kt,ee),ee.programs=ae.programs,N.capabilities=zt,N.extensions=kt,N.properties=Nt,N.renderLists=ne,N.shadowMap=fe,N.state=Bt,N.info=ee}Qt();const Dt=new SH(N,et);this.xr=Dt,this.getContext=function(){return et},this.getContextAttributes=function(){return et.getContextAttributes()},this.forceContextLoss=function(){const X=kt.get("WEBGL_lose_context");X&&X.loseContext()},this.forceContextRestore=function(){const X=kt.get("WEBGL_lose_context");X&&X.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(X){X!==void 0&&(Q=X,this.setSize(F,Z,!1))},this.getSize=function(X){return X.set(F,Z)},this.setSize=function(X,ct,Et=!0){if(Dt.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}F=X,Z=ct,e.width=Math.floor(X*Q),e.height=Math.floor(ct*Q),Et===!0&&(e.style.width=X+"px",e.style.height=ct+"px"),this.setViewport(0,0,X,ct)},this.getDrawingBufferSize=function(X){return X.set(F*Q,Z*Q).floor()},this.setDrawingBufferSize=function(X,ct,Et){F=X,Z=ct,Q=Et,e.width=Math.floor(X*Et),e.height=Math.floor(ct*Et),this.setViewport(0,0,X,ct)},this.getCurrentViewport=function(X){return X.copy(K)},this.getViewport=function(X){return X.copy(it)},this.setViewport=function(X,ct,Et,wt){X.isVector4?it.set(X.x,X.y,X.z,X.w):it.set(X,ct,Et,wt),Bt.viewport(K.copy(it).multiplyScalar(Q).round())},this.getScissor=function(X){return X.copy(St)},this.setScissor=function(X,ct,Et,wt){X.isVector4?St.set(X.x,X.y,X.z,X.w):St.set(X,ct,Et,wt),Bt.scissor(ft.copy(St).multiplyScalar(Q).round())},this.getScissorTest=function(){return Lt},this.setScissorTest=function(X){Bt.setScissorTest(Lt=X)},this.setOpaqueSort=function(X){ut=X},this.setTransparentSort=function(X){q=X},this.getClearColor=function(X){return X.copy(ge.getClearColor())},this.setClearColor=function(){ge.setClearColor(...arguments)},this.getClearAlpha=function(){return ge.getClearAlpha()},this.setClearAlpha=function(){ge.setClearAlpha(...arguments)},this.clear=function(X=!0,ct=!0,Et=!0){let wt=0;if(X){let pt=!1;if(k!==null){const Yt=k.texture.format;pt=Yt===g_||Yt===m_||Yt===px}if(pt){const Yt=k.texture.type,re=Yt===No||Yt===Cc||Yt===Yp||Yt===Wp||Yt===h_||Yt===f_,le=ge.getClearColor(),me=ge.getClearAlpha(),je=le.r,Ee=le.g,_e=le.b;re?(E[0]=je,E[1]=Ee,E[2]=_e,E[3]=me,et.clearBufferuiv(et.COLOR,0,E)):(R[0]=je,R[1]=Ee,R[2]=_e,R[3]=me,et.clearBufferiv(et.COLOR,0,R))}else wt|=et.COLOR_BUFFER_BIT}ct&&(wt|=et.DEPTH_BUFFER_BIT),Et&&(wt|=et.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),et.clear(wt)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",Ft,!1),e.removeEventListener("webglcontextrestored",ce,!1),e.removeEventListener("webglcontextcreationerror",oe,!1),ge.dispose(),ne.dispose(),Qe.dispose(),Nt.dispose(),V.dispose(),dt.dispose(),jt.dispose(),se.dispose(),nt.dispose(),ae.dispose(),Dt.dispose(),Dt.removeEventListener("sessionstart",Ei),Dt.removeEventListener("sessionend",Ni),fa.stop()};function Ft(X){X.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function ce(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const X=ee.autoReset,ct=fe.enabled,Et=fe.autoUpdate,wt=fe.needsUpdate,pt=fe.type;Qt(),ee.autoReset=X,fe.enabled=ct,fe.autoUpdate=Et,fe.needsUpdate=wt,fe.type=pt}function oe(X){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",X.statusMessage)}function Me(X){const ct=X.target;ct.removeEventListener("dispose",Me),tn(ct)}function tn(X){An(X),Nt.remove(X)}function An(X){const ct=Nt.get(X).programs;ct!==void 0&&(ct.forEach(function(Et){ae.releaseProgram(Et)}),X.isShaderMaterial&&ae.releaseShaderCache(X))}this.renderBufferDirect=function(X,ct,Et,wt,pt,Yt){ct===null&&(ct=Pe);const re=pt.isMesh&&pt.matrixWorld.determinant()<0,le=Po(X,ct,Et,wt,pt);Bt.setMaterial(wt,re);let me=Et.index,je=1;if(wt.wireframe===!0){if(me=It.getWireframeAttribute(Et),me===void 0)return;je=2}const Ee=Et.drawRange,_e=Et.attributes.position;let rn=Ee.start*je,yn=(Ee.start+Ee.count)*je;Yt!==null&&(rn=Math.max(rn,Yt.start*je),yn=Math.min(yn,(Yt.start+Yt.count)*je)),me!==null?(rn=Math.max(rn,0),yn=Math.min(yn,me.count)):_e!=null&&(rn=Math.max(rn,0),yn=Math.min(yn,_e.count));const ii=yn-rn;if(ii<0||ii===1/0)return;se.setup(pt,wt,le,Et,me);let ln,dn=ie;if(me!==null&&(ln=Ut.get(me),dn=at,dn.setIndex(ln)),pt.isMesh)wt.wireframe===!0?(Bt.setLineWidth(wt.wireframeLinewidth*Be()),dn.setMode(et.LINES)):dn.setMode(et.TRIANGLES);else if(pt.isLine){let Ae=wt.linewidth;Ae===void 0&&(Ae=1),Bt.setLineWidth(Ae*Be()),pt.isLineSegments?dn.setMode(et.LINES):pt.isLineLoop?dn.setMode(et.LINE_LOOP):dn.setMode(et.LINE_STRIP)}else pt.isPoints?dn.setMode(et.POINTS):pt.isSprite&&dn.setMode(et.TRIANGLES);if(pt.isBatchedMesh)if(pt._multiDrawInstances!==null)q1("THREE.WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),dn.renderMultiDrawInstances(pt._multiDrawStarts,pt._multiDrawCounts,pt._multiDrawCount,pt._multiDrawInstances);else if(kt.get("WEBGL_multi_draw"))dn.renderMultiDraw(pt._multiDrawStarts,pt._multiDrawCounts,pt._multiDrawCount);else{const Ae=pt._multiDrawStarts,si=pt._multiDrawCounts,gn=pt._multiDrawCount,ta=me?Ut.get(me).bytesPerElement:1,_s=Nt.get(wt).currentProgram.getUniforms();for(let Fn=0;Fn<gn;Fn++)_s.setValue(et,"_gl_DrawID",Fn),dn.render(Ae[Fn]/ta,si[Fn])}else if(pt.isInstancedMesh)dn.renderInstances(rn,ii,pt.count);else if(Et.isInstancedBufferGeometry){const Ae=Et._maxInstanceCount!==void 0?Et._maxInstanceCount:1/0,si=Math.min(Et.instanceCount,Ae);dn.renderInstances(rn,ii,si)}else dn.render(rn,ii)};function We(X,ct,Et){X.transparent===!0&&X.side===wl&&X.forceSinglePass===!1?(X.side=Ar,X.needsUpdate=!0,zn(X,ct,Et),X.side=wc,X.needsUpdate=!0,zn(X,ct,Et),X.side=wl):zn(X,ct,Et)}this.compile=function(X,ct,Et=null){Et===null&&(Et=X),T=Qe.get(Et),T.init(ct),j.push(T),Et.traverseVisible(function(pt){pt.isLight&&pt.layers.test(ct.layers)&&(T.pushLight(pt),pt.castShadow&&T.pushShadow(pt))}),X!==Et&&X.traverseVisible(function(pt){pt.isLight&&pt.layers.test(ct.layers)&&(T.pushLight(pt),pt.castShadow&&T.pushShadow(pt))}),T.setupLights();const wt=new Set;return X.traverse(function(pt){if(!(pt.isMesh||pt.isPoints||pt.isLine||pt.isSprite))return;const Yt=pt.material;if(Yt)if(Array.isArray(Yt))for(let re=0;re<Yt.length;re++){const le=Yt[re];We(le,Et,pt),wt.add(le)}else We(Yt,Et,pt),wt.add(Yt)}),T=j.pop(),wt},this.compileAsync=function(X,ct,Et=null){const wt=this.compile(X,ct,Et);return new Promise(pt=>{function Yt(){if(wt.forEach(function(re){Nt.get(re).currentProgram.isReady()&&wt.delete(re)}),wt.size===0){pt(X);return}setTimeout(Yt,10)}kt.get("KHR_parallel_shader_compile")!==null?Yt():setTimeout(Yt,10)})};let Ti=null;function ni(X){Ti&&Ti(X)}function Ei(){fa.stop()}function Ni(){fa.start()}const fa=new gj;fa.setAnimationLoop(ni),typeof self<"u"&&fa.setContext(self),this.setAnimationLoop=function(X){Ti=X,Dt.setAnimationLoop(X),X===null?fa.stop():fa.start()},Dt.addEventListener("sessionstart",Ei),Dt.addEventListener("sessionend",Ni),this.render=function(X,ct){if(ct!==void 0&&ct.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;if(X.matrixWorldAutoUpdate===!0&&X.updateMatrixWorld(),ct.parent===null&&ct.matrixWorldAutoUpdate===!0&&ct.updateMatrixWorld(),Dt.enabled===!0&&Dt.isPresenting===!0&&(Dt.cameraAutoUpdate===!0&&Dt.updateCamera(ct),ct=Dt.getCamera()),X.isScene===!0&&X.onBeforeRender(N,X,ct,k),T=Qe.get(X,j.length),T.init(ct),j.push(T),$t.multiplyMatrices(ct.projectionMatrix,ct.matrixWorldInverse),rt.setFromProjectionMatrix($t),Pt=this.localClippingEnabled,Rt=Zt.init(this.clippingPlanes,Pt),C=ne.get(X,D.length),C.init(),D.push(C),Dt.enabled===!0&&Dt.isPresenting===!0){const Yt=N.xr.getDepthSensingMesh();Yt!==null&&Pa(Yt,ct,-1/0,N.sortObjects)}Pa(X,ct,0,N.sortObjects),C.finish(),N.sortObjects===!0&&C.sort(ut,q),Ne=Dt.enabled===!1||Dt.isPresenting===!1||Dt.hasDepthSensing()===!1,Ne&&ge.addToRenderList(C,X),this.info.render.frame++,Rt===!0&&Zt.beginShadows();const Et=T.state.shadowsArray;fe.render(Et,X,ct),Rt===!0&&Zt.endShadows(),this.info.autoReset===!0&&this.info.reset();const wt=C.opaque,pt=C.transmissive;if(T.setupLights(),ct.isArrayCamera){const Yt=ct.cameras;if(pt.length>0)for(let re=0,le=Yt.length;re<le;re++){const me=Yt[re];Jr(wt,pt,X,me)}Ne&&ge.render(X);for(let re=0,le=Yt.length;re<le;re++){const me=Yt[re];ad(C,X,me,me.viewport)}}else pt.length>0&&Jr(wt,pt,X,ct),Ne&&ge.render(X),ad(C,X,ct);k!==null&&H===0&&(W.updateMultisampleRenderTarget(k),W.updateRenderTargetMipmap(k)),X.isScene===!0&&X.onAfterRender(N,X,ct),se.resetDefaultState(),I=-1,z=null,j.pop(),j.length>0?(T=j[j.length-1],Rt===!0&&Zt.setGlobalState(N.clippingPlanes,T.state.camera)):T=null,D.pop(),D.length>0?C=D[D.length-1]:C=null};function Pa(X,ct,Et,wt){if(X.visible===!1)return;if(X.layers.test(ct.layers)){if(X.isGroup)Et=X.renderOrder;else if(X.isLOD)X.autoUpdate===!0&&X.update(ct);else if(X.isLight)T.pushLight(X),X.castShadow&&T.pushShadow(X);else if(X.isSprite){if(!X.frustumCulled||rt.intersectsSprite(X)){wt&&ve.setFromMatrixPosition(X.matrixWorld).applyMatrix4($t);const re=jt.update(X),le=X.material;le.visible&&C.push(X,re,le,Et,ve.z,null)}}else if((X.isMesh||X.isLine||X.isPoints)&&(!X.frustumCulled||rt.intersectsObject(X))){const re=jt.update(X),le=X.material;if(wt&&(X.boundingSphere!==void 0?(X.boundingSphere===null&&X.computeBoundingSphere(),ve.copy(X.boundingSphere.center)):(re.boundingSphere===null&&re.computeBoundingSphere(),ve.copy(re.boundingSphere.center)),ve.applyMatrix4(X.matrixWorld).applyMatrix4($t)),Array.isArray(le)){const me=re.groups;for(let je=0,Ee=me.length;je<Ee;je++){const _e=me[je],rn=le[_e.materialIndex];rn&&rn.visible&&C.push(X,re,rn,Et,ve.z,_e)}}else le.visible&&C.push(X,re,le,Et,ve.z,null)}}const Yt=X.children;for(let re=0,le=Yt.length;re<le;re++)Pa(Yt[re],ct,Et,wt)}function ad(X,ct,Et,wt){const pt=X.opaque,Yt=X.transmissive,re=X.transparent;T.setupLightsView(Et),Rt===!0&&Zt.setGlobalState(N.clippingPlanes,Et),wt&&Bt.viewport(K.copy(wt)),pt.length>0&&Sa(pt,ct,Et),Yt.length>0&&Sa(Yt,ct,Et),re.length>0&&Sa(re,ct,Et),Bt.buffers.depth.setTest(!0),Bt.buffers.depth.setMask(!0),Bt.buffers.color.setMask(!0),Bt.setPolygonOffset(!1)}function Jr(X,ct,Et,wt){if((Et.isScene===!0?Et.overrideMaterial:null)!==null)return;T.state.transmissionRenderTarget[wt.id]===void 0&&(T.state.transmissionRenderTarget[wt.id]=new Ol(1,1,{generateMipmaps:!0,type:kt.has("EXT_color_buffer_half_float")||kt.has("EXT_color_buffer_float")?lm:No,minFilter:Al,samples:4,stencilBuffer:o,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:_n.workingColorSpace}));const Yt=T.state.transmissionRenderTarget[wt.id],re=wt.viewport||K;Yt.setSize(re.z*N.transmissionResolutionScale,re.w*N.transmissionResolutionScale);const le=N.getRenderTarget();N.setRenderTarget(Yt),N.getClearColor(xt),bt=N.getClearAlpha(),bt<1&&N.setClearColor(16777215,.5),N.clear(),Ne&&ge.render(Et);const me=N.toneMapping;N.toneMapping=Cl;const je=wt.viewport;if(wt.viewport!==void 0&&(wt.viewport=void 0),T.setupLightsView(wt),Rt===!0&&Zt.setGlobalState(N.clippingPlanes,wt),Sa(X,Et,wt),W.updateMultisampleRenderTarget(Yt),W.updateRenderTargetMipmap(Yt),kt.has("WEBGL_multisampled_render_to_texture")===!1){let Ee=!1;for(let _e=0,rn=ct.length;_e<rn;_e++){const yn=ct[_e],ii=yn.object,ln=yn.geometry,dn=yn.material,Ae=yn.group;if(dn.side===wl&&ii.layers.test(wt.layers)){const si=dn.side;dn.side=Ar,dn.needsUpdate=!0,$r(ii,Et,wt,ln,dn,Ae),dn.side=si,dn.needsUpdate=!0,Ee=!0}}Ee===!0&&(W.updateMultisampleRenderTarget(Yt),W.updateRenderTargetMipmap(Yt))}N.setRenderTarget(le),N.setClearColor(xt,bt),je!==void 0&&(wt.viewport=je),N.toneMapping=me}function Sa(X,ct,Et){const wt=ct.isScene===!0?ct.overrideMaterial:null;for(let pt=0,Yt=X.length;pt<Yt;pt++){const re=X[pt],le=re.object,me=re.geometry,je=re.group;let Ee=re.material;Ee.allowOverride===!0&&wt!==null&&(Ee=wt),le.layers.test(Et.layers)&&$r(le,ct,Et,me,Ee,je)}}function $r(X,ct,Et,wt,pt,Yt){X.onBeforeRender(N,ct,Et,wt,pt,Yt),X.modelViewMatrix.multiplyMatrices(Et.matrixWorldInverse,X.matrixWorld),X.normalMatrix.getNormalMatrix(X.modelViewMatrix),pt.onBeforeRender(N,ct,Et,wt,X,Yt),pt.transparent===!0&&pt.side===wl&&pt.forceSinglePass===!1?(pt.side=Ar,pt.needsUpdate=!0,N.renderBufferDirect(Et,ct,wt,pt,X,Yt),pt.side=wc,pt.needsUpdate=!0,N.renderBufferDirect(Et,ct,wt,pt,X,Yt),pt.side=wl):N.renderBufferDirect(Et,ct,wt,pt,X,Yt),X.onAfterRender(N,ct,Et,wt,pt,Yt)}function zn(X,ct,Et){ct.isScene!==!0&&(ct=Pe);const wt=Nt.get(X),pt=T.state.lights,Yt=T.state.shadowsArray,re=pt.state.version,le=ae.getParameters(X,pt.state,Yt,ct,Et),me=ae.getProgramCacheKey(le);let je=wt.programs;wt.environment=X.isMeshStandardMaterial?ct.environment:null,wt.fog=ct.fog,wt.envMap=(X.isMeshStandardMaterial?dt:V).get(X.envMap||wt.environment),wt.envMapRotation=wt.environment!==null&&X.envMap===null?ct.environmentRotation:X.envMapRotation,je===void 0&&(X.addEventListener("dispose",Me),je=new Map,wt.programs=je);let Ee=je.get(me);if(Ee!==void 0){if(wt.currentProgram===Ee&&wt.lightsStateVersion===re)return es(X,le),Ee}else le.uniforms=ae.getUniforms(X),X.onBeforeCompile(le,N),Ee=ae.acquireProgram(le,me),je.set(me,Ee),wt.uniforms=le.uniforms;const _e=wt.uniforms;return(!X.isShaderMaterial&&!X.isRawShaderMaterial||X.clipping===!0)&&(_e.clippingPlanes=Zt.uniform),es(X,le),wt.needsLights=wi(X),wt.lightsStateVersion=re,wt.needsLights&&(_e.ambientLightColor.value=pt.state.ambient,_e.lightProbe.value=pt.state.probe,_e.directionalLights.value=pt.state.directional,_e.directionalLightShadows.value=pt.state.directionalShadow,_e.spotLights.value=pt.state.spot,_e.spotLightShadows.value=pt.state.spotShadow,_e.rectAreaLights.value=pt.state.rectArea,_e.ltc_1.value=pt.state.rectAreaLTC1,_e.ltc_2.value=pt.state.rectAreaLTC2,_e.pointLights.value=pt.state.point,_e.pointLightShadows.value=pt.state.pointShadow,_e.hemisphereLights.value=pt.state.hemi,_e.directionalShadowMap.value=pt.state.directionalShadowMap,_e.directionalShadowMatrix.value=pt.state.directionalShadowMatrix,_e.spotShadowMap.value=pt.state.spotShadowMap,_e.spotLightMatrix.value=pt.state.spotLightMatrix,_e.spotLightMap.value=pt.state.spotLightMap,_e.pointShadowMap.value=pt.state.pointShadowMap,_e.pointShadowMatrix.value=pt.state.pointShadowMatrix),wt.currentProgram=Ee,wt.uniformsList=null,Ee}function ts(X){if(X.uniformsList===null){const ct=X.currentProgram.getUniforms();X.uniformsList=W1.seqWithValue(ct.seq,X.uniforms)}return X.uniformsList}function es(X,ct){const Et=Nt.get(X);Et.outputColorSpace=ct.outputColorSpace,Et.batching=ct.batching,Et.batchingColor=ct.batchingColor,Et.instancing=ct.instancing,Et.instancingColor=ct.instancingColor,Et.instancingMorph=ct.instancingMorph,Et.skinning=ct.skinning,Et.morphTargets=ct.morphTargets,Et.morphNormals=ct.morphNormals,Et.morphColors=ct.morphColors,Et.morphTargetsCount=ct.morphTargetsCount,Et.numClippingPlanes=ct.numClippingPlanes,Et.numIntersection=ct.numClipIntersection,Et.vertexAlphas=ct.vertexAlphas,Et.vertexTangents=ct.vertexTangents,Et.toneMapping=ct.toneMapping}function Po(X,ct,Et,wt,pt){ct.isScene!==!0&&(ct=Pe),W.resetTextureUnits();const Yt=ct.fog,re=wt.isMeshStandardMaterial?ct.environment:null,le=k===null?N.outputColorSpace:k.isXRRenderTarget===!0?k.texture.colorSpace:Zu,me=(wt.isMeshStandardMaterial?dt:V).get(wt.envMap||re),je=wt.vertexColors===!0&&!!Et.attributes.color&&Et.attributes.color.itemSize===4,Ee=!!Et.attributes.tangent&&(!!wt.normalMap||wt.anisotropy>0),_e=!!Et.morphAttributes.position,rn=!!Et.morphAttributes.normal,yn=!!Et.morphAttributes.color;let ii=Cl;wt.toneMapped&&(k===null||k.isXRRenderTarget===!0)&&(ii=N.toneMapping);const ln=Et.morphAttributes.position||Et.morphAttributes.normal||Et.morphAttributes.color,dn=ln!==void 0?ln.length:0,Ae=Nt.get(wt),si=T.state.lights;if(Rt===!0&&(Pt===!0||X!==z)){const Hi=X===z&&wt.id===I;Zt.setState(wt,X,Hi)}let gn=!1;wt.version===Ae.__version?(Ae.needsLights&&Ae.lightsStateVersion!==si.state.version||Ae.outputColorSpace!==le||pt.isBatchedMesh&&Ae.batching===!1||!pt.isBatchedMesh&&Ae.batching===!0||pt.isBatchedMesh&&Ae.batchingColor===!0&&pt.colorTexture===null||pt.isBatchedMesh&&Ae.batchingColor===!1&&pt.colorTexture!==null||pt.isInstancedMesh&&Ae.instancing===!1||!pt.isInstancedMesh&&Ae.instancing===!0||pt.isSkinnedMesh&&Ae.skinning===!1||!pt.isSkinnedMesh&&Ae.skinning===!0||pt.isInstancedMesh&&Ae.instancingColor===!0&&pt.instanceColor===null||pt.isInstancedMesh&&Ae.instancingColor===!1&&pt.instanceColor!==null||pt.isInstancedMesh&&Ae.instancingMorph===!0&&pt.morphTexture===null||pt.isInstancedMesh&&Ae.instancingMorph===!1&&pt.morphTexture!==null||Ae.envMap!==me||wt.fog===!0&&Ae.fog!==Yt||Ae.numClippingPlanes!==void 0&&(Ae.numClippingPlanes!==Zt.numPlanes||Ae.numIntersection!==Zt.numIntersection)||Ae.vertexAlphas!==je||Ae.vertexTangents!==Ee||Ae.morphTargets!==_e||Ae.morphNormals!==rn||Ae.morphColors!==yn||Ae.toneMapping!==ii||Ae.morphTargetsCount!==dn)&&(gn=!0):(gn=!0,Ae.__version=wt.version);let ta=Ae.currentProgram;gn===!0&&(ta=zn(wt,ct,pt));let _s=!1,Fn=!1,Ss=!1;const Pn=ta.getUniforms(),ea=Ae.uniforms;if(Bt.useProgram(ta.program)&&(_s=!0,Fn=!0,Ss=!0),wt.id!==I&&(I=wt.id,Fn=!0),_s||z!==X){Bt.buffers.depth.getReversed()?(Wt.copy(X.projectionMatrix),pP(Wt),mP(Wt),Pn.setValue(et,"projectionMatrix",Wt)):Pn.setValue(et,"projectionMatrix",X.projectionMatrix),Pn.setValue(et,"viewMatrix",X.matrixWorldInverse);const ki=Pn.map.cameraPosition;ki!==void 0&&ki.setValue(et,we.setFromMatrixPosition(X.matrixWorld)),zt.logarithmicDepthBuffer&&Pn.setValue(et,"logDepthBufFC",2/(Math.log(X.far+1)/Math.LN2)),(wt.isMeshPhongMaterial||wt.isMeshToonMaterial||wt.isMeshLambertMaterial||wt.isMeshBasicMaterial||wt.isMeshStandardMaterial||wt.isShaderMaterial)&&Pn.setValue(et,"isOrthographic",X.isOrthographicCamera===!0),z!==X&&(z=X,Fn=!0,Ss=!0)}if(pt.isSkinnedMesh){Pn.setOptional(et,pt,"bindMatrix"),Pn.setOptional(et,pt,"bindMatrixInverse");const Hi=pt.skeleton;Hi&&(Hi.boneTexture===null&&Hi.computeBoneTexture(),Pn.setValue(et,"boneTexture",Hi.boneTexture,W))}pt.isBatchedMesh&&(Pn.setOptional(et,pt,"batchingTexture"),Pn.setValue(et,"batchingTexture",pt._matricesTexture,W),Pn.setOptional(et,pt,"batchingIdTexture"),Pn.setValue(et,"batchingIdTexture",pt._indirectTexture,W),Pn.setOptional(et,pt,"batchingColorTexture"),pt._colorsTexture!==null&&Pn.setValue(et,"batchingColorTexture",pt._colorsTexture,W));const Ai=Et.morphAttributes;if((Ai.position!==void 0||Ai.normal!==void 0||Ai.color!==void 0)&&xe.update(pt,Et,ta),(Fn||Ae.receiveShadow!==pt.receiveShadow)&&(Ae.receiveShadow=pt.receiveShadow,Pn.setValue(et,"receiveShadow",pt.receiveShadow)),wt.isMeshGouraudMaterial&&wt.envMap!==null&&(ea.envMap.value=me,ea.flipEnvMap.value=me.isCubeTexture&&me.isRenderTargetTexture===!1?-1:1),wt.isMeshStandardMaterial&&wt.envMap===null&&ct.environment!==null&&(ea.envMapIntensity.value=ct.environmentIntensity),Fn&&(Pn.setValue(et,"toneMappingExposure",N.toneMappingExposure),Ae.needsLights&&Qs(ea,Ss),Yt&&wt.fog===!0&&Kt.refreshFogUniforms(ea,Yt),Kt.refreshMaterialUniforms(ea,wt,Q,Z,T.state.transmissionRenderTarget[X.id]),W1.upload(et,ts(Ae),ea,W)),wt.isShaderMaterial&&wt.uniformsNeedUpdate===!0&&(W1.upload(et,ts(Ae),ea,W),wt.uniformsNeedUpdate=!1),wt.isSpriteMaterial&&Pn.setValue(et,"center",pt.center),Pn.setValue(et,"modelViewMatrix",pt.modelViewMatrix),Pn.setValue(et,"normalMatrix",pt.normalMatrix),Pn.setValue(et,"modelMatrix",pt.matrixWorld),wt.isShaderMaterial||wt.isRawShaderMaterial){const Hi=wt.uniformsGroups;for(let ki=0,Ma=Hi.length;ki<Ma;ki++){const Ms=Hi[ki];nt.update(Ms,ta),nt.bind(Ms,ta)}}return ta}function Qs(X,ct){X.ambientLightColor.needsUpdate=ct,X.lightProbe.needsUpdate=ct,X.directionalLights.needsUpdate=ct,X.directionalLightShadows.needsUpdate=ct,X.pointLights.needsUpdate=ct,X.pointLightShadows.needsUpdate=ct,X.spotLights.needsUpdate=ct,X.spotLightShadows.needsUpdate=ct,X.rectAreaLights.needsUpdate=ct,X.hemisphereLights.needsUpdate=ct}function wi(X){return X.isMeshLambertMaterial||X.isMeshToonMaterial||X.isMeshPhongMaterial||X.isMeshStandardMaterial||X.isShadowMaterial||X.isShaderMaterial&&X.lights===!0}this.getActiveCubeFace=function(){return P},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return k},this.setRenderTargetTextures=function(X,ct,Et){const wt=Nt.get(X);wt.__autoAllocateDepthBuffer=X.resolveDepthBuffer===!1,wt.__autoAllocateDepthBuffer===!1&&(wt.__useRenderToTexture=!1),Nt.get(X.texture).__webglTexture=ct,Nt.get(X.depthTexture).__webglTexture=wt.__autoAllocateDepthBuffer?void 0:Et,wt.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(X,ct){const Et=Nt.get(X);Et.__webglFramebuffer=ct,Et.__useDefaultFramebuffer=ct===void 0};const Uc=et.createFramebuffer();this.setRenderTarget=function(X,ct=0,Et=0){k=X,P=ct,H=Et;let wt=!0,pt=null,Yt=!1,re=!1;if(X){const me=Nt.get(X);if(me.__useDefaultFramebuffer!==void 0)Bt.bindFramebuffer(et.FRAMEBUFFER,null),wt=!1;else if(me.__webglFramebuffer===void 0)W.setupRenderTarget(X);else if(me.__hasExternalTextures)W.rebindTextures(X,Nt.get(X.texture).__webglTexture,Nt.get(X.depthTexture).__webglTexture);else if(X.depthBuffer){const _e=X.depthTexture;if(me.__boundDepthTexture!==_e){if(_e!==null&&Nt.has(_e)&&(X.width!==_e.image.width||X.height!==_e.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");W.setupDepthRenderbuffer(X)}}const je=X.texture;(je.isData3DTexture||je.isDataArrayTexture||je.isCompressedArrayTexture)&&(re=!0);const Ee=Nt.get(X).__webglFramebuffer;X.isWebGLCubeRenderTarget?(Array.isArray(Ee[ct])?pt=Ee[ct][Et]:pt=Ee[ct],Yt=!0):X.samples>0&&W.useMultisampledRTT(X)===!1?pt=Nt.get(X).__webglMultisampledFramebuffer:Array.isArray(Ee)?pt=Ee[Et]:pt=Ee,K.copy(X.viewport),ft.copy(X.scissor),st=X.scissorTest}else K.copy(it).multiplyScalar(Q).floor(),ft.copy(St).multiplyScalar(Q).floor(),st=Lt;if(Et!==0&&(pt=Uc),Bt.bindFramebuffer(et.FRAMEBUFFER,pt)&&wt&&Bt.drawBuffers(X,pt),Bt.viewport(K),Bt.scissor(ft),Bt.setScissorTest(st),Yt){const me=Nt.get(X.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_CUBE_MAP_POSITIVE_X+ct,me.__webglTexture,Et)}else if(re){const me=Nt.get(X.texture),je=ct;et.framebufferTextureLayer(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,me.__webglTexture,Et,je)}else if(X!==null&&Et!==0){const me=Nt.get(X.texture);et.framebufferTexture2D(et.FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,me.__webglTexture,Et)}I=-1},this.readRenderTargetPixels=function(X,ct,Et,wt,pt,Yt,re){if(!(X&&X.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let le=Nt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&re!==void 0&&(le=le[re]),le){Bt.bindFramebuffer(et.FRAMEBUFFER,le);try{const me=X.texture,je=me.format,Ee=me.type;if(!zt.textureFormatReadable(je)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!zt.textureTypeReadable(Ee)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ct>=0&&ct<=X.width-wt&&Et>=0&&Et<=X.height-pt&&et.readPixels(ct,Et,wt,pt,Ot.convert(je),Ot.convert(Ee),Yt)}finally{const me=k!==null?Nt.get(k).__webglFramebuffer:null;Bt.bindFramebuffer(et.FRAMEBUFFER,me)}}},this.readRenderTargetPixelsAsync=async function(X,ct,Et,wt,pt,Yt,re){if(!(X&&X.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let le=Nt.get(X).__webglFramebuffer;if(X.isWebGLCubeRenderTarget&&re!==void 0&&(le=le[re]),le)if(ct>=0&&ct<=X.width-wt&&Et>=0&&Et<=X.height-pt){Bt.bindFramebuffer(et.FRAMEBUFFER,le);const me=X.texture,je=me.format,Ee=me.type;if(!zt.textureFormatReadable(je))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!zt.textureTypeReadable(Ee))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const _e=et.createBuffer();et.bindBuffer(et.PIXEL_PACK_BUFFER,_e),et.bufferData(et.PIXEL_PACK_BUFFER,Yt.byteLength,et.STREAM_READ),et.readPixels(ct,Et,wt,pt,Ot.convert(je),Ot.convert(Ee),0);const rn=k!==null?Nt.get(k).__webglFramebuffer:null;Bt.bindFramebuffer(et.FRAMEBUFFER,rn);const yn=et.fenceSync(et.SYNC_GPU_COMMANDS_COMPLETE,0);return et.flush(),await fP(et,yn,4),et.bindBuffer(et.PIXEL_PACK_BUFFER,_e),et.getBufferSubData(et.PIXEL_PACK_BUFFER,0,Yt),et.deleteBuffer(_e),et.deleteSync(yn),Yt}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(X,ct=null,Et=0){const wt=Math.pow(2,-Et),pt=Math.floor(X.image.width*wt),Yt=Math.floor(X.image.height*wt),re=ct!==null?ct.x:0,le=ct!==null?ct.y:0;W.setTexture2D(X,0),et.copyTexSubImage2D(et.TEXTURE_2D,Et,0,0,re,le,pt,Yt),Bt.unbindTexture()};const jc=et.createFramebuffer(),ns=et.createFramebuffer();this.copyTextureToTexture=function(X,ct,Et=null,wt=null,pt=0,Yt=null){Yt===null&&(pt!==0?(q1("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Yt=pt,pt=0):Yt=0);let re,le,me,je,Ee,_e,rn,yn,ii;const ln=X.isCompressedTexture?X.mipmaps[Yt]:X.image;if(Et!==null)re=Et.max.x-Et.min.x,le=Et.max.y-Et.min.y,me=Et.isBox3?Et.max.z-Et.min.z:1,je=Et.min.x,Ee=Et.min.y,_e=Et.isBox3?Et.min.z:0;else{const Ai=Math.pow(2,-pt);re=Math.floor(ln.width*Ai),le=Math.floor(ln.height*Ai),X.isDataArrayTexture?me=ln.depth:X.isData3DTexture?me=Math.floor(ln.depth*Ai):me=1,je=0,Ee=0,_e=0}wt!==null?(rn=wt.x,yn=wt.y,ii=wt.z):(rn=0,yn=0,ii=0);const dn=Ot.convert(ct.format),Ae=Ot.convert(ct.type);let si;ct.isData3DTexture?(W.setTexture3D(ct,0),si=et.TEXTURE_3D):ct.isDataArrayTexture||ct.isCompressedArrayTexture?(W.setTexture2DArray(ct,0),si=et.TEXTURE_2D_ARRAY):(W.setTexture2D(ct,0),si=et.TEXTURE_2D),et.pixelStorei(et.UNPACK_FLIP_Y_WEBGL,ct.flipY),et.pixelStorei(et.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ct.premultiplyAlpha),et.pixelStorei(et.UNPACK_ALIGNMENT,ct.unpackAlignment);const gn=et.getParameter(et.UNPACK_ROW_LENGTH),ta=et.getParameter(et.UNPACK_IMAGE_HEIGHT),_s=et.getParameter(et.UNPACK_SKIP_PIXELS),Fn=et.getParameter(et.UNPACK_SKIP_ROWS),Ss=et.getParameter(et.UNPACK_SKIP_IMAGES);et.pixelStorei(et.UNPACK_ROW_LENGTH,ln.width),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,ln.height),et.pixelStorei(et.UNPACK_SKIP_PIXELS,je),et.pixelStorei(et.UNPACK_SKIP_ROWS,Ee),et.pixelStorei(et.UNPACK_SKIP_IMAGES,_e);const Pn=X.isDataArrayTexture||X.isData3DTexture,ea=ct.isDataArrayTexture||ct.isData3DTexture;if(X.isDepthTexture){const Ai=Nt.get(X),Hi=Nt.get(ct),ki=Nt.get(Ai.__renderTarget),Ma=Nt.get(Hi.__renderTarget);Bt.bindFramebuffer(et.READ_FRAMEBUFFER,ki.__webglFramebuffer),Bt.bindFramebuffer(et.DRAW_FRAMEBUFFER,Ma.__webglFramebuffer);for(let Ms=0;Ms<me;Ms++)Pn&&(et.framebufferTextureLayer(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Nt.get(X).__webglTexture,pt,_e+Ms),et.framebufferTextureLayer(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Nt.get(ct).__webglTexture,Yt,ii+Ms)),et.blitFramebuffer(je,Ee,re,le,rn,yn,re,le,et.DEPTH_BUFFER_BIT,et.NEAREST);Bt.bindFramebuffer(et.READ_FRAMEBUFFER,null),Bt.bindFramebuffer(et.DRAW_FRAMEBUFFER,null)}else if(pt!==0||X.isRenderTargetTexture||Nt.has(X)){const Ai=Nt.get(X),Hi=Nt.get(ct);Bt.bindFramebuffer(et.READ_FRAMEBUFFER,jc),Bt.bindFramebuffer(et.DRAW_FRAMEBUFFER,ns);for(let ki=0;ki<me;ki++)Pn?et.framebufferTextureLayer(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Ai.__webglTexture,pt,_e+ki):et.framebufferTexture2D(et.READ_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Ai.__webglTexture,pt),ea?et.framebufferTextureLayer(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,Hi.__webglTexture,Yt,ii+ki):et.framebufferTexture2D(et.DRAW_FRAMEBUFFER,et.COLOR_ATTACHMENT0,et.TEXTURE_2D,Hi.__webglTexture,Yt),pt!==0?et.blitFramebuffer(je,Ee,re,le,rn,yn,re,le,et.COLOR_BUFFER_BIT,et.NEAREST):ea?et.copyTexSubImage3D(si,Yt,rn,yn,ii+ki,je,Ee,re,le):et.copyTexSubImage2D(si,Yt,rn,yn,je,Ee,re,le);Bt.bindFramebuffer(et.READ_FRAMEBUFFER,null),Bt.bindFramebuffer(et.DRAW_FRAMEBUFFER,null)}else ea?X.isDataTexture||X.isData3DTexture?et.texSubImage3D(si,Yt,rn,yn,ii,re,le,me,dn,Ae,ln.data):ct.isCompressedArrayTexture?et.compressedTexSubImage3D(si,Yt,rn,yn,ii,re,le,me,dn,ln.data):et.texSubImage3D(si,Yt,rn,yn,ii,re,le,me,dn,Ae,ln):X.isDataTexture?et.texSubImage2D(et.TEXTURE_2D,Yt,rn,yn,re,le,dn,Ae,ln.data):X.isCompressedTexture?et.compressedTexSubImage2D(et.TEXTURE_2D,Yt,rn,yn,ln.width,ln.height,dn,ln.data):et.texSubImage2D(et.TEXTURE_2D,Yt,rn,yn,re,le,dn,Ae,ln);et.pixelStorei(et.UNPACK_ROW_LENGTH,gn),et.pixelStorei(et.UNPACK_IMAGE_HEIGHT,ta),et.pixelStorei(et.UNPACK_SKIP_PIXELS,_s),et.pixelStorei(et.UNPACK_SKIP_ROWS,Fn),et.pixelStorei(et.UNPACK_SKIP_IMAGES,Ss),Yt===0&&ct.generateMipmaps&&et.generateMipmap(si),Bt.unbindTexture()},this.copyTextureToTexture3D=function(X,ct,Et=null,wt=null,pt=0){return q1('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(X,ct,Et,wt,pt)},this.initRenderTarget=function(X){Nt.get(X).__webglFramebuffer===void 0&&W.setupRenderTarget(X)},this.initTexture=function(X){X.isCubeTexture?W.setTextureCube(X,0):X.isData3DTexture?W.setTexture3D(X,0):X.isDataArrayTexture||X.isCompressedArrayTexture?W.setTexture2DArray(X,0):W.setTexture2D(X,0),Bt.unbindTexture()},this.resetState=function(){P=0,H=0,k=null,Bt.reset(),se.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return jo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(t){this._outputColorSpace=t;const e=this.getContext();e.drawingBufferColorSpace=_n._getDrawingBufferColorSpace(t),e.unpackColorSpace=_n._getUnpackColorSpace()}}const wH=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:$T,AddEquation:ku,AddOperation:G4,AdditiveAnimationBlendMode:uE,AdditiveBlending:ab,AgXToneMapping:Z4,AlphaFormat:aE,AlwaysCompare:uU,AlwaysDepth:lb,AlwaysStencilFunc:uT,AmbientLight:aj,AnimationAction:fj,AnimationClip:tx,AnimationLoader:FB,AnimationMixer:m6,AnimationObjectGroup:f6,AnimationUtils:zB,ArcCurve:CU,ArrayCamera:uj,ArrowHelper:P6,AttachedBindMode:cT,Audio:dj,AudioAnalyser:i6,AudioContext:NE,AudioListener:t6,AudioLoader:QB,AxesHelper:B6,BackSide:Ar,BasicDepthPacking:eU,BasicShadowMap:T4,BatchedMesh:TU,Bone:xE,BooleanKeyframeTrack:kh,Box2:M6,Box3:Cr,Box3Helper:O6,BoxGeometry:Hh,BoxHelper:N6,BufferAttribute:qn,BufferGeometry:an,BufferGeometryLoader:cj,ByteType:eE,Cache:Mc,Camera:b_,CameraHelper:L6,CanvasTexture:rB,CapsuleGeometry:A_,CatmullRomCurve3:RU,CineonToneMapping:Y4,CircleGeometry:C_,ClampToEdgeWrapping:Ys,Clock:OE,Color:he,ColorKeyframeTrack:UE,ColorManagement:_n,CompressedArrayTexture:iB,CompressedCubeTexture:aB,CompressedTexture:E_,CompressedTextureLoader:VB,ConeGeometry:R_,ConstantAlphaFactor:V4,ConstantColorFactor:I4,Controls:F6,CubeCamera:xU,CubeReflectionMapping:Ac,CubeRefractionMapping:Wu,CubeTexture:gx,CubeTextureLoader:HB,CubeUVReflectionMapping:om,CubicBezierCurve:_E,CubicBezierCurve3:DU,CubicInterpolant:KU,CullFaceBack:sT,CullFaceFront:M4,CullFaceFrontBack:mz,CullFaceNone:S4,Curve:zo,CurvePath:jU,CustomBlending:E4,CustomToneMapping:W4,CylinderGeometry:cm,Cylindrical:S6,Data3DTexture:v_,DataArrayTexture:mx,DataTexture:Rl,DataTextureLoader:kB,DataUtils:DP,DecrementStencilOp:Rz,DecrementWrapStencilOp:Uz,DefaultLoadingManager:$U,DepthFormat:Zp,DepthStencilFormat:Kp,DepthTexture:vE,DetachedBindMode:Q4,DirectionalLight:ij,DirectionalLightHelper:j6,DiscreteInterpolant:QU,DodecahedronGeometry:D_,DoubleSide:wl,DstAlphaFactor:N4,DstColorFactor:z4,DynamicCopyUsage:Xz,DynamicDrawUsage:jh,DynamicReadUsage:Hz,EdgesGeometry:LU,EllipseCurve:w_,EqualCompare:sU,EqualDepth:ub,EqualStencilFunc:Oz,EquirectangularReflectionMapping:Bg,EquirectangularRefractionMapping:Ig,Euler:bs,EventDispatcher:zl,ExtrudeGeometry:U_,FileLoader:Rc,Float16BufferAttribute:PP,Float32BufferAttribute:be,FloatType:Kr,Fog:S_,FogExp2:__,FramebufferTexture:nB,FrontSide:wc,Frustum:xx,GLBufferAttribute:_6,GLSL1:Yz,GLSL3:dT,GreaterCompare:oU,GreaterDepth:hb,GreaterEqualCompare:cU,GreaterEqualDepth:db,GreaterEqualStencilFunc:Iz,GreaterStencilFunc:Pz,GridHelper:D6,Group:Np,HalfFloatType:lm,HemisphereLight:tj,HemisphereLightHelper:R6,IcosahedronGeometry:j_,ImageBitmapLoader:KB,ImageLoader:ex,ImageUtils:fU,IncrementStencilOp:Cz,IncrementWrapStencilOp:Dz,InstancedBufferAttribute:tm,InstancedBufferGeometry:lj,InstancedInterleavedBuffer:b6,InstancedMesh:MU,Int16BufferAttribute:OP,Int32BufferAttribute:zP,Int8BufferAttribute:jP,IntType:d_,InterleavedBuffer:M_,InterleavedBufferAttribute:Ph,Interpolant:_x,InterpolateDiscrete:Hg,InterpolateLinear:Fb,InterpolateSmooth:X1,InvertStencilOp:jz,KeepStencilOp:bh,KeyframeTrack:Ks,LOD:_U,LatheGeometry:yx,Layers:Jp,LessCompare:rU,LessDepth:cb,LessEqualCompare:dE,LessEqualDepth:zh,LessEqualStencilFunc:zz,LessStencilFunc:Nz,Light:nd,LightProbe:oj,Line:Ku,Line3:T6,LineBasicMaterial:Rr,LineCurve:SE,LineCurve3:UU,LineDashedMaterial:YU,LineLoop:EU,LineSegments:Pl,LinearFilter:ua,LinearInterpolant:DE,LinearMipMapLinearFilter:vz,LinearMipMapNearestFilter:yz,LinearMipmapLinearFilter:Al,LinearMipmapNearestFilter:Sg,LinearSRGBColorSpace:Zu,LinearToneMapping:X4,LinearTransfer:Gg,Loader:Qr,LoaderUtils:gT,LoadingManager:jE,LoopOnce:J4,LoopPingPong:tU,LoopRepeat:$4,LuminanceAlphaFormat:oE,LuminanceFormat:sE,MOUSE:yh,Material:ir,MaterialLoader:I_,MathUtils:dP,Matrix2:IE,Matrix3:Ke,Matrix4:Ve,MaxEquation:R4,Mesh:$i,MeshBasicMaterial:td,MeshDepthMaterial:AE,MeshDistanceMaterial:CE,MeshLambertMaterial:XU,MeshMatcapMaterial:qU,MeshNormalMaterial:GU,MeshPhongMaterial:HU,MeshPhysicalMaterial:VU,MeshStandardMaterial:wE,MeshToonMaterial:kU,MinEquation:C4,MirroredRepeatWrapping:Vg,MixOperation:k4,MultiplyBlending:lT,MultiplyOperation:fx,NearestFilter:za,NearestMipMapLinearFilter:xz,NearestMipMapNearestFilter:gz,NearestMipmapLinearFilter:jp,NearestMipmapNearestFilter:tE,NeutralToneMapping:K4,NeverCompare:aU,NeverDepth:ob,NeverStencilFunc:Lz,NoBlending:Tc,NoColorSpace:_c,NoToneMapping:Cl,NormalAnimationBlendMode:x_,NormalBlending:Uh,NotEqualCompare:lU,NotEqualDepth:fb,NotEqualStencilFunc:Bz,NumberKeyframeTrack:Jg,Object3D:wn,ObjectLoader:WB,ObjectSpaceNormalMap:iU,OctahedronGeometry:vx,OneFactor:U4,OneMinusConstantAlphaFactor:H4,OneMinusConstantColorFactor:F4,OneMinusDstAlphaFactor:O4,OneMinusDstColorFactor:P4,OneMinusSrcAlphaFactor:sb,OneMinusSrcColorFactor:L4,OrthographicCamera:Yu,PCFShadowMap:c_,PCFSoftShadowMap:_g,PMREMGenerator:bT,Path:Wg,PerspectiveCamera:Vi,Plane:bc,PlaneGeometry:um,PlaneHelper:z6,PointLight:nj,PointLightHelper:A6,Points:wU,PointsMaterial:yE,PolarGridHelper:U6,PolyhedronGeometry:ed,PositionalAudio:n6,PropertyBinding:Tn,PropertyMixer:hj,QuadraticBezierCurve:ME,QuadraticBezierCurve3:TE,Quaternion:er,QuaternionKeyframeTrack:Sx,QuaternionLinearInterpolant:JU,RED_GREEN_RGTC2_Format:Bb,RED_RGTC1_Format:cE,REVISION:l_,RGBADepthPacking:nU,RGBAFormat:$a,RGBAIntegerFormat:g_,RGBA_ASTC_10x10_Format:jb,RGBA_ASTC_10x5_Format:Rb,RGBA_ASTC_10x6_Format:Db,RGBA_ASTC_10x8_Format:Ub,RGBA_ASTC_12x10_Format:Lb,RGBA_ASTC_12x12_Format:Nb,RGBA_ASTC_4x4_Format:_b,RGBA_ASTC_5x4_Format:Sb,RGBA_ASTC_5x5_Format:Mb,RGBA_ASTC_6x5_Format:Tb,RGBA_ASTC_6x6_Format:Eb,RGBA_ASTC_8x5_Format:wb,RGBA_ASTC_8x6_Format:Ab,RGBA_ASTC_8x8_Format:Cb,RGBA_BPTC_Format:Ag,RGBA_ETC2_EAC_Format:bb,RGBA_PVRTC_2BPPV1_Format:xb,RGBA_PVRTC_4BPPV1_Format:gb,RGBA_S3TC_DXT1_Format:Tg,RGBA_S3TC_DXT3_Format:Eg,RGBA_S3TC_DXT5_Format:wg,RGBDepthPacking:Tz,RGBFormat:rE,RGBIntegerFormat:bz,RGB_BPTC_SIGNED_Format:Ob,RGB_BPTC_UNSIGNED_Format:zb,RGB_ETC1_Format:yb,RGB_ETC2_Format:vb,RGB_PVRTC_2BPPV1_Format:mb,RGB_PVRTC_4BPPV1_Format:pb,RGB_S3TC_DXT1_Format:Mg,RGDepthPacking:Ez,RGFormat:lE,RGIntegerFormat:m_,RawShaderMaterial:FU,Ray:Vh,Raycaster:pj,RectAreaLight:rj,RedFormat:p_,RedIntegerFormat:px,ReinhardToneMapping:q4,RenderTarget:y_,RenderTarget3D:g6,RenderTargetArray:x6,RepeatWrapping:Fg,ReplaceStencilOp:Az,ReverseSubtractEquation:A4,RingGeometry:L_,SIGNED_RED_GREEN_RGTC2_Format:Ib,SIGNED_RED_RGTC1_Format:Pb,SRGBColorSpace:Qa,SRGBTransfer:Xn,Scene:mE,ShaderChunk:nn,ShaderLib:Uo,ShaderMaterial:Oo,ShadowMaterial:IU,Shape:Nh,ShapeGeometry:N_,ShapePath:I6,ShapeUtils:Dl,ShortType:nE,Skeleton:T_,SkeletonHelper:w6,SkinnedMesh:SU,Source:Xu,Sphere:nr,SphereGeometry:bx,Spherical:yT,SphericalHarmonics3:sj,SplineCurve:EE,SpotLight:ej,SpotLightHelper:E6,Sprite:bU,SpriteMaterial:gE,SrcAlphaFactor:rb,SrcAlphaSaturateFactor:B4,SrcColorFactor:j4,StaticCopyUsage:Gz,StaticDrawUsage:Xg,StaticReadUsage:Vz,StereoCamera:JB,StreamCopyUsage:qz,StreamDrawUsage:Fz,StreamReadUsage:kz,StringKeyframeTrack:Gh,SubtractEquation:w4,SubtractiveBlending:oT,TOUCH:vh,TangentSpaceNormalMap:$u,TetrahedronGeometry:O_,Texture:Li,TextureLoader:GB,TextureUtils:X6,TimestampQuery:Wz,TorusGeometry:z_,TorusKnotGeometry:P_,Triangle:Zr,TriangleFanDrawMode:Mz,TriangleStripDrawMode:Sz,TrianglesDrawMode:_z,TubeGeometry:B_,UVMapping:u_,Uint16BufferAttribute:fE,Uint32BufferAttribute:pE,Uint8BufferAttribute:LP,Uint8ClampedBufferAttribute:NP,Uniform:BE,UniformsGroup:v6,UniformsLib:de,UniformsUtils:gU,UnsignedByteType:No,UnsignedInt248Type:Wp,UnsignedInt5999Type:iE,UnsignedIntType:Cc,UnsignedShort4444Type:h_,UnsignedShort5551Type:f_,UnsignedShortType:Yp,VSMShadowMap:Do,Vector2:Gt,Vector3:J,Vector4:En,VectorKeyframeTrack:$g,VideoFrameTexture:eB,VideoTexture:AU,WebGL3DRenderTarget:bP,WebGLArrayRenderTarget:vP,WebGLCoordinateSystem:jo,WebGLCubeRenderTarget:yU,WebGLRenderTarget:Ol,WebGLRenderer:Sj,WebGLUtils:_j,WebGPUCoordinateSystem:qg,WebXRController:Y1,WireframeGeometry:BU,WrapAroundEnding:kg,ZeroCurvatureEnding:Eh,ZeroFactor:D4,ZeroSlopeEnding:wh,ZeroStencilOp:wz,createCanvasElement:hU},Symbol.toStringTag,{value:"Module"}));var AM={exports:{}},fc={};/**
 * @license React
 * react-reconciler-constants.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c3;function AH(){return c3||(c3=1,fc.ConcurrentRoot=1,fc.ContinuousEventPriority=8,fc.DefaultEventPriority=32,fc.DiscreteEventPriority=2,fc.IdleEventPriority=268435456,fc.LegacyRoot=0,fc.NoEventPriority=0),fc}var u3;function CH(){return u3||(u3=1,AM.exports=AH()),AM.exports}var Z1=CH(),CM={exports:{}},RM={},DM={exports:{}},UM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d3;function RH(){if(d3)return UM;d3=1;var n=rm();function t(v,b){return v===b&&(v!==0||1/v===1/b)||v!==v&&b!==b}var e=typeof Object.is=="function"?Object.is:t,i=n.useState,a=n.useEffect,o=n.useLayoutEffect,c=n.useDebugValue;function h(v,b){var M=b(),E=i({inst:{value:M,getSnapshot:b}}),R=E[0].inst,C=E[1];return o(function(){R.value=M,R.getSnapshot=b,p(R)&&C({inst:R})},[v,M,b]),a(function(){return p(R)&&C({inst:R}),v(function(){p(R)&&C({inst:R})})},[v]),c(M),M}function p(v){var b=v.getSnapshot;v=v.value;try{var M=b();return!e(v,M)}catch{return!0}}function m(v,b){return b()}var y=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:h;return UM.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:y,UM}var h3;function DH(){return h3||(h3=1,DM.exports=RH()),DM.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f3;function UH(){if(f3)return RM;f3=1;var n=rm(),t=DH();function e(m,y){return m===y&&(m!==0||1/m===1/y)||m!==m&&y!==y}var i=typeof Object.is=="function"?Object.is:e,a=t.useSyncExternalStore,o=n.useRef,c=n.useEffect,h=n.useMemo,p=n.useDebugValue;return RM.useSyncExternalStoreWithSelector=function(m,y,v,b,M){var E=o(null);if(E.current===null){var R={hasValue:!1,value:null};E.current=R}else R=E.current;E=h(function(){function T(P){if(!D){if(D=!0,j=P,P=b(P),M!==void 0&&R.hasValue){var H=R.value;if(M(H,P))return N=H}return N=P}if(H=N,i(j,P))return H;var k=b(P);return M!==void 0&&M(H,k)?(j=P,H):(j=P,N=k)}var D=!1,j,N,B=v===void 0?null:v;return[function(){return T(y())},B===null?void 0:function(){return T(B())}]},[y,v,b,M]);var C=a(m,E[0],E[1]);return c(function(){R.hasValue=!0,R.value=C},[C]),p(C),C},RM}var p3;function jH(){return p3||(p3=1,CM.exports=UH()),CM.exports}var LH=jH();const NH=e_(LH),m3=n=>{let t;const e=new Set,i=(m,y)=>{const v=typeof m=="function"?m(t):m;if(!Object.is(v,t)){const b=t;t=y??(typeof v!="object"||v===null)?v:Object.assign({},t,v),e.forEach(M=>M(t,b))}},a=()=>t,h={setState:i,getState:a,getInitialState:()=>p,subscribe:m=>(e.add(m),()=>e.delete(m))},p=t=n(i,a,h);return h},OH=n=>n?m3(n):m3,{useSyncExternalStoreWithSelector:zH}=NH,PH=n=>n;function BH(n,t=PH,e){const i=zH(n.subscribe,n.getState,n.getInitialState,t,e);return Er.useDebugValue(i),i}const g3=(n,t)=>{const e=OH(n),i=(a,o=t)=>BH(e,a,o);return Object.assign(i,e),i},IH=(n,t)=>n?g3(n,t):g3;var jM={exports:{}},LM={exports:{}},NM={exports:{}},OM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function FH(){return x3||(x3=1,function(n){function t(F,Z){var Q=F.length;F.push(Z);t:for(;0<Q;){var ut=Q-1>>>1,q=F[ut];if(0<a(q,Z))F[ut]=Z,F[Q]=q,Q=ut;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],Q=F.pop();if(Q!==Z){F[0]=Q;t:for(var ut=0,q=F.length,it=q>>>1;ut<it;){var St=2*(ut+1)-1,Lt=F[St],rt=St+1,Rt=F[rt];if(0>a(Lt,Q))rt<q&&0>a(Rt,Lt)?(F[ut]=Rt,F[rt]=Q,ut=rt):(F[ut]=Lt,F[St]=Q,ut=St);else if(rt<q&&0>a(Rt,Q))F[ut]=Rt,F[rt]=Q,ut=rt;else break t}}return Z}function a(F,Z){var Q=F.sortIndex-Z.sortIndex;return Q!==0?Q:F.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,b=3,M=!1,E=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function j(F){for(var Z=e(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=F)i(m),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=e(m)}}function N(F){if(R=!1,j(F),!E)if(e(p)!==null)E=!0,xt();else{var Z=e(m);Z!==null&&bt(N,Z.startTime-F)}}var B=!1,P=-1,H=5,k=-1;function I(){return!(n.unstable_now()-k<H)}function z(){if(B){var F=n.unstable_now();k=F;var Z=!0;try{t:{E=!1,R&&(R=!1,T(P),P=-1),M=!0;var Q=b;try{e:{for(j(F),v=e(p);v!==null&&!(v.expirationTime>F&&I());){var ut=v.callback;if(typeof ut=="function"){v.callback=null,b=v.priorityLevel;var q=ut(v.expirationTime<=F);if(F=n.unstable_now(),typeof q=="function"){v.callback=q,j(F),Z=!0;break e}v===e(p)&&i(p),j(F)}else i(p);v=e(p)}if(v!==null)Z=!0;else{var it=e(m);it!==null&&bt(N,it.startTime-F),Z=!1}}break t}finally{v=null,b=Q,M=!1}Z=void 0}}finally{Z?K():B=!1}}}var K;if(typeof D=="function")K=function(){D(z)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,st=ft.port2;ft.port1.onmessage=z,K=function(){st.postMessage(null)}}else K=function(){C(z,0)};function xt(){B||(B=!0,K())}function bt(F,Z){P=C(function(){F(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){E||M||(E=!0,xt())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(p)},n.unstable_next=function(F){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var Q=b;b=Z;try{return F()}finally{b=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=b;b=F;try{return Z()}finally{b=Q}},n.unstable_scheduleCallback=function(F,Z,Q){var ut=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ut+Q:ut):Q=ut,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,F={id:y++,callback:Z,priorityLevel:F,startTime:Q,expirationTime:q,sortIndex:-1},Q>ut?(F.sortIndex=Q,t(m,F),e(p)===null&&F===e(m)&&(R?(T(P),P=-1):R=!0,bt(N,Q-ut))):(F.sortIndex=q,t(p,F),E||M||(E=!0,xt())),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var Z=b;return function(){var Q=b;b=Z;try{return F.apply(this,arguments)}finally{b=Q}}}}(OM)),OM}var y3;function VH(){return y3||(y3=1,NM.exports=FH()),NM.exports}/**
 * @license React
 * react-reconciler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v3;function HH(){return v3||(v3=1,function(n){n.exports=function(t){function e(l,u,x,S){return new km(l,u,x,S)}function i(){}function a(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)u+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(l){return l===null||typeof l!="object"?null:(l=uo&&l[uo]||l["@@iterator"],typeof l=="function"?l:null)}function c(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Ym?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case $o:return"Fragment";case Lr:return"Portal";case gf:return"Profiler";case jd:return"StrictMode";case xf:return"Suspense";case Jc:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case rs:return(l.displayName||"Context")+".Provider";case Xm:return(l._context.displayName||"Context")+".Consumer";case Nd:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case yf:return u=l.displayName||null,u!==null?u:c(l.type)||"Memo";case Nr:u=l._payload,l=l._init;try{return c(l(u))}catch{}}return null}function h(l){if(Cs===void 0)try{throw Error()}catch(x){var u=x.stack.trim().match(/\n( *(at )?)/);Cs=u&&u[1]||"",ho=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+l+ho}function p(l,u){if(!l||Hl)return"";Hl=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var S={DetermineComponentFrameRoot:function(){try{if(u){var ue=function(){throw Error()};if(Object.defineProperty(ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ue,[])}catch(Ge){var pe=Ge}Reflect.construct(l,[],ue)}else{try{ue.call()}catch(Ge){pe=Ge}l.call(ue.prototype)}}else{try{throw Error()}catch(Ge){pe=Ge}(ue=l())&&typeof ue.catch=="function"&&ue.catch(function(){})}}catch(Ge){if(Ge&&pe&&typeof Ge.stack=="string")return[Ge.stack,pe.stack]}return[null,null]}};S.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(S.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(S.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=S.DetermineComponentFrameRoot(),Y=U[0],tt=U[1];if(Y&&tt){var mt=Y.split(`
`),Vt=tt.split(`
`);for(A=S=0;S<mt.length&&!mt[S].includes("DetermineComponentFrameRoot");)S++;for(;A<Vt.length&&!Vt[A].includes("DetermineComponentFrameRoot");)A++;if(S===mt.length||A===Vt.length)for(S=mt.length-1,A=Vt.length-1;1<=S&&0<=A&&mt[S]!==Vt[A];)A--;for(;1<=S&&0<=A;S--,A--)if(mt[S]!==Vt[A]){if(S!==1||A!==1)do if(S--,A--,0>A||mt[S]!==Vt[A]){var te=`
`+mt[S].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=S&&0<=A);break}}}finally{Hl=!1,Error.prepareStackTrace=x}return(x=l?l.displayName||l.name:"")?h(x):""}function m(l){switch(l.tag){case 26:case 27:case 5:return h(l.type);case 16:return h("Lazy");case 13:return h("Suspense");case 19:return h("SuspenseList");case 0:case 15:return l=p(l.type,!1),l;case 11:return l=p(l.type.render,!1),l;case 1:return l=p(l.type,!0),l;default:return""}}function y(l){try{var u="";do u+=m(l),l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}function v(l){var u=l,x=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(x=u.return),l=u.return;while(l)}return u.tag===3?x:null}function b(l){if(v(l)!==l)throw Error(a(188))}function M(l){var u=l.alternate;if(!u){if(u=v(l),u===null)throw Error(a(188));return u!==l?null:l}for(var x=l,S=u;;){var A=x.return;if(A===null)break;var U=A.alternate;if(U===null){if(S=A.return,S!==null){x=S;continue}break}if(A.child===U.child){for(U=A.child;U;){if(U===x)return b(A),l;if(U===S)return b(A),u;U=U.sibling}throw Error(a(188))}if(x.return!==S.return)x=A,S=U;else{for(var Y=!1,tt=A.child;tt;){if(tt===x){Y=!0,x=A,S=U;break}if(tt===S){Y=!0,S=A,x=U;break}tt=tt.sibling}if(!Y){for(tt=U.child;tt;){if(tt===x){Y=!0,x=U,S=A;break}if(tt===S){Y=!0,S=U,x=A;break}tt=tt.sibling}if(!Y)throw Error(a(189))}}if(x.alternate!==S)throw Error(a(190))}if(x.tag!==3)throw Error(a(188));return x.stateNode.current===x?l:u}function E(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=E(l),u!==null)return u;l=l.sibling}return null}function R(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(l.tag!==4&&(u=R(l),u!==null))return u;l=l.sibling}return null}function C(l){return{current:l}}function T(l){0>go||(l.current=xi[go],xi[go]=null,go--)}function D(l,u){go++,xi[go]=l.current,l.current=u}function j(l){return l>>>=0,l===0?32:31-(jy(l)/Ly|0)|0}function N(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function B(l,u){var x=l.pendingLanes;if(x===0)return 0;var S=0,A=l.suspendedLanes,U=l.pingedLanes,Y=l.warmLanes;l=l.finishedLanes!==0;var tt=x&134217727;return tt!==0?(x=tt&~A,x!==0?S=N(x):(U&=tt,U!==0?S=N(U):l||(Y=tt&~Y,Y!==0&&(S=N(Y))))):(tt=x&~A,tt!==0?S=N(tt):U!==0?S=N(U):l||(Y=x&~Y,Y!==0&&(S=N(Y)))),S===0?0:u!==0&&u!==S&&(u&A)===0&&(A=S&-S,Y=u&-u,A>=Y||A===32&&(Y&4194176)!==0)?u:S}function P(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function H(l,u){switch(l){case 1:case 2:case 4:case 8:return u+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k(){var l=Ds;return Ds<<=1,(Ds&4194176)===0&&(Ds=128),l}function I(){var l=Xl;return Xl<<=1,(Xl&62914560)===0&&(Xl=4194304),l}function z(l){for(var u=[],x=0;31>x;x++)u.push(l);return u}function K(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function ft(l,u,x,S,A,U){var Y=l.pendingLanes;l.pendingLanes=x,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=x,l.entangledLanes&=x,l.errorRecoveryDisabledLanes&=x,l.shellSuspendCounter=0;var tt=l.entanglements,mt=l.expirationTimes,Vt=l.hiddenUpdates;for(x=Y&~x;0<x;){var te=31-Ra(x),ue=1<<te;tt[te]=0,mt[te]=-1;var pe=Vt[te];if(pe!==null)for(Vt[te]=null,te=0;te<pe.length;te++){var Ge=pe[te];Ge!==null&&(Ge.lane&=-536870913)}x&=~ue}S!==0&&st(l,S,0),U!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=U&~(Y&~u))}function st(l,u,x){l.pendingLanes|=u,l.suspendedLanes&=~u;var S=31-Ra(u);l.entangledLanes|=u,l.entanglements[S]=l.entanglements[S]|1073741824|x&4194218}function xt(l,u){var x=l.entangledLanes|=u;for(l=l.entanglements;x;){var S=31-Ra(x),A=1<<S;A&u|l[S]&u&&(l[S]|=u),x&=~A}}function bt(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function F(l){if(Ga&&typeof Ga.onCommitFiberRoot=="function")try{Ga.onCommitFiberRoot(yi,l,void 0,(l.current.flags&128)===128)}catch{}}function Z(l){if(typeof zy=="function"&&qi(l),Ga&&typeof Ga.setStrictMode=="function")try{Ga.setStrictMode(yi,l)}catch{}}function Q(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}function ut(l,u){if(typeof l=="object"&&l!==null){var x=h0.get(l);return x!==void 0?x:(u={value:l,source:u,stack:y(u)},h0.set(l,u),u)}return{value:l,source:u,stack:y(u)}}function q(l,u){ql[Yl++]=ou,ql[Yl++]=Wl,Wl=l,ou=u}function it(l,u,x){lr[cr++]=ls,lr[cr++]=cs,lr[cr++]=sl,sl=l;var S=ls;l=cs;var A=32-Ra(S)-1;S&=~(1<<A),x+=1;var U=32-Ra(u)+A;if(30<U){var Y=A-A%5;U=(S&(1<<Y)-1).toString(32),S>>=Y,A-=Y,ls=1<<32-Ra(u)+A|x<<A|S,cs=U+l}else ls=1<<U|x<<A|S,cs=l}function St(l){l.return!==null&&(q(l,1),it(l,1,0))}function Lt(l){for(;l===Wl;)Wl=ql[--Yl],ql[Yl]=null,ou=ql[--Yl],ql[Yl]=null;for(;l===sl;)sl=lr[--cr],lr[cr]=null,cs=lr[--cr],lr[cr]=null,ls=lr[--cr],lr[cr]=null}function rt(l,u){D(Us,u),D(lu,l),D(zi,null),l=Qx(u),T(zi),D(zi,l)}function Rt(){T(zi),T(lu),T(Us)}function Pt(l){l.memoizedState!==null&&D(Zl,l);var u=zi.current,x=nu(u,l.type);u!==x&&(D(lu,l),D(zi,x))}function Wt(l){lu.current===l&&(T(zi),T(lu)),Zl.current===l&&(T(Zl),Aa?ss._currentValue=el:ss._currentValue2=el)}function $t(l){var u=Error(a(418,""));throw Be(ut(u,l)),kd}function we(l,u){if(!oa)throw Error(a(175));Sy(l.stateNode,l.type,l.memoizedProps,u,l)||$t(l)}function ve(l){for(la=l.return;la;)switch(la.tag){case 3:case 27:Yi=!0;return;case 5:case 13:Yi=!1;return;default:la=la.return}}function Pe(l){if(!oa||l!==la)return!1;if(!xn)return ve(l),xn=!0,!1;var u=!1;if(Vn?l.tag!==3&&l.tag!==27&&(l.tag!==5||Af(l.type)&&!qe(l.type,l.memoizedProps))&&(u=!0):l.tag!==3&&(l.tag!==5||Af(l.type)&&!qe(l.type,l.memoizedProps))&&(u=!0),u&&ca&&$t(l),ve(l),l.tag===13){if(!oa)throw Error(a(316));if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(a(317));ca=Ty(l)}else ca=la?l0(l.stateNode):null;return!0}function Ne(){oa&&(ca=la=null,xn=!1)}function Be(l){Pr===null?Pr=[l]:Pr.push(l)}function et(){for(var l=Kl,u=us=Kl=0;u<l;){var x=Br[u];Br[u++]=null;var S=Br[u];Br[u++]=null;var A=Br[u];Br[u++]=null;var U=Br[u];if(Br[u++]=null,S!==null&&A!==null){var Y=S.pending;Y===null?A.next=A:(A.next=Y.next,Y.next=A),S.pending=A}U!==0&&Bt(x,A,U)}}function Ln(l,u,x,S){Br[Kl++]=l,Br[Kl++]=u,Br[Kl++]=x,Br[Kl++]=S,us|=S,l.lanes|=S,l=l.alternate,l!==null&&(l.lanes|=S)}function kt(l,u,x,S){return Ln(l,u,x,S),ee(l)}function zt(l,u){return Ln(l,null,null,u),ee(l)}function Bt(l,u,x){l.lanes|=x;var S=l.alternate;S!==null&&(S.lanes|=x);for(var A=!1,U=l.return;U!==null;)U.childLanes|=x,S=U.alternate,S!==null&&(S.childLanes|=x),U.tag===22&&(l=U.stateNode,l===null||l._visibility&1||(A=!0)),l=U,U=U.return;A&&u!==null&&l.tag===3&&(U=l.stateNode,A=31-Ra(x),U=U.hiddenUpdates,l=U[A],l===null?U[A]=[u]:l.push(u),u.lane=x|536870912)}function ee(l){if(50<xu)throw xu=0,Hf=null,Error(a(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}function Nt(l){l!==xo&&l.next===null&&(xo===null?Gd=xo=l:xo=xo.next=l),Yn=!0,Ql||(Ql=!0,jt(V))}function W(l,u){if(!f0&&Yn){f0=!0;do for(var x=!1,S=Gd;S!==null;){if(l!==0){var A=S.pendingLanes;if(A===0)var U=0;else{var Y=S.suspendedLanes,tt=S.pingedLanes;U=(1<<31-Ra(42|l)+1)-1,U&=A&~(Y&~tt),U=U&201326677?U&201326677|1:U?U|2:0}U!==0&&(x=!0,It(S,U))}else U=hn,U=B(S,S===Dn?U:0),(U&3)===0||P(S,U)||(x=!0,It(S,U));S=S.next}while(x);f0=!1}}function V(){Yn=Ql=!1;var l=0;cu!==0&&(ey()&&(l=cu),cu=0);for(var u=zr(),x=null,S=Gd;S!==null;){var A=S.next,U=dt(S,u);U===0?(S.next=null,x===null?Gd=A:x.next=A,A===null&&(xo=x)):(x=S,(l!==0||(U&3)!==0)&&(Yn=!0)),S=A}W(l)}function dt(l,u){for(var x=l.suspendedLanes,S=l.pingedLanes,A=l.expirationTimes,U=l.pendingLanes&-62914561;0<U;){var Y=31-Ra(U),tt=1<<Y,mt=A[Y];mt===-1?((tt&x)===0||(tt&S)!==0)&&(A[Y]=H(tt,u)):mt<=u&&(l.expiredLanes|=tt),U&=~tt}if(u=Dn,x=hn,x=B(l,l===u?x:0),S=l.callbackNode,x===0||l===u&&Bn===2||l.cancelPendingCommit!==null)return S!==null&&S!==null&&Uf(S),l.callbackNode=null,l.callbackPriority=0;if((x&3)===0||P(l,x)){if(u=x&-x,u===l.callbackPriority)return u;switch(S!==null&&Uf(S),bt(x)){case 2:case 8:x=Oy;break;case 32:x=Nf;break;case 268435456:x=rS;break;default:x=Nf}return S=Ut.bind(null,l),x=Hd(x,S),l.callbackPriority=u,l.callbackNode=x,u}return S!==null&&S!==null&&Uf(S),l.callbackPriority=2,l.callbackNode=null,2}function Ut(l,u){var x=l.callbackNode;if(as()&&l.callbackNode!==x)return null;var S=hn;return S=B(l,l===Dn?S:0),S===0?null:(Wo(l,S,u),dt(l,zr()),l.callbackNode!=null&&l.callbackNode===x?Ut.bind(null,l):null)}function It(l,u){if(as())return null;Wo(l,u,!0)}function jt(l){Jm?mo(function(){(bn&6)!==0?Hd(Lf,l):l()}):Hd(Lf,l)}function ae(){return cu===0&&(cu=k()),cu}function Kt(l,u){if(uu===null){var x=uu=[];Jl=0,ur=ae(),$l={status:"pending",value:void 0,then:function(S){x.push(S)}}}return Jl++,u.then(ne,ne),u}function ne(){if(--Jl===0&&uu!==null){$l!==null&&($l.status="fulfilled");var l=uu;uu=null,ur=0,$l=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function Qe(l,u){var x=[],S={status:"pending",value:null,reason:null,then:function(A){x.push(A)}};return l.then(function(){S.status="fulfilled",S.value=u;for(var A=0;A<x.length;A++)(0,x[A])(u)},function(A){for(S.status="rejected",S.reason=A,A=0;A<x.length;A++)(0,x[A])(void 0)}),S}function Zt(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fe(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function ge(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function xe(l,u,x){var S=l.updateQueue;if(S===null)return null;if(S=S.shared,(bn&2)!==0){var A=S.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),S.pending=u,u=ee(l),Bt(l,null,x),u}return Ln(l,S,u,x),ee(l)}function ie(l,u,x){if(u=u.updateQueue,u!==null&&(u=u.shared,(x&4194176)!==0)){var S=u.lanes;S&=l.pendingLanes,x|=S,u.lanes=x,xt(l,x)}}function at(l,u){var x=l.updateQueue,S=l.alternate;if(S!==null&&(S=S.updateQueue,x===S)){var A=null,U=null;if(x=x.firstBaseUpdate,x!==null){do{var Y={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};U===null?A=U=Y:U=U.next=Y,x=x.next}while(x!==null);U===null?A=U=u:U=U.next=u}else A=U=u;x={baseState:S.baseState,firstBaseUpdate:A,lastBaseUpdate:U,shared:S.shared,callbacks:S.callbacks},l.updateQueue=x;return}l=x.lastBaseUpdate,l===null?x.firstBaseUpdate=u:l.next=u,x.lastBaseUpdate=u}function Ot(){if(tc){var l=$l;if(l!==null)throw l}}function se(l,u,x,S){tc=!1;var A=l.updateQueue;yo=!1;var U=A.firstBaseUpdate,Y=A.lastBaseUpdate,tt=A.shared.pending;if(tt!==null){A.shared.pending=null;var mt=tt,Vt=mt.next;mt.next=null,Y===null?U=Vt:Y.next=Vt,Y=mt;var te=l.alternate;te!==null&&(te=te.updateQueue,tt=te.lastBaseUpdate,tt!==Y&&(tt===null?te.firstBaseUpdate=Vt:tt.next=Vt,te.lastBaseUpdate=mt))}if(U!==null){var ue=A.baseState;Y=0,te=Vt=mt=null,tt=U;do{var pe=tt.lane&-536870913,Ge=pe!==tt.lane;if(Ge?(hn&pe)===pe:(S&pe)===pe){pe!==0&&pe===ur&&(tc=!0),te!==null&&(te=te.next={lane:0,tag:tt.tag,payload:tt.payload,callback:null,next:null});t:{var yr=l,ml=tt;pe=u;var gl=x;switch(ml.tag){case 1:if(yr=ml.payload,typeof yr=="function"){ue=yr.call(gl,ue,pe);break t}ue=yr;break t;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=ml.payload,pe=typeof yr=="function"?yr.call(gl,ue,pe):yr,pe==null)break t;ue=mf({},ue,pe);break t;case 2:yo=!0}}pe=tt.callback,pe!==null&&(l.flags|=64,Ge&&(l.flags|=8192),Ge=A.callbacks,Ge===null?A.callbacks=[pe]:Ge.push(pe))}else Ge={lane:pe,tag:tt.tag,payload:tt.payload,callback:tt.callback,next:null},te===null?(Vt=te=Ge,mt=ue):te=te.next=Ge,Y|=pe;if(tt=tt.next,tt===null){if(tt=A.shared.pending,tt===null)break;Ge=tt,tt=Ge.next,Ge.next=null,A.lastBaseUpdate=Ge,A.shared.pending=null}}while(!0);te===null&&(mt=ue),A.baseState=mt,A.firstBaseUpdate=Vt,A.lastBaseUpdate=te,U===null&&(A.shared.lanes=0),gr|=Y,l.lanes=Y,l.memoizedState=ue}}function nt(l,u){if(typeof l!="function")throw Error(a(191,l));l.call(u)}function Qt(l,u){var x=l.callbacks;if(x!==null)for(l.callbacks=null,l=0;l<x.length;l++)nt(x[l],u)}function Dt(l,u){if(Xa(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var x=Object.keys(l),S=Object.keys(u);if(x.length!==S.length)return!1;for(S=0;S<x.length;S++){var A=x[S];if(!js.call(u,A)||!Xa(l[A],u[A]))return!1}return!0}function Ft(l){return l=l.status,l==="fulfilled"||l==="rejected"}function ce(){}function oe(l,u,x){switch(x=l[x],x===void 0?l.push(u):x!==u&&(u.then(ce,ce),u=x),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,l===du?Error(a(483)):l;default:if(typeof u.status=="string")u.then(ce,ce);else{if(l=Dn,l!==null&&100<l.shellSuspendCounter)throw Error(a(482));l=u,l.status="pending",l.then(function(S){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=S}},function(S){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=S}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,l===du?Error(a(483)):l}throw ol=u,du}}function Me(){if(ol===null)throw Error(a(459));var l=ol;return ol=null,l}function tn(l){var u=cl;return cl+=1,ll===null&&(ll=[]),oe(ll,l,u)}function An(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function We(l,u){throw u.$$typeof===J_?Error(a(525)):(l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function Ti(l){var u=l._init;return u(l._payload)}function ni(l){function u(Mt,ot){if(l){var Ct=Mt.deletions;Ct===null?(Mt.deletions=[ot],Mt.flags|=16):Ct.push(ot)}}function x(Mt,ot){if(!l)return null;for(;ot!==null;)u(Mt,ot),ot=ot.sibling;return null}function S(Mt){for(var ot=new Map;Mt!==null;)Mt.key!==null?ot.set(Mt.key,Mt):ot.set(Mt.index,Mt),Mt=Mt.sibling;return ot}function A(Mt,ot){return Mt=jr(Mt,ot),Mt.index=0,Mt.sibling=null,Mt}function U(Mt,ot,Ct){return Mt.index=Ct,l?(Ct=Mt.alternate,Ct!==null?(Ct=Ct.index,Ct<ot?(Mt.flags|=33554434,ot):Ct):(Mt.flags|=33554434,ot)):(Mt.flags|=1048576,ot)}function Y(Mt){return l&&Mt.alternate===null&&(Mt.flags|=33554434),Mt}function tt(Mt,ot,Ct,Jt){return ot===null||ot.tag!==6?(ot=ff(Ct,Mt.mode,Jt),ot.return=Mt,ot):(ot=A(ot,Ct),ot.return=Mt,ot)}function mt(Mt,ot,Ct,Jt){var Se=Ct.type;return Se===$o?te(Mt,ot,Ct.props.children,Jt,Ct.key):ot!==null&&(ot.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Nr&&Ti(Se)===ot.type)?(ot=A(ot,Ct.props),An(ot,Ct),ot.return=Mt,ot):(ot=As(Ct.type,Ct.key,Ct.props,null,Mt.mode,Jt),An(ot,Ct),ot.return=Mt,ot)}function Vt(Mt,ot,Ct,Jt){return ot===null||ot.tag!==4||ot.stateNode.containerInfo!==Ct.containerInfo||ot.stateNode.implementation!==Ct.implementation?(ot=Gm(Ct,Mt.mode,Jt),ot.return=Mt,ot):(ot=A(ot,Ct.children||[]),ot.return=Mt,ot)}function te(Mt,ot,Ct,Jt,Se){return ot===null||ot.tag!==7?(ot=di(Ct,Mt.mode,Jt,Se),ot.return=Mt,ot):(ot=A(ot,Ct),ot.return=Mt,ot)}function ue(Mt,ot,Ct){if(typeof ot=="string"&&ot!==""||typeof ot=="number"||typeof ot=="bigint")return ot=ff(""+ot,Mt.mode,Ct),ot.return=Mt,ot;if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case Ud:return Ct=As(ot.type,ot.key,ot.props,null,Mt.mode,Ct),An(Ct,ot),Ct.return=Mt,Ct;case Lr:return ot=Gm(ot,Mt.mode,Ct),ot.return=Mt,ot;case Nr:var Jt=ot._init;return ot=Jt(ot._payload),ue(Mt,ot,Ct)}if($c(ot)||o(ot))return ot=di(ot,Mt.mode,Ct,null),ot.return=Mt,ot;if(typeof ot.then=="function")return ue(Mt,tn(ot),Ct);if(ot.$$typeof===rs)return ue(Mt,gd(Mt,ot),Ct);We(Mt,ot)}return null}function pe(Mt,ot,Ct,Jt){var Se=ot!==null?ot.key:null;if(typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint")return Se!==null?null:tt(Mt,ot,""+Ct,Jt);if(typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case Ud:return Ct.key===Se?mt(Mt,ot,Ct,Jt):null;case Lr:return Ct.key===Se?Vt(Mt,ot,Ct,Jt):null;case Nr:return Se=Ct._init,Ct=Se(Ct._payload),pe(Mt,ot,Ct,Jt)}if($c(Ct)||o(Ct))return Se!==null?null:te(Mt,ot,Ct,Jt,null);if(typeof Ct.then=="function")return pe(Mt,ot,tn(Ct),Jt);if(Ct.$$typeof===rs)return pe(Mt,ot,gd(Mt,Ct),Jt);We(Mt,Ct)}return null}function Ge(Mt,ot,Ct,Jt,Se){if(typeof Jt=="string"&&Jt!==""||typeof Jt=="number"||typeof Jt=="bigint")return Mt=Mt.get(Ct)||null,tt(ot,Mt,""+Jt,Se);if(typeof Jt=="object"&&Jt!==null){switch(Jt.$$typeof){case Ud:return Mt=Mt.get(Jt.key===null?Ct:Jt.key)||null,mt(ot,Mt,Jt,Se);case Lr:return Mt=Mt.get(Jt.key===null?Ct:Jt.key)||null,Vt(ot,Mt,Jt,Se);case Nr:var $n=Jt._init;return Jt=$n(Jt._payload),Ge(Mt,ot,Ct,Jt,Se)}if($c(Jt)||o(Jt))return Mt=Mt.get(Ct)||null,te(ot,Mt,Jt,Se,null);if(typeof Jt.then=="function")return Ge(Mt,ot,Ct,tn(Jt),Se);if(Jt.$$typeof===rs)return Ge(Mt,ot,Ct,gd(ot,Jt),Se);We(ot,Jt)}return null}function yr(Mt,ot,Ct,Jt){for(var Se=null,$n=null,Fe=ot,Mn=ot=0,vi=null;Fe!==null&&Mn<Ct.length;Mn++){Fe.index>Mn?(vi=Fe,Fe=null):vi=Fe.sibling;var cn=pe(Mt,Fe,Ct[Mn],Jt);if(cn===null){Fe===null&&(Fe=vi);break}l&&Fe&&cn.alternate===null&&u(Mt,Fe),ot=U(cn,ot,Mn),$n===null?Se=cn:$n.sibling=cn,$n=cn,Fe=vi}if(Mn===Ct.length)return x(Mt,Fe),xn&&q(Mt,Mn),Se;if(Fe===null){for(;Mn<Ct.length;Mn++)Fe=ue(Mt,Ct[Mn],Jt),Fe!==null&&(ot=U(Fe,ot,Mn),$n===null?Se=Fe:$n.sibling=Fe,$n=Fe);return xn&&q(Mt,Mn),Se}for(Fe=S(Fe);Mn<Ct.length;Mn++)vi=Ge(Fe,Mt,Mn,Ct[Mn],Jt),vi!==null&&(l&&vi.alternate!==null&&Fe.delete(vi.key===null?Mn:vi.key),ot=U(vi,ot,Mn),$n===null?Se=vi:$n.sibling=vi,$n=vi);return l&&Fe.forEach(function(Fs){return u(Mt,Fs)}),xn&&q(Mt,Mn),Se}function ml(Mt,ot,Ct,Jt){if(Ct==null)throw Error(a(151));for(var Se=null,$n=null,Fe=ot,Mn=ot=0,vi=null,cn=Ct.next();Fe!==null&&!cn.done;Mn++,cn=Ct.next()){Fe.index>Mn?(vi=Fe,Fe=null):vi=Fe.sibling;var Fs=pe(Mt,Fe,cn.value,Jt);if(Fs===null){Fe===null&&(Fe=vi);break}l&&Fe&&Fs.alternate===null&&u(Mt,Fe),ot=U(Fs,ot,Mn),$n===null?Se=Fs:$n.sibling=Fs,$n=Fs,Fe=vi}if(cn.done)return x(Mt,Fe),xn&&q(Mt,Mn),Se;if(Fe===null){for(;!cn.done;Mn++,cn=Ct.next())cn=ue(Mt,cn.value,Jt),cn!==null&&(ot=U(cn,ot,Mn),$n===null?Se=cn:$n.sibling=cn,$n=cn);return xn&&q(Mt,Mn),Se}for(Fe=S(Fe);!cn.done;Mn++,cn=Ct.next())cn=Ge(Fe,Mt,Mn,cn.value,Jt),cn!==null&&(l&&cn.alternate!==null&&Fe.delete(cn.key===null?Mn:cn.key),ot=U(cn,ot,Mn),$n===null?Se=cn:$n.sibling=cn,$n=cn);return l&&Fe.forEach(function(kf){return u(Mt,kf)}),xn&&q(Mt,Mn),Se}function gl(Mt,ot,Ct,Jt){if(typeof Ct=="object"&&Ct!==null&&Ct.type===$o&&Ct.key===null&&(Ct=Ct.props.children),typeof Ct=="object"&&Ct!==null){switch(Ct.$$typeof){case Ud:t:{for(var Se=Ct.key;ot!==null;){if(ot.key===Se){if(Se=Ct.type,Se===$o){if(ot.tag===7){x(Mt,ot.sibling),Jt=A(ot,Ct.props.children),Jt.return=Mt,Mt=Jt;break t}}else if(ot.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===Nr&&Ti(Se)===ot.type){x(Mt,ot.sibling),Jt=A(ot,Ct.props),An(Jt,Ct),Jt.return=Mt,Mt=Jt;break t}x(Mt,ot);break}else u(Mt,ot);ot=ot.sibling}Ct.type===$o?(Jt=di(Ct.props.children,Mt.mode,Jt,Ct.key),Jt.return=Mt,Mt=Jt):(Jt=As(Ct.type,Ct.key,Ct.props,null,Mt.mode,Jt),An(Jt,Ct),Jt.return=Mt,Mt=Jt)}return Y(Mt);case Lr:t:{for(Se=Ct.key;ot!==null;){if(ot.key===Se)if(ot.tag===4&&ot.stateNode.containerInfo===Ct.containerInfo&&ot.stateNode.implementation===Ct.implementation){x(Mt,ot.sibling),Jt=A(ot,Ct.children||[]),Jt.return=Mt,Mt=Jt;break t}else{x(Mt,ot);break}else u(Mt,ot);ot=ot.sibling}Jt=Gm(Ct,Mt.mode,Jt),Jt.return=Mt,Mt=Jt}return Y(Mt);case Nr:return Se=Ct._init,Ct=Se(Ct._payload),gl(Mt,ot,Ct,Jt)}if($c(Ct))return yr(Mt,ot,Ct,Jt);if(o(Ct)){if(Se=o(Ct),typeof Se!="function")throw Error(a(150));return Ct=Se.call(Ct),ml(Mt,ot,Ct,Jt)}if(typeof Ct.then=="function")return gl(Mt,ot,tn(Ct),Jt);if(Ct.$$typeof===rs)return gl(Mt,ot,gd(Mt,Ct),Jt);We(Mt,Ct)}return typeof Ct=="string"&&Ct!==""||typeof Ct=="number"||typeof Ct=="bigint"?(Ct=""+Ct,ot!==null&&ot.tag===6?(x(Mt,ot.sibling),Jt=A(ot,Ct),Jt.return=Mt,Mt=Jt):(x(Mt,ot),Jt=ff(Ct,Mt.mode,Jt),Jt.return=Mt,Mt=Jt),Y(Mt)):x(Mt,ot)}return function(Mt,ot,Ct,Jt){try{cl=0;var Se=gl(Mt,ot,Ct,Jt);return ll=null,Se}catch(Fe){if(Fe===du)throw Fe;var $n=e(29,Fe,null,Mt.mode);return $n.lanes=Jt,$n.return=Mt,$n}finally{}}}function Ei(l,u){l=xa,D(hu,l),D(Wn,u),xa=l|u.baseLanes}function Ni(){D(hu,xa),D(Wn,Wn.current)}function fa(){xa=hu.current,T(Wn),T(hu)}function Pa(l){var u=l.alternate;D(Pi,Pi.current&1),D(dr,l),Hn===null&&(u===null||Wn.current!==null||u.memoizedState!==null)&&(Hn=l)}function ad(l){if(l.tag===22){if(D(Pi,Pi.current),D(dr,l),Hn===null){var u=l.alternate;u!==null&&u.memoizedState!==null&&(Hn=l)}}else Jr()}function Jr(){D(Pi,Pi.current),D(dr,dr.current)}function Sa(l){T(dr),Hn===l&&(Hn=null),T(Pi)}function $r(l){for(var u=l;u!==null;){if(u.tag===13){var x=u.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Tf(x)||Ef(x)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}function zn(){throw Error(a(321))}function ts(l,u){if(u===null)return!1;for(var x=0;x<u.length&&x<l.length;x++)if(!Xa(l[x],u[x]))return!1;return!0}function es(l,u,x,S,A,U){return vo=U,Je=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Ie.H=l===null||l.memoizedState===null?hl:Da,dl=!1,U=x(S,A),dl=!1,ec&&(U=Qs(u,x,S,A)),Po(l),U}function Po(l){Ie.H=hi;var u=Re!==null&&Re.next!==null;if(vo=0,vn=Re=Je=null,Ir=!1,nc=0,Wi=null,u)throw Error(a(300));l===null||kn||(l=l.dependencies,l!==null&&md(l)&&(kn=!0))}function Qs(l,u,x,S){Je=l;var A=0;do{if(ec&&(Wi=null),nc=0,ec=!1,25<=A)throw Error(a(301));if(A+=1,vn=Re=null,l.updateQueue!=null){var U=l.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}Ie.H=hr,U=u(x,S)}while(ec);return U}function wi(){var l=Ie.H,u=l.useState()[0];return u=typeof u.then=="function"?Et(u):u,l=l.useState()[0],(Re!==null?Re.memoizedState:null)!==l&&(Je.flags|=1024),u}function Uc(){var l=Of!==0;return Of=0,l}function jc(l,u,x){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x}function ns(l){if(Ir){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Ir=!1}vo=0,vn=Re=Je=null,ec=!1,nc=Of=0,Wi=null}function X(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?Je.memoizedState=vn=l:vn=vn.next=l,vn}function ct(){if(Re===null){var l=Je.alternate;l=l!==null?l.memoizedState:null}else l=Re.next;var u=vn===null?Je.memoizedState:vn.next;if(u!==null)vn=u,Re=l;else{if(l===null)throw Je.alternate===null?Error(a(467)):Error(a(310));Re=l,l={memoizedState:Re.memoizedState,baseState:Re.baseState,baseQueue:Re.baseQueue,queue:Re.queue,next:null},vn===null?Je.memoizedState=vn=l:vn=vn.next=l}return vn}function Et(l){var u=nc;return nc+=1,Wi===null&&(Wi=[]),l=oe(Wi,l,u),u=Je,(vn===null?u.memoizedState:vn.next)===null&&(u=u.alternate,Ie.H=u===null||u.memoizedState===null?hl:Da),l}function wt(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Et(l);if(l.$$typeof===rs)return ia(l)}throw Error(a(438,String(l)))}function pt(l){var u=null,x=Je.updateQueue;if(x!==null&&(u=x.memoCache),u==null){var S=Je.alternate;S!==null&&(S=S.updateQueue,S!==null&&(S=S.memoCache,S!=null&&(u={data:S.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),x===null&&(x=zf(),Je.updateQueue=x),x.memoCache=u,x=u.data[u.index],x===void 0)for(x=u.data[u.index]=Array(l),S=0;S<l;S++)x[S]=Kx;return u.index++,x}function Yt(l,u){return typeof u=="function"?u(l):u}function re(l){var u=ct();return le(u,Re,l)}function le(l,u,x){var S=l.queue;if(S===null)throw Error(a(311));S.lastRenderedReducer=x;var A=l.baseQueue,U=S.pending;if(U!==null){if(A!==null){var Y=A.next;A.next=U.next,U.next=Y}u.baseQueue=A=U,S.pending=null}if(U=l.baseState,A===null)l.memoizedState=U;else{u=A.next;var tt=Y=null,mt=null,Vt=u,te=!1;do{var ue=Vt.lane&-536870913;if(ue!==Vt.lane?(hn&ue)===ue:(vo&ue)===ue){var pe=Vt.revertLane;if(pe===0)mt!==null&&(mt=mt.next={lane:0,revertLane:0,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null}),ue===ur&&(te=!0);else if((vo&pe)===pe){Vt=Vt.next,pe===ur&&(te=!0);continue}else ue={lane:0,revertLane:Vt.revertLane,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null},mt===null?(tt=mt=ue,Y=U):mt=mt.next=ue,Je.lanes|=pe,gr|=pe;ue=Vt.action,dl&&x(U,ue),U=Vt.hasEagerState?Vt.eagerState:x(U,ue)}else pe={lane:ue,revertLane:Vt.revertLane,action:Vt.action,hasEagerState:Vt.hasEagerState,eagerState:Vt.eagerState,next:null},mt===null?(tt=mt=pe,Y=U):mt=mt.next=pe,Je.lanes|=ue,gr|=ue;Vt=Vt.next}while(Vt!==null&&Vt!==u);if(mt===null?Y=U:mt.next=tt,!Xa(U,l.memoizedState)&&(kn=!0,te&&(x=$l,x!==null)))throw x;l.memoizedState=U,l.baseState=Y,l.baseQueue=mt,S.lastRenderedState=U}return A===null&&(S.lanes=0),[l.memoizedState,S.dispatch]}function me(l){var u=ct(),x=u.queue;if(x===null)throw Error(a(311));x.lastRenderedReducer=l;var S=x.dispatch,A=x.pending,U=u.memoizedState;if(A!==null){x.pending=null;var Y=A=A.next;do U=l(U,Y.action),Y=Y.next;while(Y!==A);Xa(U,u.memoizedState)||(kn=!0),u.memoizedState=U,u.baseQueue===null&&(u.baseState=U),x.lastRenderedState=U}return[U,S]}function je(l,u,x){var S=Je,A=ct(),U=xn;if(U){if(x===void 0)throw Error(a(407));x=x()}else x=u();var Y=!Xa((Re||A).memoizedState,x);if(Y&&(A.memoizedState=x,kn=!0),A=A.queue,mm(rn.bind(null,S,A,l),[l]),A.getSnapshot!==u||Y||vn!==null&&vn.memoizedState.tag&1){if(S.flags|=2048,Ma(9,_e.bind(null,S,A,x,u),{destroy:void 0},null),Dn===null)throw Error(a(349));U||(vo&60)!==0||Ee(S,u,x)}return x}function Ee(l,u,x){l.flags|=16384,l={getSnapshot:u,value:x},u=Je.updateQueue,u===null?(u=zf(),Je.updateQueue=u,u.stores=[l]):(x=u.stores,x===null?u.stores=[l]:x.push(l))}function _e(l,u,x,S){u.value=x,u.getSnapshot=S,yn(u)&&ii(l)}function rn(l,u,x){return x(function(){yn(u)&&ii(l)})}function yn(l){var u=l.getSnapshot;l=l.value;try{var x=u();return!Xa(l,x)}catch{return!0}}function ii(l){var u=zt(l,2);u!==null&&Xi(u,l,2)}function ln(l){var u=X();if(typeof l=="function"){var x=l;if(l=x(),dl){Z(!0);try{x()}finally{Z(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:l},u}function dn(l,u,x,S){return l.baseState=x,le(l,Re,typeof S=="function"?S:Yt)}function Ae(l,u,x,S,A){if(ud(l))throw Error(a(485));if(l=u.action,l!==null){var U={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Y){U.listeners.push(Y)}};Ie.T!==null?x(!0):U.isTransition=!1,S(U),x=u.pending,x===null?(U.next=u.pending=U,si(u,U)):(U.next=x.next,u.pending=x.next=U)}}function si(l,u){var x=u.action,S=u.payload,A=l.state;if(u.isTransition){var U=Ie.T,Y={};Ie.T=Y;try{var tt=x(A,S),mt=Ie.S;mt!==null&&mt(Y,tt),gn(l,u,tt)}catch(Vt){_s(l,u,Vt)}finally{Ie.T=U}}else try{U=x(A,S),gn(l,u,U)}catch(Vt){_s(l,u,Vt)}}function gn(l,u,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(S){ta(l,u,S)},function(S){return _s(l,u,S)}):ta(l,u,x)}function ta(l,u,x){u.status="fulfilled",u.value=x,Fn(u),l.state=x,u=l.pending,u!==null&&(x=u.next,x===u?l.pending=null:(x=x.next,u.next=x,si(l,x)))}function _s(l,u,x){var S=l.pending;if(l.pending=null,S!==null){S=S.next;do u.status="rejected",u.reason=x,Fn(u),u=u.next;while(u!==S)}l.action=null}function Fn(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Ss(l,u){return u}function Pn(l,u){if(xn){var x=Dn.formState;if(x!==null){t:{var S=Je;if(xn){if(ca){var A=o0(ca,Yi);if(A){ca=l0(A),S=yy(A);break t}}$t(S)}S=!1}S&&(u=x[0])}}x=X(),x.memoizedState=x.baseState=u,S={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ss,lastRenderedState:u},x.queue=S,x=vm.bind(null,Je,S),S.dispatch=x,S=ln(!1);var U=Oc.bind(null,Je,!1,S.queue);return S=X(),A={state:u,dispatch:null,action:l,pending:null},S.queue=A,x=Ae.bind(null,Je,A,U,x),A.dispatch=x,S.memoizedState=l,[u,x,!1]}function ea(l){var u=ct();return Ai(u,Re,l)}function Ai(l,u,x){u=le(l,u,Ss)[0],l=re(Yt)[0],u=typeof u=="object"&&u!==null&&typeof u.then=="function"?Et(u):u;var S=ct(),A=S.queue,U=A.dispatch;return x!==S.memoizedState&&(Je.flags|=2048,Ma(9,Hi.bind(null,A,x),{destroy:void 0},null)),[u,U,l]}function Hi(l,u){l.action=u}function ki(l){var u=ct(),x=Re;if(x!==null)return Ai(u,x,l);ct(),u=u.memoizedState,x=ct();var S=x.queue.dispatch;return x.memoizedState=l,[u,S,!1]}function Ma(l,u,x,S){return l={tag:l,create:u,inst:x,deps:S,next:null},u=Je.updateQueue,u===null&&(u=zf(),Je.updateQueue=u),x=u.lastEffect,x===null?u.lastEffect=l.next=l:(S=x.next,x.next=l,l.next=S,u.lastEffect=l),l}function Ms(){return ct().memoizedState}function rd(l,u,x,S){var A=X();Je.flags|=l,A.memoizedState=Ma(1|u,x,{destroy:void 0},S===void 0?null:S)}function sd(l,u,x,S){var A=ct();S=S===void 0?null:S;var U=A.memoizedState.inst;Re!==null&&S!==null&&ts(S,Re.memoizedState.deps)?A.memoizedState=Ma(u,x,U,S):(Je.flags|=l,A.memoizedState=Ma(1|u,x,U,S))}function qh(l,u){rd(8390656,8,l,u)}function mm(l,u){sd(2048,8,l,u)}function Cx(l,u){return sd(4,2,l,u)}function od(l,u){return sd(4,4,l,u)}function Yh(l,u){if(typeof u=="function"){l=l();var x=u(l);return function(){typeof x=="function"?x():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Wh(l,u,x){x=x!=null?x.concat([l]):null,sd(4,4,Yh.bind(null,u,l),x)}function Bo(){}function Bl(l,u){var x=ct();u=u===void 0?null:u;var S=x.memoizedState;return u!==null&&ts(u,S[1])?S[0]:(x.memoizedState=[l,u],l)}function gm(l,u){var x=ct();u=u===void 0?null:u;var S=x.memoizedState;if(u!==null&&ts(u,S[1]))return S[0];if(S=l(),dl){Z(!0);try{l()}finally{Z(!1)}}return x.memoizedState=[S,u],S}function ld(l,u,x){return x===void 0||(vo&1073741824)!==0?l.memoizedState=u:(l.memoizedState=x,l=Bm(),Je.lanes|=l,gr|=l,x)}function xm(l,u,x,S){return Xa(x,u)?x:Wn.current!==null?(l=ld(l,x,S),Xa(l,u)||(kn=!0),l):(vo&42)===0?(kn=!0,l.memoizedState=x):(l=Bm(),Je.lanes|=l,gr|=l,u)}function Lc(l,u,x,S,A){var U=po();ma(U!==0&&8>U?U:8);var Y=Ie.T,tt={};Ie.T=tt,Oc(l,!1,u,x);try{var mt=A(),Vt=Ie.S;if(Vt!==null&&Vt(tt,mt),mt!==null&&typeof mt=="object"&&typeof mt.then=="function"){var te=Qe(mt,S);Io(l,u,te,mi(l))}else Io(l,u,S,mi(l))}catch(ue){Io(l,u,{then:function(){},status:"rejected",reason:ue},mi())}finally{ma(U),Ie.T=Y}}function Ts(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:el,baseState:el,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:el},next:null};var x={};return u.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yt,lastRenderedState:x},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function cd(){return ia(ss)}function Nc(){return ct().memoizedState}function Js(){return ct().memoizedState}function ym(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var x=mi();l=ge(x);var S=xe(u,l,x);S!==null&&(Xi(S,u,x),ie(S,u,x)),u={cache:ko()},l.payload=u;return}u=u.return}}function Zh(l,u,x){var S=mi();x={lane:S,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null},ud(l)?Ta(u,x):(x=kt(l,u,x,S),x!==null&&(Xi(x,l,S),Fo(x,u,S)))}function vm(l,u,x){var S=mi();Io(l,u,x,S)}function Io(l,u,x,S){var A={lane:S,revertLane:0,action:x,hasEagerState:!1,eagerState:null,next:null};if(ud(l))Ta(u,A);else{var U=l.alternate;if(l.lanes===0&&(U===null||U.lanes===0)&&(U=u.lastRenderedReducer,U!==null))try{var Y=u.lastRenderedState,tt=U(Y,x);if(A.hasEagerState=!0,A.eagerState=tt,Xa(tt,Y))return Ln(l,u,A,0),Dn===null&&et(),!1}catch{}finally{}if(x=kt(l,u,A,S),x!==null)return Xi(x,l,S),Fo(x,u,S),!0}return!1}function Oc(l,u,x,S){if(S={lane:2,revertLane:ae(),action:S,hasEagerState:!1,eagerState:null,next:null},ud(l)){if(u)throw Error(a(479))}else u=kt(l,x,S,2),u!==null&&Xi(u,l,2)}function ud(l){var u=l.alternate;return l===Je||u!==null&&u===Je}function Ta(l,u){ec=Ir=!0;var x=l.pending;x===null?u.next=u:(u.next=x.next,x.next=u),l.pending=u}function Fo(l,u,x){if((x&4194176)!==0){var S=u.lanes;S&=l.pendingLanes,x|=S,u.lanes=x,xt(l,x)}}function zc(l,u,x,S){u=l.memoizedState,x=x(S,u),x=x==null?u:mf({},u,x),l.memoizedState=x,l.lanes===0&&(l.updateQueue.baseState=x)}function Pc(l,u,x,S,A,U,Y){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(S,U,Y):u.prototype&&u.prototype.isPureReactComponent?!Dt(x,S)||!Dt(A,U):!0}function Rx(l,u,x,S){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(x,S),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(x,S),u.state!==l&&Ns.enqueueReplaceState(u,u.state,null)}function $s(l,u){var x=u;if("ref"in u){x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}if(l=l.defaultProps){x===u&&(x=mf({},x));for(var A in l)x[A]===void 0&&(x[A]=l[A])}return x}function Bc(l,u){try{var x=l.onUncaughtError;x(u.value,{componentStack:u.stack})}catch(S){setTimeout(function(){throw S})}}function Ic(l,u,x){try{var S=l.onCaughtError;S(x.value,{componentStack:x.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Fc(l,u,x){return x=ge(x),x.tag=3,x.payload={element:null},x.callback=function(){Bc(l,u)},x}function bm(l){return l=ge(l),l.tag=3,l}function Dx(l,u,x,S){var A=x.type.getDerivedStateFromError;if(typeof A=="function"){var U=S.value;l.payload=function(){return A(U)},l.callback=function(){Ic(u,x,S)}}var Y=x.stateNode;Y!==null&&typeof Y.componentDidCatch=="function"&&(l.callback=function(){Ic(u,x,S),typeof A!="function"&&(fl===null?fl=new Set([this]):fl.add(this));var tt=S.stack;this.componentDidCatch(S.value,{componentStack:tt!==null?tt:""})})}function W_(l,u,x,S,A){if(x.flags|=32768,S!==null&&typeof S=="object"&&typeof S.then=="function"){if(u=x.alternate,u!==null&&pd(u,x,A,!0),x=dr.current,x!==null){switch(x.tag){case 13:return Hn===null?oo():x.alternate===null&&Gn===0&&(Gn=3),x.flags&=-257,x.flags|=65536,x.lanes=A,S===qd?x.flags|=16384:(u=x.updateQueue,u===null?x.updateQueue=new Set([S]):u.add(S),Vl(l,S,A)),!1;case 22:return x.flags|=65536,S===qd?x.flags|=16384:(u=x.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([S])},x.updateQueue=u):(x=u.retryQueue,x===null?u.retryQueue=new Set([S]):x.add(S)),Vl(l,S,A)),!1}throw Error(a(435,x.tag))}return Vl(l,S,A),oo(),!1}if(xn)return u=dr.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,S!==kd&&(l=Error(a(422),{cause:S}),Be(ut(l,x)))):(S!==kd&&(u=Error(a(423),{cause:S}),Be(ut(u,x))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,S=ut(S,x),A=Fc(l.stateNode,S,A),at(l,A),Gn!==4&&(Gn=2)),!1;var U=Error(a(520),{cause:S});if(U=ut(U,x),ac===null?ac=[U]:ac.push(U),Gn!==4&&(Gn=2),u===null)return!0;S=ut(S,x),x=u;do{switch(x.tag){case 3:return x.flags|=65536,l=A&-A,x.lanes|=l,l=Fc(x.stateNode,S,l),at(x,l),!1;case 1:if(u=x.type,U=x.stateNode,(x.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(fl===null||!fl.has(U))))return x.flags|=65536,A&=-A,x.lanes|=A,A=bm(A),Dx(A,l,x,S),at(x,A),!1}x=x.return}while(x!==null);return!1}function na(l,u,x,S){u.child=l===null?Ls(u,null,x,S):ul(u,l.child,x,S)}function Kh(l,u,x,S,A){x=x.render;var U=u.ref;if("ref"in S){var Y={};for(var tt in S)tt!=="ref"&&(Y[tt]=S[tt])}else Y=S;return Ho(u),S=es(l,u,x,Y,U,A),tt=Uc(),l!==null&&!kn?(jc(l,u,A),to(l,u,A)):(xn&&tt&&St(u),u.flags|=1,na(l,u,S,A),u.child)}function Ux(l,u,x,S,A){if(l===null){var U=x.type;return typeof U=="function"&&!Ad(U)&&U.defaultProps===void 0&&x.compare===null?(u.tag=15,u.type=U,jx(l,u,U,S,A)):(l=As(x.type,null,S,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(U=l.child,!Em(l,A)){var Y=U.memoizedProps;if(x=x.compare,x=x!==null?x:Dt,x(Y,S)&&l.ref===u.ref)return to(l,u,A)}return u.flags|=1,l=jr(U,S),l.ref=u.ref,l.return=u,u.child=l}function jx(l,u,x,S,A){if(l!==null){var U=l.memoizedProps;if(Dt(U,S)&&l.ref===u.ref)if(kn=!1,u.pendingProps=S=U,Em(l,A))(l.flags&131072)!==0&&(kn=!0);else return u.lanes=l.lanes,to(l,u,A)}return Qh(l,u,x,S,A)}function Lx(l,u,x){var S=u.pendingProps,A=S.children,U=(u.stateNode._pendingVisibility&2)!==0,Y=l!==null?l.memoizedState:null;if(dd(l,u),S.mode==="hidden"||U){if((u.flags&128)!==0){if(S=Y!==null?Y.baseLanes|x:x,l!==null){for(A=u.child=l.child,U=0;A!==null;)U=U|A.lanes|A.childLanes,A=A.sibling;u.childLanes=U&~S}else u.childLanes=0,u.child=null;return Nx(l,u,S,x)}if((x&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&$h(u,Y!==null?Y.cachePool:null),Y!==null?Ei(u,Y):Ni(),ad(u);else return u.lanes=u.childLanes=536870912,Nx(l,u,Y!==null?Y.baseLanes|x:x,x)}else Y!==null?($h(u,Y.cachePool),Ei(u,Y),Jr(),u.memoizedState=null):(l!==null&&$h(u,null),Ni(),Jr());return na(l,u,A,x),u.child}function Nx(l,u,x,S){var A=Am();return A=A===null?null:{parent:Aa?Zn._currentValue:Zn._currentValue2,pool:A},u.memoizedState={baseLanes:x,cachePool:A},l!==null&&$h(u,null),Ni(),ad(u),l!==null&&pd(l,u,S,!0),null}function dd(l,u){var x=u.ref;if(x===null)l!==null&&l.ref!==null&&(u.flags|=2097664);else{if(typeof x!="function"&&typeof x!="object")throw Error(a(284));(l===null||l.ref!==x)&&(u.flags|=2097664)}}function Qh(l,u,x,S,A){return Ho(u),x=es(l,u,x,S,void 0,A),S=Uc(),l!==null&&!kn?(jc(l,u,A),to(l,u,A)):(xn&&S&&St(u),u.flags|=1,na(l,u,x,A),u.child)}function Ox(l,u,x,S,A,U){return Ho(u),u.updateQueue=null,x=Qs(u,S,x,A),Po(l),S=Uc(),l!==null&&!kn?(jc(l,u,U),to(l,u,U)):(xn&&S&&St(u),u.flags|=1,na(l,u,x,U),u.child)}function zx(l,u,x,S,A){if(Ho(u),u.stateNode===null){var U=rl,Y=x.contextType;typeof Y=="object"&&Y!==null&&(U=ia(Y)),U=new x(S,U),u.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Ns,u.stateNode=U,U._reactInternals=u,U=u.stateNode,U.props=S,U.state=u.memoizedState,U.refs={},Zt(u),Y=x.contextType,U.context=typeof Y=="object"&&Y!==null?ia(Y):rl,U.state=u.memoizedState,Y=x.getDerivedStateFromProps,typeof Y=="function"&&(zc(u,x,Y,S),U.state=u.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Y=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Y!==U.state&&Ns.enqueueReplaceState(U,U.state,null),se(u,S,U,A),Ot(),U.state=u.memoizedState),typeof U.componentDidMount=="function"&&(u.flags|=4194308),S=!0}else if(l===null){U=u.stateNode;var tt=u.memoizedProps,mt=$s(x,tt);U.props=mt;var Vt=U.context,te=x.contextType;Y=rl,typeof te=="object"&&te!==null&&(Y=ia(te));var ue=x.getDerivedStateFromProps;te=typeof ue=="function"||typeof U.getSnapshotBeforeUpdate=="function",tt=u.pendingProps!==tt,te||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(tt||Vt!==Y)&&Rx(u,U,S,Y),yo=!1;var pe=u.memoizedState;U.state=pe,se(u,S,U,A),Ot(),Vt=u.memoizedState,tt||pe!==Vt||yo?(typeof ue=="function"&&(zc(u,x,ue,S),Vt=u.memoizedState),(mt=yo||Pc(u,x,mt,S,pe,Vt,Y))?(te||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(u.flags|=4194308)):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=S,u.memoizedState=Vt),U.props=S,U.state=Vt,U.context=Y,S=mt):(typeof U.componentDidMount=="function"&&(u.flags|=4194308),S=!1)}else{U=u.stateNode,fe(l,u),Y=u.memoizedProps,te=$s(x,Y),U.props=te,ue=u.pendingProps,pe=U.context,Vt=x.contextType,mt=rl,typeof Vt=="object"&&Vt!==null&&(mt=ia(Vt)),tt=x.getDerivedStateFromProps,(Vt=typeof tt=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Y!==ue||pe!==mt)&&Rx(u,U,S,mt),yo=!1,pe=u.memoizedState,U.state=pe,se(u,S,U,A),Ot();var Ge=u.memoizedState;Y!==ue||pe!==Ge||yo||l!==null&&l.dependencies!==null&&md(l.dependencies)?(typeof tt=="function"&&(zc(u,x,tt,S),Ge=u.memoizedState),(te=yo||Pc(u,x,te,S,pe,Ge,mt)||l!==null&&l.dependencies!==null&&md(l.dependencies))?(Vt||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(S,Ge,mt),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(S,Ge,mt)),typeof U.componentDidUpdate=="function"&&(u.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof U.componentDidUpdate!="function"||Y===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),u.memoizedProps=S,u.memoizedState=Ge),U.props=S,U.state=Ge,U.context=mt,S=te):(typeof U.componentDidUpdate!="function"||Y===l.memoizedProps&&pe===l.memoizedState||(u.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&pe===l.memoizedState||(u.flags|=1024),S=!1)}return U=S,dd(l,u),S=(u.flags&128)!==0,U||S?(U=u.stateNode,x=S&&typeof x.getDerivedStateFromError!="function"?null:U.render(),u.flags|=1,l!==null&&S?(u.child=ul(u,l.child,null,A),u.child=ul(u,null,x,A)):na(l,u,x,A),u.memoizedState=U.state,l=u.child):l=to(l,u,A),l}function Px(l,u,x,S){return Ne(),u.flags|=256,na(l,u,x,S),u.child}function _m(l){return{baseLanes:l,cachePool:Cm()}}function hd(l,u,x){return l=l!==null?l.childLanes&~x:0,u&&(l|=xr),l}function Bx(l,u,x){var S=u.pendingProps,A=!1,U=(u.flags&128)!==0,Y;if((Y=U)||(Y=l!==null&&l.memoizedState===null?!1:(Pi.current&2)!==0),Y&&(A=!0,u.flags&=-129),Y=(u.flags&32)!==0,u.flags&=-33,l===null){if(xn){if(A?Pa(u):Jr(),xn){var tt=ca,mt;(mt=tt)&&(tt=_y(tt,Yi),tt!==null?(u.memoizedState={dehydrated:tt,treeContext:sl!==null?{id:ls,overflow:cs}:null,retryLane:536870912},mt=e(18,null,null,0),mt.stateNode=tt,mt.return=u,u.child=mt,la=u,ca=null,mt=!0):mt=!1),mt||$t(u)}if(tt=u.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null))return Ef(tt)?u.lanes=16:u.lanes=536870912,null;Sa(u)}return tt=S.children,S=S.fallback,A?(Jr(),A=u.mode,tt=Mm({mode:"hidden",children:tt},A),S=di(S,A,x,null),tt.return=u,S.return=u,tt.sibling=S,u.child=tt,A=u.child,A.memoizedState=_m(x),A.childLanes=hd(l,Y,x),u.memoizedState=If,S):(Pa(u),Sm(u,tt))}if(mt=l.memoizedState,mt!==null&&(tt=mt.dehydrated,tt!==null)){if(U)u.flags&256?(Pa(u),u.flags&=-257,u=Jh(l,u,x)):u.memoizedState!==null?(Jr(),u.child=l.child,u.flags|=128,u=null):(Jr(),A=S.fallback,tt=u.mode,S=Mm({mode:"visible",children:S.children},tt),A=di(A,tt,x,null),A.flags|=2,S.return=u,A.return=u,S.sibling=A,u.child=S,ul(u,l.child,null,x),S=u.child,S.memoizedState=_m(x),S.childLanes=hd(l,Y,x),u.memoizedState=If,u=A);else if(Pa(u),Ef(tt))Y=gy(tt).digest,S=Error(a(419)),S.stack="",S.digest=Y,Be({value:S,source:null,stack:null}),u=Jh(l,u,x);else if(kn||pd(l,u,x,!1),Y=(x&l.childLanes)!==0,kn||Y){if(Y=Dn,Y!==null){if(S=x&-x,(S&42)!==0)S=1;else switch(S){case 2:S=1;break;case 8:S=4;break;case 32:S=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:S=64;break;case 268435456:S=134217728;break;default:S=0}if(S=(S&(Y.suspendedLanes|x))!==0?0:S,S!==0&&S!==mt.retryLane)throw mt.retryLane=S,zt(l,S),Xi(Y,l,S),Bf}Tf(tt)||oo(),u=Jh(l,u,x)}else Tf(tt)?(u.flags|=128,u.child=l.child,u=lo.bind(null,l),xy(tt,u),u=null):(l=mt.treeContext,oa&&(ca=by(tt),la=u,xn=!0,Pr=null,Yi=!1,l!==null&&(lr[cr++]=ls,lr[cr++]=cs,lr[cr++]=sl,ls=l.id,cs=l.overflow,sl=u)),u=Sm(u,S.children),u.flags|=4096);return u}return A?(Jr(),A=S.fallback,tt=u.mode,mt=l.child,U=mt.sibling,S=jr(mt,{mode:"hidden",children:S.children}),S.subtreeFlags=mt.subtreeFlags&31457280,U!==null?A=jr(U,A):(A=di(A,tt,x,null),A.flags|=2),A.return=u,S.return=u,S.sibling=A,u.child=S,S=A,A=u.child,tt=l.child.memoizedState,tt===null?tt=_m(x):(mt=tt.cachePool,mt!==null?(U=Aa?Zn._currentValue:Zn._currentValue2,mt=mt.parent!==U?{parent:U,pool:U}:mt):mt=Cm(),tt={baseLanes:tt.baseLanes|x,cachePool:mt}),A.memoizedState=tt,A.childLanes=hd(l,Y,x),u.memoizedState=If,S):(Pa(u),x=l.child,l=x.sibling,x=jr(x,{mode:"visible",children:S.children}),x.return=u,x.sibling=null,l!==null&&(Y=u.deletions,Y===null?(u.deletions=[l],u.flags|=16):Y.push(l)),u.child=x,u.memoizedState=null,x)}function Sm(l,u){return u=Mm({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Mm(l,u){return Rd(l,u,0,null)}function Jh(l,u,x){return ul(u,l.child,null,x),l=Sm(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function Ix(l,u,x){l.lanes|=u;var S=l.alternate;S!==null&&(S.lanes|=u),fd(l.return,u,x)}function Tm(l,u,x,S,A){var U=l.memoizedState;U===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:S,tail:x,tailMode:A}:(U.isBackwards=u,U.rendering=null,U.renderingStartTime=0,U.last=S,U.tail=x,U.tailMode=A)}function Fx(l,u,x){var S=u.pendingProps,A=S.revealOrder,U=S.tail;if(na(l,u,S.children,x),S=Pi.current,(S&2)!==0)S=S&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)t:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Ix(l,x,u);else if(l.tag===19)Ix(l,x,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break t;for(;l.sibling===null;){if(l.return===null||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}S&=1}switch(D(Pi,S),A){case"forwards":for(x=u.child,A=null;x!==null;)l=x.alternate,l!==null&&$r(l)===null&&(A=x),x=x.sibling;x=A,x===null?(A=u.child,u.child=null):(A=x.sibling,x.sibling=null),Tm(u,!1,A,x,U);break;case"backwards":for(x=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&$r(l)===null){u.child=A;break}l=A.sibling,A.sibling=x,x=A,A=l}Tm(u,!0,x,null,U);break;case"together":Tm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function to(l,u,x){if(l!==null&&(u.dependencies=l.dependencies),gr|=u.lanes,(x&u.childLanes)===0)if(l!==null){if(pd(l,u,x,!1),(x&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(l=u.child,x=jr(l,l.pendingProps),u.child=x,x.return=u;l.sibling!==null;)l=l.sibling,x=x.sibling=jr(l,l.pendingProps),x.return=u;x.sibling=null}return u.child}function Em(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&md(l)))}function Z_(l,u,x){switch(u.tag){case 3:rt(u,u.stateNode.containerInfo),Vo(u,Zn,l.memoizedState.cache),Ne();break;case 27:case 5:Pt(u);break;case 4:rt(u,u.stateNode.containerInfo);break;case 10:Vo(u,u.type,u.memoizedProps.value);break;case 13:var S=u.memoizedState;if(S!==null)return S.dehydrated!==null?(Pa(u),u.flags|=128,null):(x&u.child.childLanes)!==0?Bx(l,u,x):(Pa(u),l=to(l,u,x),l!==null?l.sibling:null);Pa(u);break;case 19:var A=(l.flags&128)!==0;if(S=(x&u.childLanes)!==0,S||(pd(l,u,x,!1),S=(x&u.childLanes)!==0),A){if(S)return Fx(l,u,x);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),D(Pi,Pi.current),S)break;return null;case 22:case 23:return u.lanes=0,Lx(l,u,x);case 24:Vo(u,Zn,l.memoizedState.cache)}return to(l,u,x)}function Vx(l,u,x){if(l!==null)if(l.memoizedProps!==u.pendingProps)kn=!0;else{if(!Em(l,x)&&(u.flags&128)===0)return kn=!1,Z_(l,u,x);kn=(l.flags&131072)!==0}else kn=!1,xn&&(u.flags&1048576)!==0&&it(u,ou,u.index);switch(u.lanes=0,u.tag){case 16:t:{l=u.pendingProps;var S=u.elementType,A=S._init;if(S=A(S._payload),u.type=S,typeof S=="function")Ad(S)?(l=$s(S,l),u.tag=1,u=zx(null,u,S,l,x)):(u.tag=0,u=Qh(null,u,S,l,x));else{if(S!=null){if(A=S.$$typeof,A===Nd){u.tag=11,u=Kh(null,u,S,l,x);break t}else if(A===yf){u.tag=14,u=Ux(null,u,S,l,x);break t}}throw u=c(S)||S,Error(a(306,u,""))}}return u;case 0:return Qh(l,u,u.type,u.pendingProps,x);case 1:return S=u.type,A=$s(S,u.pendingProps),zx(l,u,S,A,x);case 3:t:{if(rt(u,u.stateNode.containerInfo),l===null)throw Error(a(387));var U=u.pendingProps;A=u.memoizedState,S=A.element,fe(l,u),se(u,U,null,x);var Y=u.memoizedState;if(U=Y.cache,Vo(u,Zn,U),U!==A.cache&&Il(u,[Zn],x,!0),Ot(),U=Y.element,oa&&A.isDehydrated)if(A={element:U,isDehydrated:!1,cache:Y.cache},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){u=Px(l,u,U,x);break t}else if(U!==S){S=ut(Error(a(424)),u),Be(S),u=Px(l,u,U,x);break t}else for(oa&&(ca=vy(u.stateNode.containerInfo),la=u,xn=!0,Pr=null,Yi=!0),x=Ls(u,null,U,x),u.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling;else{if(Ne(),U===S){u=to(l,u,x);break t}na(l,u,U,x)}u=u.child}return u;case 26:if(or)return dd(l,u),l===null?(x=d0(u.type,null,u.pendingProps,null))?u.memoizedState=x:xn||(u.stateNode=Df(u.type,u.pendingProps,Us.current,u)):u.memoizedState=d0(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:if(Vn)return Pt(u),l===null&&Vn&&xn&&(S=u.stateNode=os(u.type,u.pendingProps,Us.current,zi.current,!1),la=u,Yi=!0,ca=wf(S)),S=u.pendingProps.children,l!==null||xn?na(l,u,S,x):u.child=ul(u,null,S,x),dd(l,u),u.child;case 5:return l===null&&xn&&(Cf(u.type,u.pendingProps,zi.current),(A=S=ca)&&(S=nS(S,u.type,u.pendingProps,Yi),S!==null?(u.stateNode=S,la=u,ca=wf(S),Yi=!1,A=!0):A=!1),A||$t(u)),Pt(u),A=u.type,U=u.pendingProps,Y=l!==null?l.memoizedProps:null,S=U.children,qe(A,U)?S=null:Y!==null&&qe(A,Y)&&(u.flags|=32),u.memoizedState!==null&&(A=es(l,u,wi,null,null,x),Aa?ss._currentValue=A:ss._currentValue2=A),dd(l,u),na(l,u,S,x),u.child;case 6:return l===null&&xn&&(wy(u.pendingProps,zi.current),(l=x=ca)&&(x=c0(x,u.pendingProps,Yi),x!==null?(u.stateNode=x,la=u,ca=null,l=!0):l=!1),l||$t(u)),null;case 13:return Bx(l,u,x);case 4:return rt(u,u.stateNode.containerInfo),S=u.pendingProps,l===null?u.child=ul(u,null,S,x):na(l,u,S,x),u.child;case 11:return Kh(l,u,u.type,u.pendingProps,x);case 7:return na(l,u,u.pendingProps,x),u.child;case 8:return na(l,u,u.pendingProps.children,x),u.child;case 12:return na(l,u,u.pendingProps.children,x),u.child;case 10:return S=u.pendingProps,Vo(u,u.type,S.value),na(l,u,S.children,x),u.child;case 9:return A=u.type._context,S=u.pendingProps.children,Ho(u),A=ia(A),S=S(A),u.flags|=1,na(l,u,S,x),u.child;case 14:return Ux(l,u,u.type,u.pendingProps,x);case 15:return jx(l,u,u.type,u.pendingProps,x);case 19:return Fx(l,u,x);case 22:return Lx(l,u,x);case 24:return Ho(u),S=ia(Zn),l===null?(A=Am(),A===null&&(A=Dn,U=ko(),A.pooledCache=U,U.refCount++,U!==null&&(A.pooledCacheLanes|=x),A=U),u.memoizedState={parent:S,cache:A},Zt(u),Vo(u,Zn,A)):((l.lanes&x)!==0&&(fe(l,u),se(u,null,null,x),Ot()),A=l.memoizedState,U=u.memoizedState,A.parent!==S?(A={parent:S,cache:S},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),Vo(u,Zn,S)):(S=U.cache,Vo(u,Zn,S),S!==A.cache&&Il(u,[Zn],x,!0))),na(l,u,u.pendingProps.children,x),u.child;case 29:throw u.pendingProps}throw Error(a(156,u.tag))}function Vo(l,u,x){Aa?(D(bo,u._currentValue),u._currentValue=x):(D(bo,u._currentValue2),u._currentValue2=x)}function eo(l){var u=bo.current;Aa?l._currentValue=u:l._currentValue2=u,T(bo)}function fd(l,u,x){for(;l!==null;){var S=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,S!==null&&(S.childLanes|=u)):S!==null&&(S.childLanes&u)!==u&&(S.childLanes|=u),l===x)break;l=l.return}}function Il(l,u,x,S){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var U=A.dependencies;if(U!==null){var Y=A.child;U=U.firstContext;t:for(;U!==null;){var tt=U;U=A;for(var mt=0;mt<u.length;mt++)if(tt.context===u[mt]){U.lanes|=x,tt=U.alternate,tt!==null&&(tt.lanes|=x),fd(U.return,x,l),S||(Y=null);break t}U=tt.next}}else if(A.tag===18){if(Y=A.return,Y===null)throw Error(a(341));Y.lanes|=x,U=Y.alternate,U!==null&&(U.lanes|=x),fd(Y,x,l),Y=null}else Y=A.child;if(Y!==null)Y.return=A;else for(Y=A;Y!==null;){if(Y===l){Y=null;break}if(A=Y.sibling,A!==null){A.return=Y.return,Y=A;break}Y=Y.return}A=Y}}function pd(l,u,x,S){l=null;for(var A=u,U=!1;A!==null;){if(!U){if((A.flags&524288)!==0)U=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var Y=A.alternate;if(Y===null)throw Error(a(387));if(Y=Y.memoizedProps,Y!==null){var tt=A.type;Xa(A.pendingProps.value,Y.value)||(l!==null?l.push(tt):l=[tt])}}else if(A===Zl.current){if(Y=A.alternate,Y===null)throw Error(a(387));Y.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(ss):l=[ss])}A=A.return}l!==null&&Il(u,l,x,S),u.flags|=262144}function md(l){for(l=l.firstContext;l!==null;){var u=l.context;if(!Xa(Aa?u._currentValue:u._currentValue2,l.memoizedValue))return!0;l=l.next}return!1}function Ho(l){hs=l,fr=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function ia(l){return wm(hs,l)}function gd(l,u){return hs===null&&Ho(l),wm(l,u)}function wm(l,u){var x=Aa?u._currentValue:u._currentValue2;if(u={context:u,memoizedValue:x,next:null},fr===null){if(l===null)throw Error(a(308));fr=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else fr=fr.next=u;return x}function ko(){return{controller:new fu,data:new Map,refCount:0}}function xd(l){l.refCount--,l.refCount===0&&Py(By,function(){l.controller.abort()})}function Am(){var l=Os.current;return l!==null?l:Dn.pooledCache}function $h(l,u){u===null?D(Os,Os.current):D(Os,u.pool)}function Cm(){var l=Am();return l===null?null:{parent:Aa?Zn._currentValue:Zn._currentValue2,pool:l}}function Ba(l){l.flags|=4}function Vc(l,u){if(l!==null&&l.child===u.child)return!1;if((u.flags&16)!==0)return!0;for(l=u.child;l!==null;){if((l.flags&13878)!==0||(l.subtreeFlags&13878)!==0)return!0;l=l.sibling}return!1}function Fl(l,u,x,S){if(Oi)for(x=u.child;x!==null;){if(x.tag===5||x.tag===6)zd(l,x.stateNode);else if(!(x.tag===4||Vn&&x.tag===27)&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}else if(Or)for(var A=u.child;A!==null;){if(A.tag===5){var U=A.stateNode;x&&S&&(U=r0(U,A.type,A.memoizedProps)),zd(l,U)}else if(A.tag===6)U=A.stateNode,x&&S&&(U=s0(U,A.memoizedProps)),zd(l,U);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)U=A.child,U!==null&&(U.return=A),Fl(l,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return}A.sibling.return=A.return,A=A.sibling}}function Hx(l,u,x,S){if(Or)for(var A=u.child;A!==null;){if(A.tag===5){var U=A.stateNode;x&&S&&(U=r0(U,A.type,A.memoizedProps)),a0(l,U)}else if(A.tag===6)U=A.stateNode,x&&S&&(U=s0(U,A.memoizedProps)),a0(l,U);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)U=A.child,U!==null&&(U.return=A),Hx(l,A,!(A.memoizedProps!==null&&A.memoizedProps.mode==="manual"),!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===u)break;for(;A.sibling===null;){if(A.return===null||A.return===u)return;A=A.return}A.sibling.return=A.return,A=A.sibling}}function yd(l,u){if(Or&&Vc(l,u)){l=u.stateNode;var x=l.containerInfo,S=Pd();Hx(S,u,!1,!1),l.pendingChildren=S,Ba(u),Mf(x,S)}}function tf(l,u,x,S){if(Oi)l.memoizedProps!==S&&Ba(u);else if(Or){var A=l.stateNode,U=l.memoizedProps;if((l=Vc(l,u))||U!==S){var Y=zi.current;U=au(A,x,U,S,!l,null),U===A?u.stateNode=A:(fo(U,x,S,Y)&&Ba(u),u.stateNode=U,l?Fl(U,u,!1,!1):Ba(u))}else u.stateNode=A}}function ef(l,u,x){if(Km(u,x)){if(l.flags|=16777216,!_f(u,x))if(Zo())l.flags|=8192;else throw ol=qd,Xd}else l.flags&=-16777217}function nf(l,u){if(Ry(u)){if(l.flags|=16777216,!Gl(u))if(Zo())l.flags|=8192;else throw ol=qd,Xd}else l.flags&=-16777217}function Hc(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?I():536870912,l.lanes|=u,Bs|=u)}function kc(l,u){if(!xn)switch(l.tailMode){case"hidden":u=l.tail;for(var x=null;u!==null;)u.alternate!==null&&(x=u),u=u.sibling;x===null?l.tail=null:x.sibling=null;break;case"collapsed":x=l.tail;for(var S=null;x!==null;)x.alternate!==null&&(S=x),x=x.sibling;S===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:S.sibling=null}}function ai(l){var u=l.alternate!==null&&l.alternate.child===l.child,x=0,S=0;if(u)for(var A=l.child;A!==null;)x|=A.lanes|A.childLanes,S|=A.subtreeFlags&31457280,S|=A.flags&31457280,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)x|=A.lanes|A.childLanes,S|=A.subtreeFlags,S|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=S,l.childLanes=x,u}function kx(l,u,x){var S=u.pendingProps;switch(Lt(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ai(u),null;case 1:return ai(u),null;case 3:return x=u.stateNode,S=null,l!==null&&(S=l.memoizedState.cache),u.memoizedState.cache!==S&&(u.flags|=2048),eo(Zn),Rt(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(l===null||l.child===null)&&(Pe(u)?Ba(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Pr!==null&&(Ed(Pr),Pr=null))),yd(l,u),ai(u),null;case 26:if(or){x=u.type;var A=u.memoizedState;return l===null?(Ba(u),A!==null?(ai(u),nf(u,A)):(ai(u),ef(u,x,S))):A?A!==l.memoizedState?(Ba(u),ai(u),nf(u,A)):(ai(u),u.flags&=-16777217):(Oi?l.memoizedProps!==S&&Ba(u):tf(l,u,x,S),ai(u),ef(u,x,S)),null}case 27:if(Vn){if(Wt(u),x=Us.current,A=u.type,l!==null&&u.stateNode!=null)Oi?l.memoizedProps!==S&&Ba(u):tf(l,u,A,S);else{if(!S){if(u.stateNode===null)throw Error(a(166));return ai(u),null}l=zi.current,Pe(u)?we(u,l):(l=os(A,S,x,l,!0),u.stateNode=l,Ba(u))}return ai(u),null}case 5:if(Wt(u),x=u.type,l!==null&&u.stateNode!=null)tf(l,u,x,S);else{if(!S){if(u.stateNode===null)throw Error(a(166));return ai(u),null}l=zi.current,Pe(u)?we(u,l):(A=Zm(x,S,Us.current,l,u),Fl(A,u,!1,!1),u.stateNode=A,fo(A,x,S,l)&&Ba(u))}return ai(u),ef(u,u.type,u.pendingProps),null;case 6:if(l&&u.stateNode!=null)x=l.memoizedProps,Oi?x!==S&&Ba(u):Or&&(x!==S?(u.stateNode=Nn(S,Us.current,zi.current,u),Ba(u)):u.stateNode=l.stateNode);else{if(typeof S!="string"&&u.stateNode===null)throw Error(a(166));if(l=Us.current,x=zi.current,Pe(u)){if(!oa)throw Error(a(176));if(l=u.stateNode,x=u.memoizedProps,S=null,A=la,A!==null)switch(A.tag){case 27:case 5:S=A.memoizedProps}u0(l,x,u,S)||$t(u)}else u.stateNode=Nn(S,l,x,u)}return ai(u),null;case 13:if(S=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Pe(u),S!==null&&S.dehydrated!==null){if(l===null){if(!A)throw Error(a(318));if(!oa)throw Error(a(344));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(a(317));My(A,u)}else Ne(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;ai(u),A=!1}else Pr!==null&&(Ed(Pr),Pr=null),A=!0;if(!A)return u.flags&256?(Sa(u),u):(Sa(u),null)}if(Sa(u),(u.flags&128)!==0)return u.lanes=x,u;if(x=S!==null,l=l!==null&&l.memoizedState!==null,x){S=u.child,A=null,S.alternate!==null&&S.alternate.memoizedState!==null&&S.alternate.memoizedState.cachePool!==null&&(A=S.alternate.memoizedState.cachePool.pool);var U=null;S.memoizedState!==null&&S.memoizedState.cachePool!==null&&(U=S.memoizedState.cachePool.pool),U!==A&&(S.flags|=2048)}return x!==l&&x&&(u.child.flags|=8192),Hc(u,u.updateQueue),ai(u),null;case 4:return Rt(),yd(l,u),l===null&&gi(u.stateNode.containerInfo),ai(u),null;case 10:return eo(u.type),ai(u),null;case 19:if(T(Pi),A=u.memoizedState,A===null)return ai(u),null;if(S=(u.flags&128)!==0,U=A.rendering,U===null)if(S)kc(A,!1);else{if(Gn!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(U=$r(l),U!==null){for(u.flags|=128,kc(A,!1),l=U.updateQueue,u.updateQueue=l,Hc(u,l),u.subtreeFlags=0,l=x,x=u.child;x!==null;)Cd(x,l),x=x.sibling;return D(Pi,Pi.current&1|2),u.child}l=l.sibling}A.tail!==null&&zr()>gu&&(u.flags|=128,S=!0,kc(A,!1),u.lanes=4194304)}else{if(!S)if(l=$r(U),l!==null){if(u.flags|=128,S=!0,l=l.updateQueue,u.updateQueue=l,Hc(u,l),kc(A,!0),A.tail===null&&A.tailMode==="hidden"&&!U.alternate&&!xn)return ai(u),null}else 2*zr()-A.renderingStartTime>gu&&x!==536870912&&(u.flags|=128,S=!0,kc(A,!1),u.lanes=4194304);A.isBackwards?(U.sibling=u.child,u.child=U):(l=A.last,l!==null?l.sibling=U:u.child=U,A.last=U)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=zr(),u.sibling=null,l=Pi.current,D(Pi,S?l&1|2:l&1),u):(ai(u),null);case 22:case 23:return Sa(u),fa(),S=u.memoizedState!==null,l!==null?l.memoizedState!==null!==S&&(u.flags|=8192):S&&(u.flags|=8192),S?(x&536870912)!==0&&(u.flags&128)===0&&(ai(u),u.subtreeFlags&6&&(u.flags|=8192)):ai(u),x=u.updateQueue,x!==null&&Hc(u,x.retryQueue),x=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),S=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(S=u.memoizedState.cachePool.pool),S!==x&&(u.flags|=2048),l!==null&&T(Os),null;case 24:return x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),eo(Zn),ai(u),null;case 25:return null}throw Error(a(156,u.tag))}function K_(l,u){switch(Lt(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return eo(Zn),Rt(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return Wt(u),null;case 13:if(Sa(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Ne()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return T(Pi),null;case 4:return Rt(),null;case 10:return eo(u.type),null;case 22:case 23:return Sa(u),fa(),l!==null&&T(Os),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return eo(Zn),null;case 25:return null;default:return null}}function Gx(l,u){switch(Lt(u),u.tag){case 3:eo(Zn),Rt();break;case 26:case 27:case 5:Wt(u);break;case 4:Rt();break;case 13:Sa(u);break;case 19:T(Pi);break;case 10:eo(u.type);break;case 22:case 23:Sa(u),fa(),l!==null&&T(Os);break;case 24:eo(Zn)}}function vd(l,u){try{var x=u.updateQueue,S=x!==null?x.lastEffect:null;if(S!==null){var A=S.next;x=A;do{if((x.tag&l)===l){S=void 0;var U=x.create,Y=x.inst;S=U(),Y.destroy=S}x=x.next}while(x!==A)}}catch(tt){Cn(u,u.return,tt)}}function Go(l,u,x){try{var S=u.updateQueue,A=S!==null?S.lastEffect:null;if(A!==null){var U=A.next;S=U;do{if((S.tag&l)===l){var Y=S.inst,tt=Y.destroy;if(tt!==void 0){Y.destroy=void 0,A=u;var mt=x;try{tt()}catch(Vt){Cn(A,mt,Vt)}}}S=S.next}while(S!==U)}}catch(Vt){Cn(u,u.return,Vt)}}function Xx(l){var u=l.updateQueue;if(u!==null){var x=l.stateNode;try{Qt(u,x)}catch(S){Cn(l,l.return,S)}}}function Ia(l,u,x){x.props=$s(l.type,l.memoizedProps),x.state=l.memoizedState;try{x.componentWillUnmount()}catch(S){Cn(l,u,S)}}function is(l,u){try{var x=l.ref;if(x!==null){var S=l.stateNode;switch(l.tag){case 26:case 27:case 5:var A=eu(S);break;default:A=S}typeof x=="function"?l.refCleanup=x(A):x.current=A}}catch(U){Cn(l,u,U)}}function Fa(l,u){var x=l.ref,S=l.refCleanup;if(x!==null)if(typeof S=="function")try{S()}catch(A){Cn(l,u,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(A){Cn(l,u,A)}else x.current=null}function Rm(l){var u=l.type,x=l.memoizedProps,S=l.stateNode;try{tS(S,u,x,l)}catch(A){Cn(l,l.return,A)}}function Dm(l,u,x){try{ly(l.stateNode,l.type,x,u,l)}catch(S){Cn(l,l.return,S)}}function Um(l){return l.tag===5||l.tag===3||(or?l.tag===26:!1)||(Vn?l.tag===27:!1)||l.tag===4}function bd(l){t:for(;;){for(;l.sibling===null;){if(l.return===null||Um(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&(!Vn||l.tag!==27)&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue t;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function jm(l,u,x){var S=l.tag;if(S===5||S===6)l=l.stateNode,u?uy(x,l,u):e0(x,l);else if(!(S===4||Vn&&S===27)&&(l=l.child,l!==null))for(jm(l,u,x),l=l.sibling;l!==null;)jm(l,u,x),l=l.sibling}function no(l,u,x){var S=l.tag;if(S===5||S===6)l=l.stateNode,u?cy(x,l,u):sy(x,l);else if(!(S===4||Vn&&S===27)&&(l=l.child,l!==null))for(no(l,u,x),l=l.sibling;l!==null;)no(l,u,x),l=l.sibling}function af(l,u,x){l=l.containerInfo;try{ru(l,x)}catch(S){Cn(u,u.return,S)}}function _d(l,u){for(vf(l.containerInfo),ke=u;ke!==null;)if(l=ke,u=l.child,(l.subtreeFlags&1028)!==0&&u!==null)u.return=l,ke=u;else for(;ke!==null;){l=ke;var x=l.alternate;switch(u=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((u&1024)!==0&&x!==null){u=void 0;var S=l,A=x.memoizedProps;x=x.memoizedState;var U=S.stateNode;try{var Y=$s(S.type,A,S.elementType===S.type);u=U.getSnapshotBeforeUpdate(Y,x),U.__reactInternalSnapshotBeforeUpdate=u}catch(tt){Cn(S,S.return,tt)}}break;case 3:(u&1024)!==0&&Oi&&my(l.stateNode.containerInfo);break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(a(163))}if(u=l.sibling,u!==null){u.return=l.return,ke=u;break}ke=l.return}return Y=sn,sn=!1,Y}function rf(l,u,x){var S=x.flags;switch(x.tag){case 0:case 11:case 15:ao(l,x),S&4&&vd(5,x);break;case 1:if(ao(l,x),S&4)if(l=x.stateNode,u===null)try{l.componentDidMount()}catch(tt){Cn(x,x.return,tt)}else{var A=$s(x.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(A,u,l.__reactInternalSnapshotBeforeUpdate)}catch(tt){Cn(x,x.return,tt)}}S&64&&Xx(x),S&512&&is(x,x.return);break;case 3:if(ao(l,x),S&64&&(S=x.updateQueue,S!==null)){if(l=null,x.child!==null)switch(x.child.tag){case 27:case 5:l=eu(x.child.stateNode);break;case 1:l=x.child.stateNode}try{Qt(S,l)}catch(tt){Cn(x,x.return,tt)}}break;case 26:if(or){ao(l,x),S&512&&is(x,x.return);break}case 27:case 5:ao(l,x),u===null&&S&4&&Rm(x),S&512&&is(x,x.return);break;case 12:ao(l,x);break;case 13:ao(l,x),S&4&&sf(l,x);break;case 22:if(A=x.memoizedState!==null||zs,!A){u=u!==null&&u.memoizedState!==null||fi;var U=zs,Y=fi;zs=A,(fi=u)&&!Y?ro(l,x,(x.subtreeFlags&8772)!==0):ao(l,x),zs=U,fi=Y}S&512&&(x.memoizedProps.mode==="manual"?is(x,x.return):Fa(x,x.return));break;default:ao(l,x)}}function Lm(l){var u=l.alternate;u!==null&&(l.alternate=null,Lm(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&$_(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function aa(l,u,x){for(x=x.child;x!==null;)Xo(l,u,x),x=x.sibling}function Xo(l,u,x){if(Ga&&typeof Ga.onCommitFiberUnmount=="function")try{Ga.onCommitFiberUnmount(yi,x)}catch{}switch(x.tag){case 26:if(or){fi||Fa(x,u),aa(l,u,x),x.memoizedState?kl(x.memoizedState):x.stateNode&&su(x.stateNode);break}case 27:if(Vn){fi||Fa(x,u);var S=Ce,A=Ze;Ce=x.stateNode,aa(l,u,x),al(x.stateNode),Ce=S,Ze=A;break}case 5:fi||Fa(x,u);case 6:if(Oi){if(S=Ce,A=Ze,Ce=null,aa(l,u,x),Ce=S,Ze=A,Ce!==null)if(Ze)try{dy(Ce,x.stateNode)}catch(U){Cn(x,u,U)}else try{n0(Ce,x.stateNode)}catch(U){Cn(x,u,U)}}else aa(l,u,x);break;case 18:Oi&&Ce!==null&&(Ze?Bd(Ce,x.stateNode):Ey(Ce,x.stateNode));break;case 4:Oi?(S=Ce,A=Ze,Ce=x.stateNode.containerInfo,Ze=!0,aa(l,u,x),Ce=S,Ze=A):(Or&&af(x.stateNode,x,Pd()),aa(l,u,x));break;case 0:case 11:case 14:case 15:fi||Go(2,x,u),fi||Go(4,x,u),aa(l,u,x);break;case 1:fi||(Fa(x,u),S=x.stateNode,typeof S.componentWillUnmount=="function"&&Ia(x,u,S)),aa(l,u,x);break;case 21:aa(l,u,x);break;case 22:fi||Fa(x,u),fi=(S=fi)||x.memoizedState!==null,aa(l,u,x),fi=S;break;default:aa(l,u,x)}}function sf(l,u){if(oa&&u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{aS(l)}catch(x){Cn(u,u.return,x)}}function qx(l){switch(l.tag){case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Rn),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Rn),u;default:throw Error(a(435,l.tag))}}function io(l,u){var x=qx(l);u.forEach(function(S){var A=Jo.bind(null,l,S);x.has(S)||(x.add(S),S.then(A,A))})}function Ea(l,u){var x=u.deletions;if(x!==null)for(var S=0;S<x.length;S++){var A=x[S],U=l,Y=u;if(Oi){var tt=Y;t:for(;tt!==null;){switch(tt.tag){case 27:case 5:Ce=tt.stateNode,Ze=!1;break t;case 3:Ce=tt.stateNode.containerInfo,Ze=!0;break t;case 4:Ce=tt.stateNode.containerInfo,Ze=!0;break t}tt=tt.return}if(Ce===null)throw Error(a(160));Xo(U,Y,A),Ce=null,Ze=!1}else Xo(U,Y,A);U=A.alternate,U!==null&&(U.return=null),A.return=null}if(u.subtreeFlags&13878)for(u=u.child;u!==null;)Nm(u,l),u=u.sibling}function Nm(l,u){var x=l.alternate,S=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Ea(u,l),Va(l),S&4&&(Go(3,l,l.return),vd(3,l),Go(5,l,l.return));break;case 1:Ea(u,l),Va(l),S&512&&(fi||x===null||Fa(x,x.return)),S&64&&zs&&(l=l.updateQueue,l!==null&&(S=l.callbacks,S!==null&&(x=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=x===null?S:x.concat(S))));break;case 26:if(or){var A=li;Ea(u,l),Va(l),S&512&&(fi||x===null||Fa(x,x.return)),S&4&&(S=x!==null?x.memoizedState:null,u=l.memoizedState,x===null?u===null?l.stateNode===null?l.stateNode=Fd(A,l.type,l.memoizedProps,l):Vd(A,l.type,l.stateNode):l.stateNode=Ay(A,u,l.memoizedProps):S!==u?(S===null?x.stateNode!==null&&su(x.stateNode):kl(S),u===null?Vd(A,l.type,l.stateNode):Ay(A,u,l.memoizedProps)):u===null&&l.stateNode!==null&&Dm(l,l.memoizedProps,x.memoizedProps));break}case 27:if(Vn&&S&4&&l.alternate===null){A=l.stateNode;var U=l.memoizedProps;try{il(A),Uy(l.type,U,A,l)}catch(te){Cn(l,l.return,te)}}case 5:if(Ea(u,l),Va(l),S&512&&(fi||x===null||Fa(x,x.return)),Oi){if(l.flags&32){u=l.stateNode;try{i0(u)}catch(te){Cn(l,l.return,te)}}S&4&&l.stateNode!=null&&(u=l.memoizedProps,Dm(l,u,x!==null?x.memoizedProps:u)),S&1024&&(m0=!0)}break;case 6:if(Ea(u,l),Va(l),S&4&&Oi){if(l.stateNode===null)throw Error(a(162));S=l.memoizedProps,x=x!==null?x.memoizedProps:S,u=l.stateNode;try{oy(u,x,S)}catch(te){Cn(l,l.return,te)}}break;case 3:if(or?(Cy(),A=li,li=Rf(u.containerInfo),Ea(u,l),li=A):Ea(u,l),Va(l),S&4){if(Oi&&oa&&x!==null&&x.memoizedState.isDehydrated)try{iS(u.containerInfo)}catch(te){Cn(l,l.return,te)}if(Or){S=u.containerInfo,x=u.pendingChildren;try{ru(S,x)}catch(te){Cn(l,l.return,te)}}}m0&&(m0=!1,Yx(l));break;case 4:or?(x=li,li=Rf(l.stateNode.containerInfo),Ea(u,l),Va(l),li=x):(Ea(u,l),Va(l)),S&4&&Or&&af(l.stateNode,l,l.stateNode.pendingChildren);break;case 12:Ea(u,l),Va(l);break;case 13:Ea(u,l),Va(l),l.child.flags&8192&&l.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(Ua=zr()),S&4&&(S=l.updateQueue,S!==null&&(l.updateQueue=null,io(l,S)));break;case 22:S&512&&(fi||x===null||Fa(x,x.return)),A=l.memoizedState!==null;var Y=x!==null&&x.memoizedState!==null,tt=zs,mt=fi;if(zs=tt||A,fi=mt||Y,Ea(u,l),fi=mt,zs=tt,Va(l),u=l.stateNode,u._current=l,u._visibility&=-3,u._visibility|=u._pendingVisibility&2,S&8192&&(u._visibility=A?u._visibility&-2:u._visibility|1,A&&(u=zs||fi,x===null||Y||u||Gc(l)),Oi&&(l.memoizedProps===null||l.memoizedProps.mode!=="manual"))){t:if(x=null,Oi)for(u=l;;){if(u.tag===5||or&&u.tag===26||Vn&&u.tag===27){if(x===null){Y=x=u;try{U=Y.stateNode,A?hy(U):py(Y.stateNode,Y.memoizedProps)}catch(te){Cn(Y,Y.return,te)}}}else if(u.tag===6){if(x===null){Y=u;try{var Vt=Y.stateNode;A?fy(Vt):eS(Vt,Y.memoizedProps)}catch(te){Cn(Y,Y.return,te)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break t;for(;u.sibling===null;){if(u.return===null||u.return===l)break t;x===u&&(x=null),u=u.return}x===u&&(x=null),u.sibling.return=u.return,u=u.sibling}}S&4&&(S=l.updateQueue,S!==null&&(x=S.retryQueue,x!==null&&(S.retryQueue=null,io(l,x))));break;case 19:Ea(u,l),Va(l),S&4&&(S=l.updateQueue,S!==null&&(l.updateQueue=null,io(l,S)));break;case 21:break;default:Ea(u,l),Va(l)}}function Va(l){var u=l.flags;if(u&2){try{if(Oi&&(!Vn||l.tag!==27)){t:{for(var x=l.return;x!==null;){if(Um(x)){var S=x;break t}x=x.return}throw Error(a(160))}switch(S.tag){case 27:if(Vn){var A=S.stateNode,U=bd(l);no(l,U,A);break}case 5:var Y=S.stateNode;S.flags&32&&(i0(Y),S.flags&=-33);var tt=bd(l);no(l,tt,Y);break;case 3:case 4:var mt=S.stateNode.containerInfo,Vt=bd(l);jm(l,Vt,mt);break;default:throw Error(a(161))}}}catch(te){Cn(l,l.return,te)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Yx(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;Yx(u),u.tag===5&&u.flags&1024&&Sf(u.stateNode),l=l.sibling}}function ao(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)rf(l,u.alternate,u),u=u.sibling}function Gc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:Go(4,u,u.return),Gc(u);break;case 1:Fa(u,u.return);var x=u.stateNode;typeof x.componentWillUnmount=="function"&&Ia(u,u.return,x),Gc(u);break;case 26:case 27:case 5:Fa(u,u.return),Gc(u);break;case 22:Fa(u,u.return),u.memoizedState===null&&Gc(u);break;default:Gc(u)}l=l.sibling}}function ro(l,u,x){for(x=x&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var S=u.alternate,A=l,U=u,Y=U.flags;switch(U.tag){case 0:case 11:case 15:ro(A,U,x),vd(4,U);break;case 1:if(ro(A,U,x),S=U,A=S.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Vt){Cn(S,S.return,Vt)}if(S=U,A=S.updateQueue,A!==null){var tt=S.stateNode;try{var mt=A.shared.hiddenCallbacks;if(mt!==null)for(A.shared.hiddenCallbacks=null,A=0;A<mt.length;A++)nt(mt[A],tt)}catch(Vt){Cn(S,S.return,Vt)}}x&&Y&64&&Xx(U),is(U,U.return);break;case 26:case 27:case 5:ro(A,U,x),x&&S===null&&Y&4&&Rm(U),is(U,U.return);break;case 12:ro(A,U,x);break;case 13:ro(A,U,x),x&&Y&4&&sf(A,U);break;case 22:U.memoizedState===null&&ro(A,U,x),is(U,U.return);break;default:ro(A,U,x)}u=u.sibling}}function of(l,u){var x=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(x=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==x&&(l!=null&&l.refCount++,x!=null&&xd(x))}function Sd(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&xd(l))}function Gi(l,u,x,S){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Om(l,u,x,S),u=u.sibling}function Om(l,u,x,S){var A=u.flags;switch(u.tag){case 0:case 11:case 15:Gi(l,u,x,S),A&2048&&vd(9,u);break;case 3:Gi(l,u,x,S),A&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&xd(l)));break;case 12:if(A&2048){Gi(l,u,x,S),l=u.stateNode;try{var U=u.memoizedProps,Y=U.id,tt=U.onPostCommit;typeof tt=="function"&&tt(Y,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(mt){Cn(u,u.return,mt)}}else Gi(l,u,x,S);break;case 23:break;case 22:U=u.stateNode,u.memoizedState!==null?U._visibility&4?Gi(l,u,x,S):pa(l,u):U._visibility&4?Gi(l,u,x,S):(U._visibility|=4,ra(l,u,x,S,(u.subtreeFlags&10256)!==0)),A&2048&&of(u.alternate,u);break;case 24:Gi(l,u,x,S),A&2048&&Sd(u.alternate,u);break;default:Gi(l,u,x,S)}}function ra(l,u,x,S,A){for(A=A&&(u.subtreeFlags&10256)!==0,u=u.child;u!==null;){var U=l,Y=u,tt=x,mt=S,Vt=Y.flags;switch(Y.tag){case 0:case 11:case 15:ra(U,Y,tt,mt,A),vd(8,Y);break;case 23:break;case 22:var te=Y.stateNode;Y.memoizedState!==null?te._visibility&4?ra(U,Y,tt,mt,A):pa(U,Y):(te._visibility|=4,ra(U,Y,tt,mt,A)),A&&Vt&2048&&of(Y.alternate,Y);break;case 24:ra(U,Y,tt,mt,A),A&&Vt&2048&&Sd(Y.alternate,Y);break;default:ra(U,Y,tt,mt,A)}u=u.sibling}}function pa(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var x=l,S=u,A=S.flags;switch(S.tag){case 22:pa(x,S),A&2048&&of(S.alternate,S);break;case 24:pa(x,S),A&2048&&Sd(S.alternate,S);break;default:pa(x,S)}u=u.sibling}}function Dr(l){if(l.subtreeFlags&pr)for(l=l.child;l!==null;)lf(l),l=l.sibling}function lf(l){switch(l.tag){case 26:Dr(l),l.flags&pr&&(l.memoizedState!==null?Dy(li,l.memoizedState,l.memoizedProps):Ca(l.type,l.memoizedProps));break;case 5:Dr(l),l.flags&pr&&Ca(l.type,l.memoizedProps);break;case 3:case 4:if(or){var u=li;li=Rf(l.stateNode.containerInfo),Dr(l),li=u}else Dr(l);break;case 22:l.memoizedState===null&&(u=l.alternate,u!==null&&u.memoizedState!==null?(u=pr,pr=16777216,Dr(l),pr=u):Dr(l));break;default:Dr(l)}}function Md(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function qo(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var S=u[x];ke=S,zm(S,l)}Md(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)cf(l),l=l.sibling}function cf(l){switch(l.tag){case 0:case 11:case 15:qo(l),l.flags&2048&&Go(9,l,l.return);break;case 3:qo(l);break;case 12:qo(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&4&&(l.return===null||l.return.tag!==13)?(u._visibility&=-5,so(l)):qo(l);break;default:qo(l)}}function so(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var x=0;x<u.length;x++){var S=u[x];ke=S,zm(S,l)}Md(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:Go(8,u,u.return),so(u);break;case 22:x=u.stateNode,x._visibility&4&&(x._visibility&=-5,so(u));break;default:so(u)}l=l.sibling}}function zm(l,u){for(;ke!==null;){var x=ke;switch(x.tag){case 0:case 11:case 15:Go(8,x,u);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var S=x.memoizedState.cachePool.pool;S!=null&&S.refCount++}break;case 24:xd(x.memoizedState.cache)}if(S=x.child,S!==null)S.return=x,ke=S;else t:for(x=l;ke!==null;){S=ke;var A=S.sibling,U=S.return;if(Lm(S),S===x){ke=null;break t}if(A!==null){A.return=U,ke=A;break t}ke=U}}}function Xc(l){var u=$x(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if(l=$m(l),l===null)throw Error(a(362));return l.stateNode.current}function Yo(l,u){var x=l.tag;switch(u.$$typeof){case mu:if(l.type===u.value)return!0;break;case Fr:t:{for(u=u.value,l=[l,0],x=0;x<l.length;){var S=l[x++],A=S.tag,U=l[x++],Y=u[U];if(A!==5&&A!==26&&A!==27||!iu(S)){for(;Y!=null&&Yo(S,Y);)U++,Y=u[U];if(U===u.length){u=!0;break t}else for(S=S.child;S!==null;)l.push(S,U),S=S.sibling}}u=!1}return u;case Jn:if((x===5||x===26||x===27)&&iy(l.stateNode,u.value))return!0;break;case Ps:if((x===5||x===6||x===26||x===27)&&(l=ny(l),l!==null&&0<=l.indexOf(u.value)))return!0;break;case fs:if((x===5||x===26||x===27)&&(l=l.memoizedProps["data-testname"],typeof l=="string"&&l.toLowerCase()===u.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Pm(l){switch(l.$$typeof){case mu:return"<"+(c(l.value)||"Unknown")+">";case Fr:return":has("+(Pm(l)||"")+")";case Jn:return'[role="'+l.value+'"]';case Ps:return'"'+l.value+'"';case fs:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function Ha(l,u){var x=[];l=[l,0];for(var S=0;S<l.length;){var A=l[S++],U=A.tag,Y=l[S++],tt=u[Y];if(U!==5&&U!==26&&U!==27||!iu(A)){for(;tt!=null&&Yo(A,tt);)Y++,tt=u[Y];if(Y===u.length)x.push(A);else for(A=A.child;A!==null;)l.push(A,Y),A=A.sibling}}return x}function Td(l,u){if(!nl)throw Error(a(363));l=Xc(l),l=Ha(l,u),u=[],l=Array.from(l);for(var x=0;x<l.length;){var S=l[x++],A=S.tag;if(A===5||A===26||A===27)iu(S)||u.push(S.stateNode);else for(S=S.child;S!==null;)l.push(S),S=S.sibling}return u}function mi(){if((bn&2)!==0&&hn!==0)return hn&-hn;if(Ie.T!==null){var l=ur;return l!==0?l:ae()}return ty()}function Bm(){xr===0&&(xr=(hn&536870912)===0||xn?k():536870912);var l=dr.current;return l!==null&&(l.flags|=32),xr}function Xi(l,u,x){(l===Dn&&Bn===2||l.cancelPendingCommit!==null)&&(sa(l,0),ka(l,hn,xr,!1)),K(l,x),((bn&2)===0||l!==Dn)&&(l===Dn&&((bn&2)===0&&(_o|=x),Gn===4&&ka(l,hn,xr,!1)),Nt(l))}function Wo(l,u,x){if((bn&6)!==0)throw Error(a(327));var S=!x&&(u&60)===0&&(u&l.expiredLanes)===0||P(l,u),A=S?Fm(l,u):df(l,u,!0),U=S;do{if(A===0){mr&&!S&&ka(l,u,0,!1);break}else if(A===6)ka(l,u,0,!Hr);else{if(x=l.current.alternate,U&&!qc(x)){A=df(l,u,!1),U=!1;continue}if(A===2){if(U=u,l.errorRecoveryDisabledLanes&U)var Y=0;else Y=l.pendingLanes&-536870913,Y=Y!==0?Y:Y&536870912?536870912:0;if(Y!==0){u=Y;t:{var tt=l;A=ac;var mt=oa&&tt.current.memoizedState.isDehydrated;if(mt&&(sa(tt,Y).flags|=256),Y=df(tt,Y,!1),Y!==2){if(Bi&&!mt){tt.errorRecoveryDisabledLanes|=U,_o|=U,A=4;break t}U=pi,pi=A,U!==null&&Ed(U)}A=Y}if(U=!1,A!==2)continue}}if(A===1){sa(l,0),ka(l,u,0,!0);break}t:{switch(S=l,A){case 0:case 1:throw Error(a(345));case 4:if((u&4194176)===u){ka(S,u,xr,!Hr);break t}break;case 2:pi=null;break;case 3:case 5:break;default:throw Error(a(329))}if(S.finishedWork=x,S.finishedLanes=u,(u&62914560)===u&&(U=Ua+300-zr(),10<U)){if(ka(S,u,xr,!Hr),B(S,0)!==0)break t;S.timeoutHandle=Ri(uf.bind(null,S,x,pi,Wd,Ff,u,xr,_o,Bs,Hr,2,-0,0),U);break t}uf(S,x,pi,Wd,Ff,u,xr,_o,Bs,Hr,0,-0,0)}}break}while(!0);Nt(l)}function Ed(l){pi===null?pi=l:pi.push.apply(pi,l)}function uf(l,u,x,S,A,U,Y,tt,mt,Vt,te,ue,pe){var Ge=u.subtreeFlags;if((Ge&8192||(Ge&16785408)===16785408)&&(Qm(),lf(u),u=Di(),u!==null)){l.cancelPendingCommit=u(Ko.bind(null,l,x,S,A,Y,tt,mt,1,ue,pe)),ka(l,U,Y,!Vt);return}Ko(l,x,S,A,Y,tt,mt,te,ue,pe)}function qc(l){for(var u=l;;){var x=u.tag;if((x===0||x===11||x===15)&&u.flags&16384&&(x=u.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var S=0;S<x.length;S++){var A=x[S],U=A.getSnapshot;A=A.value;try{if(!Xa(U(),A))return!1}catch{return!1}}if(x=u.child,u.subtreeFlags&16384&&x!==null)x.return=u,u=x;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function ka(l,u,x,S){u&=~Yd,u&=~_o,l.suspendedLanes|=u,l.pingedLanes&=~u,S&&(l.warmLanes|=u),S=l.expirationTimes;for(var A=u;0<A;){var U=31-Ra(A),Y=1<<U;S[U]=-1,A&=~Y}x!==0&&st(l,x,u)}function wd(){return(bn&6)===0?(W(0),!1):!0}function Yc(){if(De!==null){if(Bn===0)var l=De.return;else l=De,fr=hs=null,ns(l),ll=null,cl=0,l=De;for(;l!==null;)Gx(l.alternate,l),l=l.return;De=null}}function sa(l,u){l.finishedWork=null,l.finishedLanes=0;var x=l.timeoutHandle;x!==tl&&(l.timeoutHandle=tl,bf(x)),x=l.cancelPendingCommit,x!==null&&(l.cancelPendingCommit=null,x()),Yc(),Dn=l,De=x=jr(l.current,null),hn=u,Bn=0,ga=null,Hr=!1,mr=P(l,u),Bi=!1,Bs=xr=Yd=_o=gr=Gn=0,pi=ac=null,Ff=!1,(u&8)!==0&&(u|=u&32);var S=l.entangledLanes;if(S!==0)for(l=l.entanglements,S&=u;0<S;){var A=31-Ra(S),U=1<<A;u|=l[A],S&=~U}return xa=u,et(),x}function ar(l,u){Je=null,Ie.H=hi,u===du?(u=Me(),Bn=3):u===Xd?(u=Me(),Bn=4):Bn=u===Bf?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ga=u,De===null&&(Gn=1,Bc(l,ut(u,l.current)))}function Zo(){var l=dr.current;return l===null?!0:(hn&4194176)===hn?Hn===null:(hn&62914560)===hn||(hn&536870912)!==0?l===Hn:!1}function Es(){var l=Ie.H;return Ie.H=hi,l===null?hi:l}function ws(){var l=Ie.A;return Ie.A=pu,l}function oo(){Gn=4,Hr||(hn&4194176)!==hn&&dr.current!==null||(mr=!0),(gr&134217727)===0&&(_o&134217727)===0||Dn===null||ka(Dn,hn,xr,!1)}function df(l,u,x){var S=bn;bn|=2;var A=Es(),U=ws();(Dn!==l||hn!==u)&&(Wd=null,sa(l,u)),u=!1;var Y=Gn;t:do try{if(Bn!==0&&De!==null){var tt=De,mt=ga;switch(Bn){case 8:Yc(),Y=6;break t;case 3:case 2:case 6:dr.current===null&&(u=!0);var Vt=Bn;if(Bn=0,ga=null,Ur(l,tt,mt,Vt),x&&mr){Y=0;break t}break;default:Vt=Bn,Bn=0,ga=null,Ur(l,tt,mt,Vt)}}Im(),Y=Gn;break}catch(te){ar(l,te)}while(!0);return u&&l.shellSuspendCounter++,fr=hs=null,bn=S,Ie.H=A,Ie.A=U,De===null&&(Dn=null,hn=0,et()),Y}function Im(){for(;De!==null;)oi(De)}function Fm(l,u){var x=bn;bn|=2;var S=Es(),A=ws();Dn!==l||hn!==u?(Wd=null,gu=zr()+500,sa(l,u)):mr=P(l,u);t:do try{if(Bn!==0&&De!==null){u=De;var U=ga;e:switch(Bn){case 1:Bn=0,ga=null,Ur(l,u,U,1);break;case 2:if(Ft(U)){Bn=0,ga=null,Sn(u);break}u=function(){Bn===2&&Dn===l&&(Bn=7),Nt(l)},U.then(u,u);break t;case 3:Bn=7;break t;case 4:Bn=5;break t;case 7:Ft(U)?(Bn=0,ga=null,Sn(u)):(Bn=0,ga=null,Ur(l,u,U,7));break;case 5:var Y=null;switch(De.tag){case 26:Y=De.memoizedState;case 5:case 27:var tt=De,mt=tt.type,Vt=tt.pendingProps;if(Y?Gl(Y):_f(mt,Vt)){Bn=0,ga=null;var te=tt.sibling;if(te!==null)De=te;else{var ue=tt.return;ue!==null?(De=ue,rr(ue)):De=null}break e}}Bn=0,ga=null,Ur(l,u,U,5);break;case 6:Bn=0,ga=null,Ur(l,u,U,6);break;case 8:Yc(),Gn=6;break t;default:throw Error(a(462))}}wa();break}catch(pe){ar(l,pe)}while(!0);return fr=hs=null,Ie.H=S,Ie.A=A,bn=x,De!==null?0:(Dn=null,hn=0,et(),Gn)}function wa(){for(;De!==null&&!Ny();)oi(De)}function oi(l){var u=Vx(l.alternate,l,xa);l.memoizedProps=l.pendingProps,u===null?rr(l):De=u}function Sn(l){var u=l,x=u.alternate;switch(u.tag){case 15:case 0:u=Ox(x,u,u.pendingProps,u.type,void 0,hn);break;case 11:u=Ox(x,u,u.pendingProps,u.type.render,u.ref,hn);break;case 5:ns(u);default:Gx(x,u),u=De=Cd(u,xa),u=Vx(x,u,xa)}l.memoizedProps=l.pendingProps,u===null?rr(l):De=u}function Ur(l,u,x,S){fr=hs=null,ns(u),ll=null,cl=0;var A=u.return;try{if(W_(l,A,u,x,hn)){Gn=1,Bc(l,ut(x,l.current)),De=null;return}}catch(U){if(A!==null)throw De=A,U;Gn=1,Bc(l,ut(x,l.current)),De=null;return}u.flags&32768?(xn||S===1?l=!0:mr||(hn&536870912)!==0?l=!1:(Hr=l=!0,(S===2||S===3||S===6)&&(S=dr.current,S!==null&&S.tag===13&&(S.flags|=16384))),hf(u,l)):rr(u)}function rr(l){var u=l;do{if((u.flags&32768)!==0){hf(u,Hr);return}l=u.return;var x=kx(u.alternate,u,xa);if(x!==null){De=x;return}if(u=u.sibling,u!==null){De=u;return}De=u=l}while(u!==null);Gn===0&&(Gn=5)}function hf(l,u){do{var x=K_(l.alternate,l);if(x!==null){x.flags&=32767,De=x;return}if(x=l.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!u&&(l=l.sibling,l!==null)){De=l;return}De=l=x}while(l!==null);Gn=6,De=null}function Ko(l,u,x,S,A,U,Y,tt,mt,Vt){var te=Ie.T,ue=po();try{ma(2),Ie.T=null,Wx(l,u,x,S,ue,A,U,Y,tt,mt,Vt)}finally{Ie.T=te,ma(ue)}}function Wx(l,u,x,S,A,U,Y,tt){do as();while(Is!==null);if((bn&6)!==0)throw Error(a(327));var mt=l.finishedWork;if(S=l.finishedLanes,mt===null)return null;if(l.finishedWork=null,l.finishedLanes=0,mt===l.current)throw Error(a(177));l.callbackNode=null,l.callbackPriority=0,l.cancelPendingCommit=null;var Vt=mt.lanes|mt.childLanes;if(Vt|=us,ft(l,S,Vt,U,Y,tt),l===Dn&&(De=Dn=null,hn=0),(mt.subtreeFlags&10256)===0&&(mt.flags&10256)===0||ps||(ps=!0,pl=Vt,Vf=x,co(Nf,function(){return as(),null})),x=(mt.flags&15990)!==0,(mt.subtreeFlags&15990)!==0||x?(x=Ie.T,Ie.T=null,U=po(),ma(2),Y=bn,bn|=4,_d(l,mt),Nm(mt,l),Jx(l.containerInfo),l.current=mt,rf(l,mt.alternate,mt),jf(),bn=Y,ma(U),Ie.T=x):l.current=mt,ps?(ps=!1,Is=l,rc=S):Vm(l,Vt),Vt=l.pendingLanes,Vt===0&&(fl=null),F(mt.stateNode),Nt(l),u!==null)for(A=l.onRecoverableError,mt=0;mt<u.length;mt++)Vt=u[mt],A(Vt.value,{componentStack:Vt.stack});return(rc&3)!==0&&as(),Vt=l.pendingLanes,(S&4194218)!==0&&(Vt&42)!==0?l===Hf?xu++:(xu=0,Hf=l):xu=0,W(0),null}function Vm(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,xd(u)))}function as(){if(Is!==null){var l=Is,u=pl;pl=0;var x=bt(rc),S=32>x?32:x;x=Ie.T;var A=po();try{if(ma(S),Ie.T=null,Is===null)var U=!1;else{S=Vf,Vf=null;var Y=Is,tt=rc;if(Is=null,rc=0,(bn&6)!==0)throw Error(a(331));var mt=bn;if(bn|=4,cf(Y.current),Om(Y,Y.current,tt,S),bn=mt,W(0,!1),Ga&&typeof Ga.onPostCommitFiberRoot=="function")try{Ga.onPostCommitFiberRoot(yi,Y)}catch{}U=!0}return U}finally{ma(A),Ie.T=x,Vm(l,u)}}return!1}function Wc(l,u,x){u=ut(x,u),u=Fc(l.stateNode,u,2),l=xe(l,u,2),l!==null&&(K(l,2),Nt(l))}function Cn(l,u,x){if(l.tag===3)Wc(l,l,x);else for(;u!==null;){if(u.tag===3){Wc(u,l,x);break}else if(u.tag===1){var S=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof S.componentDidCatch=="function"&&(fl===null||!fl.has(S))){l=ut(x,l),x=bm(2),S=xe(u,x,2),S!==null&&(Dx(x,S,u,l),K(S,2),Nt(S));break}}u=u.return}}function Vl(l,u,x){var S=l.pingCache;if(S===null){S=l.pingCache=new Vr;var A=new Set;S.set(u,A)}else A=S.get(u),A===void 0&&(A=new Set,S.set(u,A));A.has(x)||(Bi=!0,A.add(x),l=Hm.bind(null,l,u,x),u.then(l,l))}function Hm(l,u,x){var S=l.pingCache;S!==null&&S.delete(u),l.pingedLanes|=l.suspendedLanes&x,l.warmLanes&=~x,Dn===l&&(hn&x)===x&&(Gn===4||Gn===3&&(hn&62914560)===hn&&300>zr()-Ua?(bn&2)===0&&sa(l,0):Yd|=x,Bs===hn&&(Bs=0)),Nt(l)}function Qo(l,u){u===0&&(u=I()),l=zt(l,u),l!==null&&(K(l,u),Nt(l))}function lo(l){var u=l.memoizedState,x=0;u!==null&&(x=u.retryLane),Qo(l,x)}function Jo(l,u){var x=0;switch(l.tag){case 13:var S=l.stateNode,A=l.memoizedState;A!==null&&(x=A.retryLane);break;case 19:S=l.stateNode;break;case 22:S=l.stateNode._retryCache;break;default:throw Error(a(314))}S!==null&&S.delete(u),Qo(l,x)}function co(l,u){return Hd(l,u)}function km(l,u,x,S){this.tag=l,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=S,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ad(l){return l=l.prototype,!(!l||!l.isReactComponent)}function jr(l,u){var x=l.alternate;return x===null?(x=e(l.tag,u,l.key,l.mode),x.elementType=l.elementType,x.type=l.type,x.stateNode=l.stateNode,x.alternate=l,l.alternate=x):(x.pendingProps=u,x.type=l.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=l.flags&31457280,x.childLanes=l.childLanes,x.lanes=l.lanes,x.child=l.child,x.memoizedProps=l.memoizedProps,x.memoizedState=l.memoizedState,x.updateQueue=l.updateQueue,u=l.dependencies,x.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},x.sibling=l.sibling,x.index=l.index,x.ref=l.ref,x.refCleanup=l.refCleanup,x}function Cd(l,u){l.flags&=31457282;var x=l.alternate;return x===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=x.childLanes,l.lanes=x.lanes,l.child=x.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=x.memoizedProps,l.memoizedState=x.memoizedState,l.updateQueue=x.updateQueue,l.type=x.type,u=x.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function As(l,u,x,S,A,U){var Y=0;if(S=l,typeof l=="function")Ad(l)&&(Y=1);else if(typeof l=="string")Y=or&&Vn?Id(l,x,zi.current)?26:Rs(l)?27:5:or?Id(l,x,zi.current)?26:5:Vn&&Rs(l)?27:5;else t:switch(l){case $o:return di(x.children,A,U,u);case jd:Y=8,A|=24;break;case gf:return l=e(12,x,u,A|2),l.elementType=gf,l.lanes=U,l;case xf:return l=e(13,x,u,A),l.elementType=xf,l.lanes=U,l;case Jc:return l=e(19,x,u,A),l.elementType=Jc,l.lanes=U,l;case qm:return Rd(x,A,U,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case Ld:case rs:Y=10;break t;case Xm:Y=9;break t;case Nd:Y=11;break t;case yf:Y=14;break t;case Nr:Y=16,S=null;break t}Y=29,x=Error(a(130,l===null?"null":typeof l,"")),S=null}return u=e(Y,x,u,A),u.elementType=l,u.type=S,u.lanes=U,u}function di(l,u,x,S){return l=e(7,l,S,u),l.lanes=x,l}function Rd(l,u,x,S){l=e(22,l,S,u),l.elementType=qm,l.lanes=x;var A={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var U=A._current;if(U===null)throw Error(a(456));if((A._pendingVisibility&2)===0){var Y=zt(U,2);Y!==null&&(A._pendingVisibility|=2,Xi(Y,U,2))}},attach:function(){var U=A._current;if(U===null)throw Error(a(456));if((A._pendingVisibility&2)!==0){var Y=zt(U,2);Y!==null&&(A._pendingVisibility&=-3,Xi(Y,U,2))}}};return l.stateNode=A,l}function ff(l,u,x){return l=e(6,l,null,u),l.lanes=x,l}function Gm(l,u,x){return u=e(4,l.children!==null?l.children:[],l.key,u),u.lanes=x,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function Q_(l,u,x,S,A,U,Y,tt){this.tag=1,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=tl,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=z(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=z(0),this.hiddenUpdates=z(null),this.identifierPrefix=S,this.onUncaughtError=A,this.onCaughtError=U,this.onRecoverableError=Y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=tt,this.incompleteTransitions=new Map}function Zx(l,u,x,S,A,U,Y,tt,mt,Vt,te,ue){return l=new Q_(l,u,x,Y,tt,mt,Vt,ue),u=1,U===!0&&(u|=24),U=e(3,null,null,u),l.current=U,U.stateNode=l,u=ko(),u.refCount++,l.pooledCache=u,u.refCount++,U.memoizedState={element:S,isDehydrated:x,cache:u},Zt(U),l}function Ci(l){return l?(l=rl,l):rl}function pf(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return l=M(u),l=l!==null?E(l):null,l===null?null:eu(l.stateNode)}function Zc(l,u,x,S,A,U){A=Ci(A),S.context===null?S.context=A:S.pendingContext=A,S=ge(u),S.payload={element:x},U=U===void 0?null:U,U!==null&&(S.callback=U),x=xe(l,S,u),x!==null&&(Xi(x,l,u),ie(x,l,u))}function Kc(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var x=l.retryLane;l.retryLane=x!==0&&x<u?x:u}}function Dd(l,u){Kc(l,u),(l=l.alternate)&&Kc(l,u)}var Xe={},Qc=rm(),sr=VH(),mf=Object.assign,J_=Symbol.for("react.element"),Ud=Symbol.for("react.transitional.element"),Lr=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),jd=Symbol.for("react.strict_mode"),gf=Symbol.for("react.profiler"),Ld=Symbol.for("react.provider"),Xm=Symbol.for("react.consumer"),rs=Symbol.for("react.context"),Nd=Symbol.for("react.forward_ref"),xf=Symbol.for("react.suspense"),Jc=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),Nr=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),Kx=Symbol.for("react.memo_cache_sentinel"),uo=Symbol.iterator,Ym=Symbol.for("react.client.reference"),Ie=Qc.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Cs,ho,Hl=!1,$c=Array.isArray,Wm=t.rendererVersion,Od=t.rendererPackageName,tu=t.extraDevToolsConfig,eu=t.getPublicInstance,Qx=t.getRootHostContext,nu=t.getChildHostContext,vf=t.prepareForCommit,Jx=t.resetAfterCommit,Zm=t.createInstance,zd=t.appendInitialChild,fo=t.finalizeInitialChildren,qe=t.shouldSetTextContent,Nn=t.createTextInstance,Ri=t.scheduleTimeout,bf=t.cancelTimeout,tl=t.noTimeout,Aa=t.isPrimaryRenderer;t.warnsIfNotActing;var Oi=t.supportsMutation,Or=t.supportsPersistence,oa=t.supportsHydration,$x=t.getInstanceFromNode;t.beforeActiveInstanceBlur,t.afterActiveInstanceBlur;var gi=t.preparePortalMount;t.prepareScopeUpdate,t.getInstanceFromScope;var ma=t.setCurrentUpdatePriority,po=t.getCurrentUpdatePriority,ty=t.resolveUpdatePriority;t.resolveEventType,t.resolveEventTimeStamp;var ey=t.shouldAttemptEagerTransition,$_=t.detachDeletedInstance;t.requestPostPaintCallback;var Km=t.maySuspendCommit,_f=t.preloadInstance,Qm=t.startSuspendingCommit,Ca=t.suspendInstance,Di=t.waitForCommitToBeReady,el=t.NotPendingTransition,ss=t.HostTransitionContext,Sf=t.resetFormInstance;t.bindToConsole;var Jm=t.supportsMicrotasks,mo=t.scheduleMicrotask,nl=t.supportsTestSelectors,$m=t.findFiberRoot,t0=t.getBoundingRect,ny=t.getTextContent,iu=t.isHiddenSubtree,iy=t.matchAccessibilityRole,ay=t.setFocusIfFocusable,ry=t.setupIntersectionObserver,sy=t.appendChild,e0=t.appendChildToContainer,oy=t.commitTextUpdate,tS=t.commitMount,ly=t.commitUpdate,cy=t.insertBefore,uy=t.insertInContainerBefore,n0=t.removeChild,dy=t.removeChildFromContainer,i0=t.resetTextContent,hy=t.hideInstance,fy=t.hideTextInstance,py=t.unhideInstance,eS=t.unhideTextInstance,my=t.clearContainer,au=t.cloneInstance,Pd=t.createContainerChildSet,a0=t.appendChildToContainerChildSet,Mf=t.finalizeContainerChildren,ru=t.replaceContainerChildren,r0=t.cloneHiddenInstance,s0=t.cloneHiddenTextInstance,Tf=t.isSuspenseInstancePending,Ef=t.isSuspenseInstanceFallback,gy=t.getSuspenseInstanceFallbackErrorDetails,xy=t.registerSuspenseInstanceRetry,o0=t.canHydrateFormStateMarker,yy=t.isFormStateMarkerMatching,l0=t.getNextHydratableSibling,wf=t.getFirstHydratableChild,vy=t.getFirstHydratableChildWithinContainer,by=t.getFirstHydratableChildWithinSuspenseInstance,nS=t.canHydrateInstance,c0=t.canHydrateTextInstance,_y=t.canHydrateSuspenseInstance,Sy=t.hydrateInstance,u0=t.hydrateTextInstance,My=t.hydrateSuspenseInstance,Ty=t.getNextHydratableInstanceAfterSuspenseInstance,iS=t.commitHydratedContainer,aS=t.commitHydratedSuspenseInstance,Ey=t.clearSuspenseBoundary,Bd=t.clearSuspenseBoundaryFromContainer,Af=t.shouldDeleteUnhydratedTailInstances;t.diffHydratedPropsForDevWarnings,t.diffHydratedTextForDevWarnings,t.describeHydratableInstanceForDevWarnings;var Cf=t.validateHydratableInstance,wy=t.validateHydratableTextInstance,or=t.supportsResources,Id=t.isHostHoistableType,Rf=t.getHoistableRoot,d0=t.getResource,Ay=t.acquireResource,kl=t.releaseResource,Fd=t.hydrateHoistable,Vd=t.mountHoistable,su=t.unmountHoistable,Df=t.createHoistableInstance,Cy=t.prepareToCommitHoistables,Ry=t.mayResourceSuspendCommit,Gl=t.preloadResource,Dy=t.suspendResource,Vn=t.supportsSingletons,os=t.resolveSingletonInstance,il=t.clearSingleton,Uy=t.acquireSingletonInstance,al=t.releaseSingletonInstance,Rs=t.isHostSingletonType,xi=[],go=-1,rl={},Ra=Math.clz32?Math.clz32:j,jy=Math.log,Ly=Math.LN2,Ds=128,Xl=4194304,Hd=sr.unstable_scheduleCallback,Uf=sr.unstable_cancelCallback,Ny=sr.unstable_shouldYield,jf=sr.unstable_requestPaint,zr=sr.unstable_now,Lf=sr.unstable_ImmediatePriority,Oy=sr.unstable_UserBlockingPriority,Nf=sr.unstable_NormalPriority,rS=sr.unstable_IdlePriority,zy=sr.log,qi=sr.unstable_setDisableYieldValue,yi=null,Ga=null,Xa=typeof Object.is=="function"?Object.is:Q,h0=new WeakMap,ql=[],Yl=0,Wl=null,ou=0,lr=[],cr=0,sl=null,ls=1,cs="",zi=C(null),lu=C(null),Us=C(null),Zl=C(null),la=null,ca=null,xn=!1,Pr=null,Yi=!1,kd=Error(a(519)),Br=[],Kl=0,us=0,Gd=null,xo=null,Ql=!1,Yn=!1,f0=!1,cu=0,uu=null,Jl=0,ur=0,$l=null,yo=!1,tc=!1,js=Object.prototype.hasOwnProperty,du=Error(a(460)),Xd=Error(a(474)),qd={then:function(){}},ol=null,ll=null,cl=0,ul=ni(!0),Ls=ni(!1),Wn=C(null),hu=C(0),dr=C(null),Hn=null,Pi=C(0),vo=0,Je=null,Re=null,vn=null,Ir=!1,ec=!1,dl=!1,Of=0,nc=0,Wi=null,ds=0,zf=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}},hi={readContext:ia,use:wt,useCallback:zn,useContext:zn,useEffect:zn,useImperativeHandle:zn,useLayoutEffect:zn,useInsertionEffect:zn,useMemo:zn,useReducer:zn,useRef:zn,useState:zn,useDebugValue:zn,useDeferredValue:zn,useTransition:zn,useSyncExternalStore:zn,useId:zn};hi.useCacheRefresh=zn,hi.useMemoCache=zn,hi.useHostTransitionStatus=zn,hi.useFormState=zn,hi.useActionState=zn,hi.useOptimistic=zn;var hl={readContext:ia,use:wt,useCallback:function(l,u){return X().memoizedState=[l,u===void 0?null:u],l},useContext:ia,useEffect:qh,useImperativeHandle:function(l,u,x){x=x!=null?x.concat([l]):null,rd(4194308,4,Yh.bind(null,u,l),x)},useLayoutEffect:function(l,u){return rd(4194308,4,l,u)},useInsertionEffect:function(l,u){rd(4,2,l,u)},useMemo:function(l,u){var x=X();u=u===void 0?null:u;var S=l();if(dl){Z(!0);try{l()}finally{Z(!1)}}return x.memoizedState=[S,u],S},useReducer:function(l,u,x){var S=X();if(x!==void 0){var A=x(u);if(dl){Z(!0);try{x(u)}finally{Z(!1)}}}else A=u;return S.memoizedState=S.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},S.queue=l,l=l.dispatch=Zh.bind(null,Je,l),[S.memoizedState,l]},useRef:function(l){var u=X();return l={current:l},u.memoizedState=l},useState:function(l){l=ln(l);var u=l.queue,x=vm.bind(null,Je,u);return u.dispatch=x,[l.memoizedState,x]},useDebugValue:Bo,useDeferredValue:function(l,u){var x=X();return ld(x,l,u)},useTransition:function(){var l=ln(!1);return l=Lc.bind(null,Je,l.queue,!0,!1),X().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,x){var S=Je,A=X();if(xn){if(x===void 0)throw Error(a(407));x=x()}else{if(x=u(),Dn===null)throw Error(a(349));(hn&60)!==0||Ee(S,u,x)}A.memoizedState=x;var U={value:x,getSnapshot:u};return A.queue=U,qh(rn.bind(null,S,U,l),[l]),S.flags|=2048,Ma(9,_e.bind(null,S,U,x,u),{destroy:void 0},null),x},useId:function(){var l=X(),u=Dn.identifierPrefix;if(xn){var x=cs,S=ls;x=(S&~(1<<32-Ra(S)-1)).toString(32)+x,u=":"+u+"R"+x,x=Of++,0<x&&(u+="H"+x.toString(32)),u+=":"}else x=ds++,u=":"+u+"r"+x.toString(32)+":";return l.memoizedState=u},useCacheRefresh:function(){return X().memoizedState=ym.bind(null,Je)}};hl.useMemoCache=pt,hl.useHostTransitionStatus=cd,hl.useFormState=Pn,hl.useActionState=Pn,hl.useOptimistic=function(l){var u=X();u.memoizedState=u.baseState=l;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=x,u=Oc.bind(null,Je,!0,x),x.dispatch=u,[l,u]};var Da={readContext:ia,use:wt,useCallback:Bl,useContext:ia,useEffect:mm,useImperativeHandle:Wh,useInsertionEffect:Cx,useLayoutEffect:od,useMemo:gm,useReducer:re,useRef:Ms,useState:function(){return re(Yt)},useDebugValue:Bo,useDeferredValue:function(l,u){var x=ct();return xm(x,Re.memoizedState,l,u)},useTransition:function(){var l=re(Yt)[0],u=ct().memoizedState;return[typeof l=="boolean"?l:Et(l),u]},useSyncExternalStore:je,useId:Nc};Da.useCacheRefresh=Js,Da.useMemoCache=pt,Da.useHostTransitionStatus=cd,Da.useFormState=ea,Da.useActionState=ea,Da.useOptimistic=function(l,u){var x=ct();return dn(x,Re,l,u)};var hr={readContext:ia,use:wt,useCallback:Bl,useContext:ia,useEffect:mm,useImperativeHandle:Wh,useInsertionEffect:Cx,useLayoutEffect:od,useMemo:gm,useReducer:me,useRef:Ms,useState:function(){return me(Yt)},useDebugValue:Bo,useDeferredValue:function(l,u){var x=ct();return Re===null?ld(x,l,u):xm(x,Re.memoizedState,l,u)},useTransition:function(){var l=me(Yt)[0],u=ct().memoizedState;return[typeof l=="boolean"?l:Et(l),u]},useSyncExternalStore:je,useId:Nc};hr.useCacheRefresh=Js,hr.useMemoCache=pt,hr.useHostTransitionStatus=cd,hr.useFormState=ki,hr.useActionState=ki,hr.useOptimistic=function(l,u){var x=ct();return Re!==null?dn(x,Re,l,u):(x.baseState=l,[l,x.queue.dispatch])};var Ns={isMounted:function(l){return(l=l._reactInternals)?v(l)===l:!1},enqueueSetState:function(l,u,x){l=l._reactInternals;var S=mi(),A=ge(S);A.payload=u,x!=null&&(A.callback=x),u=xe(l,A,S),u!==null&&(Xi(u,l,S),ie(u,l,S))},enqueueReplaceState:function(l,u,x){l=l._reactInternals;var S=mi(),A=ge(S);A.tag=1,A.payload=u,x!=null&&(A.callback=x),u=xe(l,A,S),u!==null&&(Xi(u,l,S),ie(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var x=mi(),S=ge(x);S.tag=2,u!=null&&(S.callback=u),u=xe(l,S,x),u!==null&&(Xi(u,l,x),ie(u,l,x))}},Pf=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Bf=Error(a(461)),kn=!1,If={dehydrated:null,treeContext:null,retryLane:0},bo=C(null),hs=null,fr=null,fu=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(x,S){l.push(S)}};this.abort=function(){u.aborted=!0,l.forEach(function(x){return x()})}},Py=sr.unstable_scheduleCallback,By=sr.unstable_NormalPriority,Zn={$$typeof:rs,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0},p0=Ie.S;Ie.S=function(l,u){typeof u=="object"&&u!==null&&typeof u.then=="function"&&Kt(l,u),p0!==null&&p0(l,u)};var Os=C(null),zs=!1,fi=!1,m0=!1,Rn=typeof WeakSet=="function"?WeakSet:Set,ke=null,sn=!1,Ce=null,Ze=!1,li=null,pr=8192,pu={getCacheForType:function(l){var u=ia(Zn),x=u.data.get(l);return x===void 0&&(x=l(),u.data.set(l,x)),x}},mu=0,Fr=1,Jn=2,fs=3,Ps=4;if(typeof Symbol=="function"&&Symbol.for){var ic=Symbol.for;mu=ic("selector.component"),Fr=ic("selector.has_pseudo_class"),Jn=ic("selector.role"),fs=ic("selector.test_id"),Ps=ic("selector.text")}var Vr=typeof WeakMap=="function"?WeakMap:Map,bn=0,Dn=null,De=null,hn=0,Bn=0,ga=null,Hr=!1,mr=!1,Bi=!1,xa=0,Gn=0,gr=0,_o=0,Yd=0,xr=0,Bs=0,ac=null,pi=null,Ff=!1,Ua=0,gu=1/0,Wd=null,fl=null,ps=!1,Is=null,rc=0,pl=0,Vf=null,xu=0,Hf=null;return Xe.attemptContinuousHydration=function(l){if(l.tag===13){var u=zt(l,67108864);u!==null&&Xi(u,l,67108864),Dd(l,67108864)}},Xe.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=mi(),x=zt(l,u);x!==null&&Xi(x,l,u),Dd(l,u)}},Xe.attemptSynchronousHydration=function(l){switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var u=N(l.pendingLanes);if(u!==0){for(l.pendingLanes|=2,l.entangledLanes|=2;u;){var x=1<<31-Ra(u);l.entanglements[1]|=x,u&=~x}Nt(l),(bn&6)===0&&(gu=zr()+500,W(0))}}break;case 13:u=zt(l,2),u!==null&&Xi(u,l,2),wd(),Dd(l,2)}},Xe.batchedUpdates=function(l,u){return l(u)},Xe.createComponentSelector=function(l){return{$$typeof:mu,value:l}},Xe.createContainer=function(l,u,x,S,A,U,Y,tt,mt,Vt){return Zx(l,u,!1,null,x,S,U,Y,tt,mt,Vt,null)},Xe.createHasPseudoClassSelector=function(l){return{$$typeof:Fr,value:l}},Xe.createHydrationContainer=function(l,u,x,S,A,U,Y,tt,mt,Vt,te,ue,pe){return l=Zx(x,S,!0,l,A,U,tt,mt,Vt,te,ue,pe),l.context=Ci(null),x=l.current,S=mi(),A=ge(S),A.callback=u??null,xe(x,A,S),l.current.lanes=S,K(l,S),Nt(l),l},Xe.createPortal=function(l,u,x){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Lr,key:S==null?null:""+S,children:l,containerInfo:u,implementation:x}},Xe.createRoleSelector=function(l){return{$$typeof:Jn,value:l}},Xe.createTestNameSelector=function(l){return{$$typeof:fs,value:l}},Xe.createTextSelector=function(l){return{$$typeof:Ps,value:l}},Xe.defaultOnCaughtError=function(l){console.error(l)},Xe.defaultOnRecoverableError=function(l){Pf(l)},Xe.defaultOnUncaughtError=function(l){Pf(l)},Xe.deferredUpdates=function(l){var u=Ie.T,x=po();try{return ma(32),Ie.T=null,l()}finally{ma(x),Ie.T=u}},Xe.discreteUpdates=function(l,u,x,S,A){var U=Ie.T,Y=po();try{return ma(2),Ie.T=null,l(u,x,S,A)}finally{ma(Y),Ie.T=U,bn===0&&(gu=zr()+500)}},Xe.findAllNodes=Td,Xe.findBoundingRects=function(l,u){if(!nl)throw Error(a(363));u=Td(l,u),l=[];for(var x=0;x<u.length;x++)l.push(t0(u[x]));for(u=l.length-1;0<u;u--){x=l[u];for(var S=x.x,A=S+x.width,U=x.y,Y=U+x.height,tt=u-1;0<=tt;tt--)if(u!==tt){var mt=l[tt],Vt=mt.x,te=Vt+mt.width,ue=mt.y,pe=ue+mt.height;if(S>=Vt&&U>=ue&&A<=te&&Y<=pe){l.splice(u,1);break}else if(S!==Vt||x.width!==mt.width||pe<U||ue>Y){if(!(U!==ue||x.height!==mt.height||te<S||Vt>A)){Vt>S&&(mt.width+=Vt-S,mt.x=S),te<A&&(mt.width=A-Vt),l.splice(u,1);break}}else{ue>U&&(mt.height+=ue-U,mt.y=U),pe<Y&&(mt.height=Y-ue),l.splice(u,1);break}}}return l},Xe.findHostInstance=pf,Xe.findHostInstanceWithNoPortals=function(l){return l=M(l),l=l!==null?R(l):null,l===null?null:eu(l.stateNode)},Xe.findHostInstanceWithWarning=function(l){return pf(l)},Xe.flushPassiveEffects=as,Xe.flushSyncFromReconciler=function(l){var u=bn;bn|=1;var x=Ie.T,S=po();try{if(ma(2),Ie.T=null,l)return l()}finally{ma(S),Ie.T=x,bn=u,(bn&6)===0&&W(0)}},Xe.flushSyncWork=wd,Xe.focusWithin=function(l,u){if(!nl)throw Error(a(363));for(l=Xc(l),u=Ha(l,u),u=Array.from(u),l=0;l<u.length;){var x=u[l++],S=x.tag;if(!iu(x)){if((S===5||S===26||S===27)&&ay(x.stateNode))return!0;for(x=x.child;x!==null;)u.push(x),x=x.sibling}}return!1},Xe.getFindAllNodesFailureDescription=function(l,u){if(!nl)throw Error(a(363));var x=0,S=[];l=[Xc(l),0];for(var A=0;A<l.length;){var U=l[A++],Y=U.tag,tt=l[A++],mt=u[tt];if((Y!==5&&Y!==26&&Y!==27||!iu(U))&&(Yo(U,mt)&&(S.push(Pm(mt)),tt++,tt>x&&(x=tt)),tt<u.length))for(U=U.child;U!==null;)l.push(U,tt),U=U.sibling}if(x<u.length){for(l=[];x<u.length;x++)l.push(Pm(u[x]));return`findAllNodes was able to match part of the selector:
  `+(S.join(" > ")+`

No matching component was found for:
  `)+l.join(" > ")}return null},Xe.getPublicRootInstance=function(l){if(l=l.current,!l.child)return null;switch(l.child.tag){case 27:case 5:return eu(l.child.stateNode);default:return l.child.stateNode}},Xe.injectIntoDevTools=function(){var l={bundleType:0,version:Wm,rendererPackageName:Od,currentDispatcherRef:Ie,findFiberByHostInstance:$x,reconcilerVersion:"19.0.0"};if(tu!==null&&(l.rendererConfig=tu),typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{yi=u.inject(l),Ga=u}catch{}l=!!u.checkDCE}}return l},Xe.isAlreadyRendering=function(){return!1},Xe.observeVisibleRects=function(l,u,x,S){if(!nl)throw Error(a(363));l=Td(l,u);var A=ry(l,x,S).disconnect;return{disconnect:function(){A()}}},Xe.shouldError=function(){return null},Xe.shouldSuspend=function(){return!1},Xe.startHostTransition=function(l,u,x,S){if(l.tag!==5)throw Error(a(476));var A=Ts(l).queue;Lc(l,A,u,el,x===null?i:function(){var U=Ts(l).next.queue;return Io(l,U,{},mi()),x(S)})},Xe.updateContainer=function(l,u,x,S){var A=u.current,U=mi();return Zc(A,U,l,u,x,S),U},Xe.updateContainerSync=function(l,u,x,S){return u.tag===0&&as(),Zc(u.current,2,l,u,x,S),2},Xe},n.exports.default=n.exports,Object.defineProperty(n.exports,"__esModule",{value:!0})}(LM)),LM.exports}var b3;function kH(){return b3||(b3=1,jM.exports=HH()),jM.exports}var GH=kH();const XH=e_(GH);var zM={exports:{}},PM={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _3;function qH(){return _3||(_3=1,function(n){function t(F,Z){var Q=F.length;F.push(Z);t:for(;0<Q;){var ut=Q-1>>>1,q=F[ut];if(0<a(q,Z))F[ut]=Z,F[Q]=q,Q=ut;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],Q=F.pop();if(Q!==Z){F[0]=Q;t:for(var ut=0,q=F.length,it=q>>>1;ut<it;){var St=2*(ut+1)-1,Lt=F[St],rt=St+1,Rt=F[rt];if(0>a(Lt,Q))rt<q&&0>a(Rt,Lt)?(F[ut]=Rt,F[rt]=Q,ut=rt):(F[ut]=Lt,F[St]=Q,ut=St);else if(rt<q&&0>a(Rt,Q))F[ut]=Rt,F[rt]=Q,ut=rt;else break t}}return Z}function a(F,Z){var Q=F.sortIndex-Z.sortIndex;return Q!==0?Q:F.id-Z.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var p=[],m=[],y=1,v=null,b=3,M=!1,E=!1,R=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function j(F){for(var Z=e(m);Z!==null;){if(Z.callback===null)i(m);else if(Z.startTime<=F)i(m),Z.sortIndex=Z.expirationTime,t(p,Z);else break;Z=e(m)}}function N(F){if(R=!1,j(F),!E)if(e(p)!==null)E=!0,xt();else{var Z=e(m);Z!==null&&bt(N,Z.startTime-F)}}var B=!1,P=-1,H=5,k=-1;function I(){return!(n.unstable_now()-k<H)}function z(){if(B){var F=n.unstable_now();k=F;var Z=!0;try{t:{E=!1,R&&(R=!1,T(P),P=-1),M=!0;var Q=b;try{e:{for(j(F),v=e(p);v!==null&&!(v.expirationTime>F&&I());){var ut=v.callback;if(typeof ut=="function"){v.callback=null,b=v.priorityLevel;var q=ut(v.expirationTime<=F);if(F=n.unstable_now(),typeof q=="function"){v.callback=q,j(F),Z=!0;break e}v===e(p)&&i(p),j(F)}else i(p);v=e(p)}if(v!==null)Z=!0;else{var it=e(m);it!==null&&bt(N,it.startTime-F),Z=!1}}break t}finally{v=null,b=Q,M=!1}Z=void 0}}finally{Z?K():B=!1}}}var K;if(typeof D=="function")K=function(){D(z)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,st=ft.port2;ft.port1.onmessage=z,K=function(){st.postMessage(null)}}else K=function(){C(z,0)};function xt(){B||(B=!0,K())}function bt(F,Z){P=C(function(){F(n.unstable_now())},Z)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_continueExecution=function(){E||M||(E=!0,xt())},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return e(p)},n.unstable_next=function(F){switch(b){case 1:case 2:case 3:var Z=3;break;default:Z=b}var Q=b;b=Z;try{return F()}finally{b=Q}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var Q=b;b=F;try{return Z()}finally{b=Q}},n.unstable_scheduleCallback=function(F,Z,Q){var ut=n.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ut+Q:ut):Q=ut,F){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=Q+q,F={id:y++,callback:Z,priorityLevel:F,startTime:Q,expirationTime:q,sortIndex:-1},Q>ut?(F.sortIndex=Q,t(m,F),e(p)===null&&F===e(m)&&(R?(T(P),P=-1):R=!0,bt(N,Q-ut))):(F.sortIndex=q,t(p,F),E||M||(E=!0,xt())),F},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(F){var Z=b;return function(){var Q=b;b=Z;try{return F.apply(this,arguments)}finally{b=Q}}}}(PM)),PM}var S3;function YH(){return S3||(S3=1,zM.exports=qH()),zM.exports}var M3=YH();function VE(n,t,e){if(!n)return;if(e(n)===!0)return n;let i=t?n.return:n.child;for(;i;){const a=VE(i,t,e);if(a)return a;i=t?null:i.sibling}}function Mj(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const HE=Mj(vt.createContext(null));class Tj extends vt.Component{render(){return vt.createElement(HE.Provider,{value:this._reactInternals},this.props.children)}}function Ej(){const n=vt.useContext(HE);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=vt.useId();return vt.useMemo(()=>{for(const e of[n,n==null?void 0:n.alternate]){if(!e)continue;const i=VE(e,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===t)return!0;o=o.next}});if(i)return i}},[n,t])}const WH=Symbol.for("react.context"),ZH=n=>n!==null&&typeof n=="object"&&"$$typeof"in n&&n.$$typeof===WH;function KH(){const n=Ej(),[t]=vt.useState(()=>new Map);t.clear();let e=n;for(;e;){const i=e.type;ZH(i)&&i!==HE&&!t.has(i)&&t.set(i,vt.use(Mj(i))),e=e.return}return t}function QH(){const n=KH();return vt.useMemo(()=>Array.from(n.keys()).reduce((t,e)=>i=>vt.createElement(t,null,vt.createElement(e.Provider,{...i,value:n.get(e)})),t=>vt.createElement(Tj,{...t})),[n])}function wj(n){let t=n.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const Aj=n=>n&&n.isOrthographicCamera,JH=n=>n&&n.hasOwnProperty("current"),$H=n=>n!=null&&(typeof n=="string"||typeof n=="number"||n.isColor),Mx=((n,t)=>typeof window<"u"&&(((n=window.document)==null?void 0:n.createElement)||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))()?vt.useLayoutEffect:vt.useEffect;function Cj(n){const t=vt.useRef(n);return Mx(()=>void(t.current=n),[n]),t}function t7(){const n=Ej(),t=QH();return vt.useMemo(()=>({children:e})=>{const a=!!VE(n,!0,o=>o.type===vt.StrictMode)?vt.StrictMode:vt.Fragment;return d.jsx(a,{children:d.jsx(t,{children:e})})},[n,t])}function e7({set:n}){return Mx(()=>(n(new Promise(()=>null)),()=>n(!1)),[n]),null}const n7=(n=>(n=class extends vt.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}},n.getDerivedStateFromError=()=>({error:!0}),n))();function Rj(n){var t;const e=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(n)?Math.min(Math.max(n[0],e),n[1]):n}function fp(n){var t;return(t=n.__r3f)==null?void 0:t.root.getState()}const _i={obj:n=>n===Object(n)&&!_i.arr(n)&&typeof n!="function",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",boo:n=>typeof n=="boolean",und:n=>n===void 0,nul:n=>n===null,arr:n=>Array.isArray(n),equ(n,t,{arrays:e="shallow",objects:i="reference",strict:a=!0}={}){if(typeof n!=typeof t||!!n!=!!t)return!1;if(_i.str(n)||_i.num(n)||_i.boo(n))return n===t;const o=_i.obj(n);if(o&&i==="reference")return n===t;const c=_i.arr(n);if(c&&e==="reference")return n===t;if((c||o)&&n===t)return!0;let h;for(h in n)if(!(h in t))return!1;if(o&&e==="shallow"&&i==="shallow"){for(h in a?t:n)if(!_i.equ(n[h],t[h],{strict:a,objects:"reference"}))return!1}else for(h in a?t:n)if(n[h]!==t[h])return!1;if(_i.und(h)){if(c&&n.length===0&&t.length===0||o&&Object.keys(n).length===0&&Object.keys(t).length===0)return!0;if(n!==t)return!1}return!0}};function i7(n){n.type!=="Scene"&&(n.dispose==null||n.dispose());for(const t in n){const e=n[t];(e==null?void 0:e.type)!=="Scene"&&(e==null||e.dispose==null||e.dispose())}}const Dj=["children","key","ref"];function a7(n){const t={};for(const e in n)Dj.includes(e)||(t[e]=n[e]);return t}function Gb(n,t,e,i){const a=n;let o=a==null?void 0:a.__r3f;return o||(o={root:t,type:e,parent:null,children:[],props:a7(i),object:a,eventCount:0,handlers:{},isHidden:!1},a&&(a.__r3f=o)),o}function nx(n,t){let e=n[t];if(!t.includes("-"))return{root:n,key:t,target:e};e=n;for(const a of t.split("-")){var i;t=a,n=e,e=(i=e)==null?void 0:i[t]}return{root:n,key:t,target:e}}const T3=/-\d+$/;function Xb(n,t){if(_i.str(t.props.attach)){if(T3.test(t.props.attach)){const a=t.props.attach.replace(T3,""),{root:o,key:c}=nx(n.object,a);Array.isArray(o[c])||(o[c]=[])}const{root:e,key:i}=nx(n.object,t.props.attach);t.previousAttach=e[i],e[i]=t.object}else _i.fun(t.props.attach)&&(t.previousAttach=t.props.attach(n.object,t.object))}function qb(n,t){if(_i.str(t.props.attach)){const{root:e,key:i}=nx(n.object,t.props.attach),a=t.previousAttach;a===void 0?delete e[i]:e[i]=a}else t.previousAttach==null||t.previousAttach(n.object,t.object);delete t.previousAttach}const ST=[...Dj,"args","dispose","attach","object","onUpdate","dispose"],E3=new Map;function r7(n){let t=E3.get(n.constructor);try{t||(t=new n.constructor,E3.set(n.constructor,t))}catch{}return t}function s7(n,t){const e={};for(const i in t)if(!ST.includes(i)&&!_i.equ(t[i],n.props[i])){e[i]=t[i];for(const a in t)a.startsWith(`${i}-`)&&(e[a]=t[a])}for(const i in n.props){if(ST.includes(i)||t.hasOwnProperty(i))continue;const{root:a,key:o}=nx(n.object,i);if(a.constructor&&a.constructor.length===0){const c=r7(a);_i.und(c)||(e[o]=c[o])}else e[o]=0}return e}const o7=["map","emissiveMap","sheenColorMap","specularColorMap","envMap"],l7=/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/;function Gu(n,t){var e;const i=n.__r3f,a=i&&wj(i).getState(),o=i==null?void 0:i.eventCount;for(const h in t){let p=t[h];if(ST.includes(h))continue;if(i&&l7.test(h)){typeof p=="function"?i.handlers[h]=p:delete i.handlers[h],i.eventCount=Object.keys(i.handlers).length;continue}if(p===void 0)continue;let{root:m,key:y,target:v}=nx(n,h);if(v instanceof Jp&&p instanceof Jp)v.mask=p.mask;else if(v instanceof he&&$H(p))v.set(p);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof v.copy=="function"&&p!=null&&p.constructor&&v.constructor===p.constructor)v.copy(p);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&Array.isArray(p))typeof v.fromArray=="function"?v.fromArray(p):v.set(...p);else if(v!==null&&typeof v=="object"&&typeof v.set=="function"&&typeof p=="number")typeof v.setScalar=="function"?v.setScalar(p):v.set(p);else{var c;m[y]=p,a&&!a.linear&&o7.includes(y)&&(c=m[y])!=null&&c.isTexture&&m[y].format===$a&&m[y].type===No&&(m[y].colorSpace=Qa)}}if(i!=null&&i.parent&&a!=null&&a.internal&&(e=i.object)!=null&&e.isObject3D&&o!==i.eventCount){const h=i.object,p=a.internal.interaction.indexOf(h);p>-1&&a.internal.interaction.splice(p,1),i.eventCount&&h.raycast!==null&&a.internal.interaction.push(h)}return i&&i.props.attach===void 0&&(i.object.isBufferGeometry?i.props.attach="geometry":i.object.isMaterial&&(i.props.attach="material")),i&&hm(i),n}function hm(n){var t;if(!n.parent)return;n.props.onUpdate==null||n.props.onUpdate(n.object);const e=(t=n.root)==null||t.getState==null?void 0:t.getState();e&&e.internal.frames===0&&e.invalidate()}function c7(n,t){n.manual||(Aj(n)?(n.left=t.width/-2,n.right=t.width/2,n.top=t.height/2,n.bottom=t.height/-2):n.aspect=t.width/t.height,n.updateProjectionMatrix())}const Wr=n=>n==null?void 0:n.isObject3D;function Wv(n){return(n.eventObject||n.object).uuid+"/"+n.index+n.instanceId}function Uj(n,t,e,i){const a=e.get(t);a&&(e.delete(t),e.size===0&&(n.delete(i),a.target.releasePointerCapture(i)))}function u7(n,t){const{internal:e}=n.getState();e.interaction=e.interaction.filter(i=>i!==t),e.initialHits=e.initialHits.filter(i=>i!==t),e.hovered.forEach((i,a)=>{(i.eventObject===t||i.object===t)&&e.hovered.delete(a)}),e.capturedMap.forEach((i,a)=>{Uj(e.capturedMap,t,i,a)})}function d7(n){function t(p){const{internal:m}=n.getState(),y=p.offsetX-m.initialClick[0],v=p.offsetY-m.initialClick[1];return Math.round(Math.sqrt(y*y+v*v))}function e(p){return p.filter(m=>["Move","Over","Enter","Out","Leave"].some(y=>{var v;return(v=m.__r3f)==null?void 0:v.handlers["onPointer"+y]}))}function i(p,m){const y=n.getState(),v=new Set,b=[],M=m?m(y.internal.interaction):y.internal.interaction;for(let T=0;T<M.length;T++){const D=fp(M[T]);D&&(D.raycaster.camera=void 0)}y.previousRoot||y.events.compute==null||y.events.compute(p,y);function E(T){const D=fp(T);if(!D||!D.events.enabled||D.raycaster.camera===null)return[];if(D.raycaster.camera===void 0){var j;D.events.compute==null||D.events.compute(p,D,(j=D.previousRoot)==null?void 0:j.getState()),D.raycaster.camera===void 0&&(D.raycaster.camera=null)}return D.raycaster.camera?D.raycaster.intersectObject(T,!0):[]}let R=M.flatMap(E).sort((T,D)=>{const j=fp(T.object),N=fp(D.object);return!j||!N?T.distance-D.distance:N.events.priority-j.events.priority||T.distance-D.distance}).filter(T=>{const D=Wv(T);return v.has(D)?!1:(v.add(D),!0)});y.events.filter&&(R=y.events.filter(R,y));for(const T of R){let D=T.object;for(;D;){var C;(C=D.__r3f)!=null&&C.eventCount&&b.push({...T,eventObject:D}),D=D.parent}}if("pointerId"in p&&y.internal.capturedMap.has(p.pointerId))for(let T of y.internal.capturedMap.get(p.pointerId).values())v.has(Wv(T.intersection))||b.push(T.intersection);return b}function a(p,m,y,v){if(p.length){const b={stopped:!1};for(const M of p){let E=fp(M.object);if(E||M.object.traverseAncestors(R=>{const C=fp(R);if(C)return E=C,!1}),E){const{raycaster:R,pointer:C,camera:T,internal:D}=E,j=new J(C.x,C.y,0).unproject(T),N=I=>{var z,K;return(z=(K=D.capturedMap.get(I))==null?void 0:K.has(M.eventObject))!=null?z:!1},B=I=>{const z={intersection:M,target:m.target};D.capturedMap.has(I)?D.capturedMap.get(I).set(M.eventObject,z):D.capturedMap.set(I,new Map([[M.eventObject,z]])),m.target.setPointerCapture(I)},P=I=>{const z=D.capturedMap.get(I);z&&Uj(D.capturedMap,M.eventObject,z,I)};let H={};for(let I in m){let z=m[I];typeof z!="function"&&(H[I]=z)}let k={...M,...H,pointer:C,intersections:p,stopped:b.stopped,delta:y,unprojectedPoint:j,ray:R.ray,camera:T,stopPropagation(){const I="pointerId"in m&&D.capturedMap.get(m.pointerId);if((!I||I.has(M.eventObject))&&(k.stopped=b.stopped=!0,D.hovered.size&&Array.from(D.hovered.values()).find(z=>z.eventObject===M.eventObject))){const z=p.slice(0,p.indexOf(M));o([...z,M])}},target:{hasPointerCapture:N,setPointerCapture:B,releasePointerCapture:P},currentTarget:{hasPointerCapture:N,setPointerCapture:B,releasePointerCapture:P},nativeEvent:m};if(v(k),b.stopped===!0)break}}}return p}function o(p){const{internal:m}=n.getState();for(const y of m.hovered.values())if(!p.length||!p.find(v=>v.object===y.object&&v.index===y.index&&v.instanceId===y.instanceId)){const b=y.eventObject.__r3f;if(m.hovered.delete(Wv(y)),b!=null&&b.eventCount){const M=b.handlers,E={...y,intersections:p};M.onPointerOut==null||M.onPointerOut(E),M.onPointerLeave==null||M.onPointerLeave(E)}}}function c(p,m){for(let y=0;y<m.length;y++){const v=m[y].__r3f;v==null||v.handlers.onPointerMissed==null||v.handlers.onPointerMissed(p)}}function h(p){switch(p){case"onPointerLeave":case"onPointerCancel":return()=>o([]);case"onLostPointerCapture":return m=>{const{internal:y}=n.getState();"pointerId"in m&&y.capturedMap.has(m.pointerId)&&requestAnimationFrame(()=>{y.capturedMap.has(m.pointerId)&&(y.capturedMap.delete(m.pointerId),o([]))})}}return function(y){const{onPointerMissed:v,internal:b}=n.getState();b.lastEvent.current=y;const M=p==="onPointerMove",E=p==="onClick"||p==="onContextMenu"||p==="onDoubleClick",C=i(y,M?e:void 0),T=E?t(y):0;p==="onPointerDown"&&(b.initialClick=[y.offsetX,y.offsetY],b.initialHits=C.map(j=>j.eventObject)),E&&!C.length&&T<=2&&(c(y,b.interaction),v&&v(y)),M&&o(C);function D(j){const N=j.eventObject,B=N.__r3f;if(!(B!=null&&B.eventCount))return;const P=B.handlers;if(M){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const H=Wv(j),k=b.hovered.get(H);k?k.stopped&&j.stopPropagation():(b.hovered.set(H,j),P.onPointerOver==null||P.onPointerOver(j),P.onPointerEnter==null||P.onPointerEnter(j))}P.onPointerMove==null||P.onPointerMove(j)}else{const H=P[p];H?(!E||b.initialHits.includes(N))&&(c(y,b.interaction.filter(k=>!b.initialHits.includes(k))),H(j)):E&&b.initialHits.includes(N)&&c(y,b.interaction.filter(k=>!b.initialHits.includes(k)))}}a(C,y,T,D)}}return{handlePointer:h}}const w3=n=>!!(n!=null&&n.render),jj=vt.createContext(null),h7=(n,t)=>{const e=IH((h,p)=>{const m=new J,y=new J,v=new J;function b(T=p().camera,D=y,j=p().size){const{width:N,height:B,top:P,left:H}=j,k=N/B;D.isVector3?v.copy(D):v.set(...D);const I=T.getWorldPosition(m).distanceTo(v);if(Aj(T))return{width:N/T.zoom,height:B/T.zoom,top:P,left:H,factor:1,distance:I,aspect:k};{const z=T.fov*Math.PI/180,K=2*Math.tan(z/2)*I,ft=K*(N/B);return{width:ft,height:K,top:P,left:H,factor:N/ft,distance:I,aspect:k}}}let M;const E=T=>h(D=>({performance:{...D.performance,current:T}})),R=new Gt;return{set:h,get:p,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},scene:null,xr:null,invalidate:(T=1)=>n(p(),T),advance:(T,D)=>t(T,D,p()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new OE,pointer:R,mouse:R,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const T=p();M&&clearTimeout(M),T.performance.current!==T.performance.min&&E(T.performance.min),M=setTimeout(()=>E(p().performance.max),T.performance.debounce)}},size:{width:0,height:0,top:0,left:0},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:b},setEvents:T=>h(D=>({...D,events:{...D.events,...T}})),setSize:(T,D,j=0,N=0)=>{const B=p().camera,P={width:T,height:D,top:j,left:N};h(H=>({size:P,viewport:{...H.viewport,...b(B,y,P)}}))},setDpr:T=>h(D=>{const j=Rj(T);return{viewport:{...D.viewport,dpr:j,initialDpr:D.viewport.initialDpr||j}}}),setFrameloop:(T="always")=>{const D=p().clock;D.stop(),D.elapsedTime=0,T!=="never"&&(D.start(),D.elapsedTime=0),h(()=>({frameloop:T}))},previousRoot:void 0,internal:{interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,lastEvent:vt.createRef(),active:!1,frames:0,priority:0,subscribe:(T,D,j)=>{const N=p().internal;return N.priority=N.priority+(D>0?1:0),N.subscribers.push({ref:T,priority:D,store:j}),N.subscribers=N.subscribers.sort((B,P)=>B.priority-P.priority),()=>{const B=p().internal;B!=null&&B.subscribers&&(B.priority=B.priority-(D>0?1:0),B.subscribers=B.subscribers.filter(P=>P.ref!==T))}}}}}),i=e.getState();let a=i.size,o=i.viewport.dpr,c=i.camera;return e.subscribe(()=>{const{camera:h,size:p,viewport:m,gl:y,set:v}=e.getState();if(p.width!==a.width||p.height!==a.height||m.dpr!==o){a=p,o=m.dpr,c7(h,p),m.dpr>0&&y.setPixelRatio(m.dpr);const b=typeof HTMLCanvasElement<"u"&&y.domElement instanceof HTMLCanvasElement;y.setSize(p.width,p.height,b)}h!==c&&(c=h,v(b=>({viewport:{...b.viewport,...b.viewport.getCurrentViewport(h)}})))}),e.subscribe(h=>n(h)),e};function Lj(){const n=vt.useContext(jj);if(!n)throw new Error("R3F: Hooks can only be used within the Canvas component!");return n}function Uu(n=e=>e,t){return Lj()(n,t)}function V_(n,t=0){const e=Lj(),i=e.getState().internal.subscribe,a=Cj(n);return Mx(()=>i(a,t,e),[t,i,e]),null}function f7(n){const t=XH(n);return t.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:vt.version}),t}const Nj=0,nm={},p7=/^three(?=[A-Z])/,H_=n=>`${n[0].toUpperCase()}${n.slice(1)}`;let m7=0;const g7=n=>typeof n=="function";function x7(n){if(g7(n)){const t=`${m7++}`;return nm[t]=n,t}else Object.assign(nm,n)}function Oj(n,t){const e=H_(n),i=nm[e];if(n!=="primitive"&&!i)throw new Error(`R3F: ${e} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(n==="primitive"&&!t.object)throw new Error("R3F: Primitives without 'object' are invalid!");if(t.args!==void 0&&!Array.isArray(t.args))throw new Error("R3F: The args prop must be an array!")}function y7(n,t,e){var i;return n=H_(n)in nm?n:n.replace(p7,""),Oj(n,t),n==="primitive"&&(i=t.object)!=null&&i.__r3f&&delete t.object.__r3f,Gb(t.object,e,n,t)}function v7(n){if(!n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?qb(n.parent,n):Wr(n.object)&&(n.object.visible=!1),n.isHidden=!0,hm(n)}}function zj(n){if(n.isHidden){var t;n.props.attach&&(t=n.parent)!=null&&t.object?Xb(n.parent,n):Wr(n.object)&&n.props.visible!==!1&&(n.object.visible=!0),n.isHidden=!1,hm(n)}}function kE(n,t,e){const i=t.root.getState();if(!(!n.parent&&n.object!==i.scene)){if(!t.object){var a,o;const c=nm[H_(t.type)];t.object=(a=t.props.object)!=null?a:new c(...(o=t.props.args)!=null?o:[]),t.object.__r3f=t}if(Gu(t.object,t.props),t.props.attach)Xb(n,t);else if(Wr(t.object)&&Wr(n.object)){const c=n.object.children.indexOf(e==null?void 0:e.object);if(e&&c!==-1){const h=n.object.children.indexOf(t.object);if(h!==-1){n.object.children.splice(h,1);const p=h<c?c-1:c;n.object.children.splice(p,0,t.object)}else t.object.parent=n.object,n.object.children.splice(c,0,t.object),t.object.dispatchEvent({type:"added"}),n.object.dispatchEvent({type:"childadded",child:t.object})}else n.object.add(t.object)}for(const c of t.children)kE(t,c);hm(t)}}function BM(n,t){t&&(t.parent=n,n.children.push(t),kE(n,t))}function A3(n,t,e){if(!t||!e)return;t.parent=n;const i=n.children.indexOf(e);i!==-1?n.children.splice(i,0,t):n.children.push(t),kE(n,t,e)}function Pj(n){if(typeof n.dispose=="function"){const t=()=>{try{n.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT<"u"?t():M3.unstable_scheduleCallback(M3.unstable_IdlePriority,t)}}function MT(n,t,e){if(!t)return;t.parent=null;const i=n.children.indexOf(t);i!==-1&&n.children.splice(i,1),t.props.attach?qb(n,t):Wr(t.object)&&Wr(n.object)&&(n.object.remove(t.object),u7(wj(t),t.object));const a=t.props.dispose!==null&&e!==!1;for(let o=t.children.length-1;o>=0;o--){const c=t.children[o];MT(t,c,a)}t.children.length=0,delete t.object.__r3f,a&&t.type!=="primitive"&&t.object.type!=="Scene"&&Pj(t.object),e===void 0&&hm(t)}function b7(n,t){for(const e of[n,n.alternate])if(e!==null)if(typeof e.ref=="function"){e.refCleanup==null||e.refCleanup();const i=e.ref(t);typeof i=="function"&&(e.refCleanup=i)}else e.ref&&(e.ref.current=t)}const K1=[];function _7(){for(const[e]of K1){const i=e.parent;if(i){e.props.attach?qb(i,e):Wr(e.object)&&Wr(i.object)&&i.object.remove(e.object);for(const a of e.children)a.props.attach?qb(e,a):Wr(a.object)&&Wr(e.object)&&e.object.remove(a.object)}e.isHidden&&zj(e),e.object.__r3f&&delete e.object.__r3f,e.type!=="primitive"&&Pj(e.object)}for(const[e,i,a]of K1){e.props=i;const o=e.parent;if(o){var n,t;const c=nm[H_(e.type)];e.object=(n=e.props.object)!=null?n:new c(...(t=e.props.args)!=null?t:[]),e.object.__r3f=e,b7(a,e.object),Gu(e.object,e.props),e.props.attach?Xb(o,e):Wr(e.object)&&Wr(o.object)&&o.object.add(e.object);for(const h of e.children)h.props.attach?Xb(e,h):Wr(h.object)&&Wr(e.object)&&e.object.add(h.object);hm(e)}}K1.length=0}const IM=()=>{},C3={};let Zv=Nj;const S7=0,M7=4,TT=f7({isPrimaryRenderer:!1,warnsIfNotActing:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,createInstance:y7,removeChild:MT,appendChild:BM,appendInitialChild:BM,insertBefore:A3,appendChildToContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||BM(e,t)},removeChildFromContainer(n,t){const e=n.getState().scene.__r3f;!t||!e||MT(e,t)},insertInContainerBefore(n,t,e){const i=n.getState().scene.__r3f;!t||!e||!i||A3(i,t,e)},getRootHostContext:()=>C3,getChildHostContext:()=>C3,commitUpdate(n,t,e,i,a){var o,c,h;Oj(t,i);let p=!1;if((n.type==="primitive"&&e.object!==i.object||((o=i.args)==null?void 0:o.length)!==((c=e.args)==null?void 0:c.length)||(h=i.args)!=null&&h.some((y,v)=>{var b;return y!==((b=e.args)==null?void 0:b[v])}))&&(p=!0),p)K1.push([n,{...i},a]);else{const y=s7(n,i);Object.keys(y).length&&(Object.assign(n.props,y),Gu(n.object,y))}(a.sibling===null||(a.flags&M7)===S7)&&_7()},finalizeInitialChildren:()=>!1,commitMount(){},getPublicInstance:n=>n==null?void 0:n.object,prepareForCommit:()=>null,preparePortalMount:n=>Gb(n.getState().scene,n,"",{}),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance:v7,unhideInstance:zj,createTextInstance:IM,hideTextInstance:IM,unhideTextInstance:IM,scheduleTimeout:typeof setTimeout=="function"?setTimeout:void 0,cancelTimeout:typeof clearTimeout=="function"?clearTimeout:void 0,noTimeout:-1,getInstanceFromNode:()=>null,beforeActiveInstanceBlur(){},afterActiveInstanceBlur(){},detachDeletedInstance(){},prepareScopeUpdate(){},getInstanceFromScope:()=>null,shouldAttemptEagerTransition:()=>!1,trackSchedulerEvent:()=>{},resolveEventType:()=>null,resolveEventTimeStamp:()=>-1.1,requestPostPaintCallback(){},maySuspendCommit:()=>!1,preloadInstance:()=>!0,startSuspendingCommit(){},suspendInstance(){},waitForCommitToBeReady:()=>null,NotPendingTransition:null,HostTransitionContext:vt.createContext(null),setCurrentUpdatePriority(n){Zv=n},getCurrentUpdatePriority(){return Zv},resolveUpdatePriority(){var n;if(Zv!==Nj)return Zv;switch(typeof window<"u"&&((n=window.event)==null?void 0:n.type)){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Z1.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Z1.ContinuousEventPriority;default:return Z1.DefaultEventPriority}},resetFormInstance(){}}),Ih=new Map,pp={objects:"shallow",strict:!1};function T7(n,t){if(!t&&typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement&&n.parentElement){const{width:e,height:i,top:a,left:o}=n.parentElement.getBoundingClientRect();return{width:e,height:i,top:a,left:o}}else if(!t&&typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas)return{width:n.width,height:n.height,top:0,left:0};return{width:0,height:0,top:0,left:0,...t}}function E7(n){const t=Ih.get(n),e=t==null?void 0:t.fiber,i=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const a=typeof reportError=="function"?reportError:console.error,o=i||h7(AT,D3),c=e||TT.createContainer(o,Z1.ConcurrentRoot,null,!1,null,"",a,a,a,null);t||Ih.set(n,{fiber:c,store:o});let h,p,m=!1,y=null;return{async configure(v={}){let b;y=new Promise(it=>b=it);let{gl:M,size:E,scene:R,events:C,onCreated:T,shadows:D=!1,linear:j=!1,flat:N=!1,legacy:B=!1,orthographic:P=!1,frameloop:H="always",dpr:k=[1,2],performance:I,raycaster:z,camera:K,onPointerMissed:ft}=v,st=o.getState(),xt=st.gl;if(!st.gl){const it={canvas:n,powerPreference:"high-performance",antialias:!0,alpha:!0},St=typeof M=="function"?await M(it):M;w3(St)?xt=St:xt=new Sj({...it,...M}),st.set({gl:xt})}let bt=st.raycaster;bt||st.set({raycaster:bt=new pj});const{params:F,...Z}=z||{};if(_i.equ(Z,bt,pp)||Gu(bt,{...Z}),_i.equ(F,bt.params,pp)||Gu(bt,{params:{...bt.params,...F}}),!st.camera||st.camera===p&&!_i.equ(p,K,pp)){p=K;const it=K==null?void 0:K.isCamera,St=it?K:P?new Yu(0,0,0,0,.1,1e3):new Vi(75,0,.1,1e3);it||(St.position.z=5,K&&(Gu(St,K),St.manual||("aspect"in K||"left"in K||"right"in K||"bottom"in K||"top"in K)&&(St.manual=!0,St.updateProjectionMatrix())),!st.camera&&!(K!=null&&K.rotation)&&St.lookAt(0,0,0)),st.set({camera:St}),bt.camera=St}if(!st.scene){let it;R!=null&&R.isScene?(it=R,Gb(it,o,"",{})):(it=new mE,Gb(it,o,"",{}),R&&Gu(it,R)),st.set({scene:it})}C&&!st.events.handlers&&st.set({events:C(o)});const Q=T7(n,E);if(_i.equ(Q,st.size,pp)||st.setSize(Q.width,Q.height,Q.top,Q.left),k&&st.viewport.dpr!==Rj(k)&&st.setDpr(k),st.frameloop!==H&&st.setFrameloop(H),st.onPointerMissed||st.set({onPointerMissed:ft}),I&&!_i.equ(I,st.performance,pp)&&st.set(it=>({performance:{...it.performance,...I}})),!st.xr){var ut;const it=(rt,Rt)=>{const Pt=o.getState();Pt.frameloop!=="never"&&D3(rt,!0,Pt,Rt)},St=()=>{const rt=o.getState();rt.gl.xr.enabled=rt.gl.xr.isPresenting,rt.gl.xr.setAnimationLoop(rt.gl.xr.isPresenting?it:null),rt.gl.xr.isPresenting||AT(rt)},Lt={connect(){const rt=o.getState().gl;rt.xr.addEventListener("sessionstart",St),rt.xr.addEventListener("sessionend",St)},disconnect(){const rt=o.getState().gl;rt.xr.removeEventListener("sessionstart",St),rt.xr.removeEventListener("sessionend",St)}};typeof((ut=xt.xr)==null?void 0:ut.addEventListener)=="function"&&Lt.connect(),st.set({xr:Lt})}if(xt.shadowMap){const it=xt.shadowMap.enabled,St=xt.shadowMap.type;if(xt.shadowMap.enabled=!!D,_i.boo(D))xt.shadowMap.type=_g;else if(_i.str(D)){var q;const Lt={basic:T4,percentage:c_,soft:_g,variance:Do};xt.shadowMap.type=(q=Lt[D])!=null?q:_g}else _i.obj(D)&&Object.assign(xt.shadowMap,D);(it!==xt.shadowMap.enabled||St!==xt.shadowMap.type)&&(xt.shadowMap.needsUpdate=!0)}return _n.enabled=!B,m||(xt.outputColorSpace=j?Zu:Qa,xt.toneMapping=N?Cl:$T),st.legacy!==B&&st.set(()=>({legacy:B})),st.linear!==j&&st.set(()=>({linear:j})),st.flat!==N&&st.set(()=>({flat:N})),M&&!_i.fun(M)&&!w3(M)&&!_i.equ(M,xt,pp)&&Gu(xt,M),h=T,m=!0,b(),this},render(v){return!m&&!y&&this.configure(),y.then(()=>{TT.updateContainer(d.jsx(w7,{store:o,children:v,onCreated:h,rootElement:n}),c,null,()=>{})}),o},unmount(){Bj(n)}}}function w7({store:n,children:t,onCreated:e,rootElement:i}){return Mx(()=>{const a=n.getState();a.set(o=>({internal:{...o.internal,active:!0}})),e&&e(a),n.getState().events.connected||a.events.connect==null||a.events.connect(i)},[]),d.jsx(jj.Provider,{value:n,children:t})}function Bj(n,t){const e=Ih.get(n),i=e==null?void 0:e.fiber;if(i){const a=e==null?void 0:e.store.getState();a&&(a.internal.active=!1),TT.updateContainer(null,i,null,()=>{a&&setTimeout(()=>{try{var o,c,h,p;a.events.disconnect==null||a.events.disconnect(),(o=a.gl)==null||(c=o.renderLists)==null||c.dispose==null||c.dispose(),(h=a.gl)==null||h.forceContextLoss==null||h.forceContextLoss(),(p=a.gl)!=null&&p.xr&&a.xr.disconnect(),i7(a.scene),Ih.delete(n)}catch{}},500)})}}const A7=new Set,C7=new Set,R7=new Set;function FM(n,t){if(n.size)for(const{callback:e}of n.values())e(t)}function Ug(n,t){switch(n){case"before":return FM(A7,t);case"after":return FM(C7,t);case"tail":return FM(R7,t)}}let VM,HM;function ET(n,t,e){let i=t.clock.getDelta();t.frameloop==="never"&&typeof n=="number"&&(i=n-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=n),VM=t.internal.subscribers;for(let a=0;a<VM.length;a++)HM=VM[a],HM.ref.current(HM.store.getState(),i,e);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}let Yb=!1,wT=!1,kM,R3,mp;function Ij(n){R3=requestAnimationFrame(Ij),Yb=!0,kM=0,Ug("before",n),wT=!0;for(const e of Ih.values()){var t;mp=e.store.getState(),mp.internal.active&&(mp.frameloop==="always"||mp.internal.frames>0)&&!((t=mp.gl.xr)!=null&&t.isPresenting)&&(kM+=ET(n,mp))}if(wT=!1,Ug("after",n),kM===0)return Ug("tail",n),Yb=!1,cancelAnimationFrame(R3)}function AT(n,t=1){var e;if(!n)return Ih.forEach(i=>AT(i.store.getState(),t));(e=n.gl.xr)!=null&&e.isPresenting||!n.internal.active||n.frameloop==="never"||(t>1?n.internal.frames=Math.min(60,n.internal.frames+t):wT?n.internal.frames=2:n.internal.frames=1,Yb||(Yb=!0,requestAnimationFrame(Ij)))}function D3(n,t=!0,e,i){if(t&&Ug("before",n),e)ET(n,e,i);else for(const a of Ih.values())ET(n,a.store.getState());t&&Ug("after",n)}const GM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function D7(n){const{handlePointer:t}=d7(n);return{priority:1,enabled:!0,compute(e,i,a){i.pointer.set(e.offsetX/i.size.width*2-1,-(e.offsetY/i.size.height)*2+1),i.raycaster.setFromCamera(i.pointer,i.camera)},connected:void 0,handlers:Object.keys(GM).reduce((e,i)=>({...e,[i]:t(i)}),{}),update:()=>{var e;const{events:i,internal:a}=n.getState();(e=a.lastEvent)!=null&&e.current&&i.handlers&&i.handlers.onPointerMove(a.lastEvent.current)},connect:e=>{const{set:i,events:a}=n.getState();if(a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:e}})),a.handlers)for(const o in a.handlers){const c=a.handlers[o],[h,p]=GM[o];e.addEventListener(h,c,{passive:p})}},disconnect:()=>{const{set:e,events:i}=n.getState();if(i.connected){if(i.handlers)for(const a in i.handlers){const o=i.handlers[a],[c]=GM[a];i.connected.removeEventListener(c,o)}e(a=>({events:{...a.events,connected:void 0}}))}}}}function U3(n,t){let e;return(...i)=>{window.clearTimeout(e),e=window.setTimeout(()=>n(...i),t)}}function U7({debounce:n,scroll:t,polyfill:e,offsetSize:i}={debounce:0,scroll:!1,offsetSize:!1}){const a=e||(typeof window>"u"?class{}:window.ResizeObserver);if(!a)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[o,c]=vt.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),h=vt.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:o,orientationHandler:null}),p=n?typeof n=="number"?n:n.scroll:null,m=n?typeof n=="number"?n:n.resize:null,y=vt.useRef(!1);vt.useEffect(()=>(y.current=!0,()=>void(y.current=!1)));const[v,b,M]=vt.useMemo(()=>{const T=()=>{if(!h.current.element)return;const{left:D,top:j,width:N,height:B,bottom:P,right:H,x:k,y:I}=h.current.element.getBoundingClientRect(),z={left:D,top:j,width:N,height:B,bottom:P,right:H,x:k,y:I};h.current.element instanceof HTMLElement&&i&&(z.height=h.current.element.offsetHeight,z.width=h.current.element.offsetWidth),Object.freeze(z),y.current&&!O7(h.current.lastBounds,z)&&c(h.current.lastBounds=z)};return[T,m?U3(T,m):T,p?U3(T,p):T]},[c,i,p,m]);function E(){h.current.scrollContainers&&(h.current.scrollContainers.forEach(T=>T.removeEventListener("scroll",M,!0)),h.current.scrollContainers=null),h.current.resizeObserver&&(h.current.resizeObserver.disconnect(),h.current.resizeObserver=null),h.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",h.current.orientationHandler))}function R(){h.current.element&&(h.current.resizeObserver=new a(M),h.current.resizeObserver.observe(h.current.element),t&&h.current.scrollContainers&&h.current.scrollContainers.forEach(T=>T.addEventListener("scroll",M,{capture:!0,passive:!0})),h.current.orientationHandler=()=>{M()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",h.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",h.current.orientationHandler))}const C=T=>{!T||T===h.current.element||(E(),h.current.element=T,h.current.scrollContainers=Fj(T),R())};return L7(M,!!t),j7(b),vt.useEffect(()=>{E(),R()},[t,M,b]),vt.useEffect(()=>E,[]),[C,o,v]}function j7(n){vt.useEffect(()=>{const t=n;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[n])}function L7(n,t){vt.useEffect(()=>{if(t){const e=n;return window.addEventListener("scroll",e,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",e,!0)}},[n,t])}function Fj(n){const t=[];if(!n||n===document.body)return t;const{overflow:e,overflowX:i,overflowY:a}=window.getComputedStyle(n);return[e,i,a].some(o=>o==="auto"||o==="scroll")&&t.push(n),[...t,...Fj(n.parentElement)]}const N7=["x","y","top","bottom","left","right","width","height"],O7=(n,t)=>N7.every(e=>n[e]===t[e]);function z7({ref:n,children:t,fallback:e,resize:i,style:a,gl:o,events:c=D7,eventSource:h,eventPrefix:p,shadows:m,linear:y,flat:v,legacy:b,orthographic:M,frameloop:E,dpr:R,performance:C,raycaster:T,camera:D,scene:j,onPointerMissed:N,onCreated:B,...P}){vt.useMemo(()=>x7(wH),[]);const H=t7(),[k,I]=U7({scroll:!0,debounce:{scroll:50,resize:0},...i}),z=vt.useRef(null),K=vt.useRef(null);vt.useImperativeHandle(n,()=>z.current);const ft=Cj(N),[st,xt]=vt.useState(!1),[bt,F]=vt.useState(!1);if(st)throw st;if(bt)throw bt;const Z=vt.useRef(null);Mx(()=>{const ut=z.current;if(I.width>0&&I.height>0&&ut){Z.current||(Z.current=E7(ut));async function q(){await Z.current.configure({gl:o,scene:j,events:c,shadows:m,linear:y,flat:v,legacy:b,orthographic:M,frameloop:E,dpr:R,performance:C,raycaster:T,camera:D,size:I,onPointerMissed:(...it)=>ft.current==null?void 0:ft.current(...it),onCreated:it=>{it.events.connect==null||it.events.connect(h?JH(h)?h.current:h:K.current),p&&it.setEvents({compute:(St,Lt)=>{const rt=St[p+"X"],Rt=St[p+"Y"];Lt.pointer.set(rt/Lt.size.width*2-1,-(Rt/Lt.size.height)*2+1),Lt.raycaster.setFromCamera(Lt.pointer,Lt.camera)}}),B==null||B(it)}}),Z.current.render(d.jsx(H,{children:d.jsx(n7,{set:F,children:d.jsx(vt.Suspense,{fallback:d.jsx(e7,{set:xt}),children:t??null})})}))}q()}}),vt.useEffect(()=>{const ut=z.current;if(ut)return()=>Bj(ut)},[]);const Q=h?"none":"auto";return d.jsx("div",{ref:K,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:Q,...a},...P,children:d.jsx("div",{ref:k,style:{width:"100%",height:"100%"},children:d.jsx("canvas",{ref:z,style:{display:"block"},children:e})})})}function P7(n){return d.jsx(Tj,{children:d.jsx(z7,{...n})})}function Fh(){return Fh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Fh.apply(null,arguments)}var B7=Object.defineProperty,I7=(n,t,e)=>t in n?B7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,F7=(n,t,e)=>(I7(n,t+"",e),e);class V7{constructor(){F7(this,"_listeners")}addEventListener(t,e){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[t]===void 0&&(i[t]=[]),i[t].indexOf(e)===-1&&i[t].push(e)}hasEventListener(t,e){if(this._listeners===void 0)return!1;const i=this._listeners;return i[t]!==void 0&&i[t].indexOf(e)!==-1}removeEventListener(t,e){if(this._listeners===void 0)return;const a=this._listeners[t];if(a!==void 0){const o=a.indexOf(e);o!==-1&&a.splice(o,1)}}dispatchEvent(t){if(this._listeners===void 0)return;const i=this._listeners[t.type];if(i!==void 0){t.target=this;const a=i.slice(0);for(let o=0,c=a.length;o<c;o++)a[o].call(this,t);t.target=null}}}var H7=Object.defineProperty,k7=(n,t,e)=>t in n?H7(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e,Ue=(n,t,e)=>(k7(n,typeof t!="symbol"?t+"":t,e),e);const Kv=new Vh,j3=new bc,G7=Math.cos(70*(Math.PI/180)),L3=(n,t)=>(n%t+t)%t;let X7=class extends V7{constructor(t,e){super(),Ue(this,"object"),Ue(this,"domElement"),Ue(this,"enabled",!0),Ue(this,"target",new J),Ue(this,"minDistance",0),Ue(this,"maxDistance",1/0),Ue(this,"minZoom",0),Ue(this,"maxZoom",1/0),Ue(this,"minPolarAngle",0),Ue(this,"maxPolarAngle",Math.PI),Ue(this,"minAzimuthAngle",-1/0),Ue(this,"maxAzimuthAngle",1/0),Ue(this,"enableDamping",!1),Ue(this,"dampingFactor",.05),Ue(this,"enableZoom",!0),Ue(this,"zoomSpeed",1),Ue(this,"enableRotate",!0),Ue(this,"rotateSpeed",1),Ue(this,"enablePan",!0),Ue(this,"panSpeed",1),Ue(this,"screenSpacePanning",!0),Ue(this,"keyPanSpeed",7),Ue(this,"zoomToCursor",!1),Ue(this,"autoRotate",!1),Ue(this,"autoRotateSpeed",2),Ue(this,"reverseOrbit",!1),Ue(this,"reverseHorizontalOrbit",!1),Ue(this,"reverseVerticalOrbit",!1),Ue(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ue(this,"mouseButtons",{LEFT:yh.ROTATE,MIDDLE:yh.DOLLY,RIGHT:yh.PAN}),Ue(this,"touches",{ONE:vh.ROTATE,TWO:vh.DOLLY_PAN}),Ue(this,"target0"),Ue(this,"position0"),Ue(this,"zoom0"),Ue(this,"_domElementKeyEvents",null),Ue(this,"getPolarAngle"),Ue(this,"getAzimuthalAngle"),Ue(this,"setPolarAngle"),Ue(this,"setAzimuthalAngle"),Ue(this,"getDistance"),Ue(this,"getZoomScale"),Ue(this,"listenToKeyEvents"),Ue(this,"stopListenToKeyEvents"),Ue(this,"saveState"),Ue(this,"reset"),Ue(this,"update"),Ue(this,"connect"),Ue(this,"dispose"),Ue(this,"dollyIn"),Ue(this,"dollyOut"),Ue(this,"getScale"),Ue(this,"setScale"),this.object=t,this.domElement=e,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>y.phi,this.getAzimuthalAngle=()=>y.theta,this.setPolarAngle=at=>{let Ot=L3(at,2*Math.PI),se=y.phi;se<0&&(se+=2*Math.PI),Ot<0&&(Ot+=2*Math.PI);let nt=Math.abs(Ot-se);2*Math.PI-nt<nt&&(Ot<se?Ot+=2*Math.PI:se+=2*Math.PI),v.phi=Ot-se,i.update()},this.setAzimuthalAngle=at=>{let Ot=L3(at,2*Math.PI),se=y.theta;se<0&&(se+=2*Math.PI),Ot<0&&(Ot+=2*Math.PI);let nt=Math.abs(Ot-se);2*Math.PI-nt<nt&&(Ot<se?Ot+=2*Math.PI:se+=2*Math.PI),v.theta=Ot-se,i.update()},this.getDistance=()=>i.object.position.distanceTo(i.target),this.listenToKeyEvents=at=>{at.addEventListener("keydown",Kt),this._domElementKeyEvents=at},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Kt),this._domElementKeyEvents=null},this.saveState=()=>{i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=()=>{i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(a),i.update(),p=h.NONE},this.update=(()=>{const at=new J,Ot=new J(0,1,0),se=new er().setFromUnitVectors(t.up,Ot),nt=se.clone().invert(),Qt=new J,Dt=new er,Ft=2*Math.PI;return function(){const oe=i.object.position;se.setFromUnitVectors(t.up,Ot),nt.copy(se).invert(),at.copy(oe).sub(i.target),at.applyQuaternion(se),y.setFromVector3(at),i.autoRotate&&p===h.NONE&&xt(ft()),i.enableDamping?(y.theta+=v.theta*i.dampingFactor,y.phi+=v.phi*i.dampingFactor):(y.theta+=v.theta,y.phi+=v.phi);let Me=i.minAzimuthAngle,tn=i.maxAzimuthAngle;isFinite(Me)&&isFinite(tn)&&(Me<-Math.PI?Me+=Ft:Me>Math.PI&&(Me-=Ft),tn<-Math.PI?tn+=Ft:tn>Math.PI&&(tn-=Ft),Me<=tn?y.theta=Math.max(Me,Math.min(tn,y.theta)):y.theta=y.theta>(Me+tn)/2?Math.max(Me,y.theta):Math.min(tn,y.theta)),y.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,y.phi)),y.makeSafe(),i.enableDamping===!0?i.target.addScaledVector(M,i.dampingFactor):i.target.add(M),i.zoomToCursor&&I||i.object.isOrthographicCamera?y.radius=Lt(y.radius):y.radius=Lt(y.radius*b),at.setFromSpherical(y),at.applyQuaternion(nt),oe.copy(i.target).add(at),i.object.matrixAutoUpdate||i.object.updateMatrix(),i.object.lookAt(i.target),i.enableDamping===!0?(v.theta*=1-i.dampingFactor,v.phi*=1-i.dampingFactor,M.multiplyScalar(1-i.dampingFactor)):(v.set(0,0,0),M.set(0,0,0));let An=!1;if(i.zoomToCursor&&I){let We=null;if(i.object instanceof Vi&&i.object.isPerspectiveCamera){const Ti=at.length();We=Lt(Ti*b);const ni=Ti-We;i.object.position.addScaledVector(H,ni),i.object.updateMatrixWorld()}else if(i.object.isOrthographicCamera){const Ti=new J(k.x,k.y,0);Ti.unproject(i.object),i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/b)),i.object.updateProjectionMatrix(),An=!0;const ni=new J(k.x,k.y,0);ni.unproject(i.object),i.object.position.sub(ni).add(Ti),i.object.updateMatrixWorld(),We=at.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),i.zoomToCursor=!1;We!==null&&(i.screenSpacePanning?i.target.set(0,0,-1).transformDirection(i.object.matrix).multiplyScalar(We).add(i.object.position):(Kv.origin.copy(i.object.position),Kv.direction.set(0,0,-1).transformDirection(i.object.matrix),Math.abs(i.object.up.dot(Kv.direction))<G7?t.lookAt(i.target):(j3.setFromNormalAndCoplanarPoint(i.object.up,i.target),Kv.intersectPlane(j3,i.target))))}else i.object instanceof Yu&&i.object.isOrthographicCamera&&(An=b!==1,An&&(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/b)),i.object.updateProjectionMatrix()));return b=1,I=!1,An||Qt.distanceToSquared(i.object.position)>m||8*(1-Dt.dot(i.object.quaternion))>m?(i.dispatchEvent(a),Qt.copy(i.object.position),Dt.copy(i.object.quaternion),An=!1,!0):!1}})(),this.connect=at=>{i.domElement=at,i.domElement.style.touchAction="none",i.domElement.addEventListener("contextmenu",Zt),i.domElement.addEventListener("pointerdown",V),i.domElement.addEventListener("pointercancel",Ut),i.domElement.addEventListener("wheel",ae)},this.dispose=()=>{var at,Ot,se,nt,Qt,Dt;i.domElement&&(i.domElement.style.touchAction="auto"),(at=i.domElement)==null||at.removeEventListener("contextmenu",Zt),(Ot=i.domElement)==null||Ot.removeEventListener("pointerdown",V),(se=i.domElement)==null||se.removeEventListener("pointercancel",Ut),(nt=i.domElement)==null||nt.removeEventListener("wheel",ae),(Qt=i.domElement)==null||Qt.ownerDocument.removeEventListener("pointermove",dt),(Dt=i.domElement)==null||Dt.ownerDocument.removeEventListener("pointerup",Ut),i._domElementKeyEvents!==null&&i._domElementKeyEvents.removeEventListener("keydown",Kt)};const i=this,a={type:"change"},o={type:"start"},c={type:"end"},h={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let p=h.NONE;const m=1e-6,y=new yT,v=new yT;let b=1;const M=new J,E=new Gt,R=new Gt,C=new Gt,T=new Gt,D=new Gt,j=new Gt,N=new Gt,B=new Gt,P=new Gt,H=new J,k=new Gt;let I=!1;const z=[],K={};function ft(){return 2*Math.PI/60/60*i.autoRotateSpeed}function st(){return Math.pow(.95,i.zoomSpeed)}function xt(at){i.reverseOrbit||i.reverseHorizontalOrbit?v.theta+=at:v.theta-=at}function bt(at){i.reverseOrbit||i.reverseVerticalOrbit?v.phi+=at:v.phi-=at}const F=(()=>{const at=new J;return function(se,nt){at.setFromMatrixColumn(nt,0),at.multiplyScalar(-se),M.add(at)}})(),Z=(()=>{const at=new J;return function(se,nt){i.screenSpacePanning===!0?at.setFromMatrixColumn(nt,1):(at.setFromMatrixColumn(nt,0),at.crossVectors(i.object.up,at)),at.multiplyScalar(se),M.add(at)}})(),Q=(()=>{const at=new J;return function(se,nt){const Qt=i.domElement;if(Qt&&i.object instanceof Vi&&i.object.isPerspectiveCamera){const Dt=i.object.position;at.copy(Dt).sub(i.target);let Ft=at.length();Ft*=Math.tan(i.object.fov/2*Math.PI/180),F(2*se*Ft/Qt.clientHeight,i.object.matrix),Z(2*nt*Ft/Qt.clientHeight,i.object.matrix)}else Qt&&i.object instanceof Yu&&i.object.isOrthographicCamera?(F(se*(i.object.right-i.object.left)/i.object.zoom/Qt.clientWidth,i.object.matrix),Z(nt*(i.object.top-i.object.bottom)/i.object.zoom/Qt.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}})();function ut(at){i.object instanceof Vi&&i.object.isPerspectiveCamera||i.object instanceof Yu&&i.object.isOrthographicCamera?b=at:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function q(at){ut(b/at)}function it(at){ut(b*at)}function St(at){if(!i.zoomToCursor||!i.domElement)return;I=!0;const Ot=i.domElement.getBoundingClientRect(),se=at.clientX-Ot.left,nt=at.clientY-Ot.top,Qt=Ot.width,Dt=Ot.height;k.x=se/Qt*2-1,k.y=-(nt/Dt)*2+1,H.set(k.x,k.y,1).unproject(i.object).sub(i.object.position).normalize()}function Lt(at){return Math.max(i.minDistance,Math.min(i.maxDistance,at))}function rt(at){E.set(at.clientX,at.clientY)}function Rt(at){St(at),N.set(at.clientX,at.clientY)}function Pt(at){T.set(at.clientX,at.clientY)}function Wt(at){R.set(at.clientX,at.clientY),C.subVectors(R,E).multiplyScalar(i.rotateSpeed);const Ot=i.domElement;Ot&&(xt(2*Math.PI*C.x/Ot.clientHeight),bt(2*Math.PI*C.y/Ot.clientHeight)),E.copy(R),i.update()}function $t(at){B.set(at.clientX,at.clientY),P.subVectors(B,N),P.y>0?q(st()):P.y<0&&it(st()),N.copy(B),i.update()}function we(at){D.set(at.clientX,at.clientY),j.subVectors(D,T).multiplyScalar(i.panSpeed),Q(j.x,j.y),T.copy(D),i.update()}function ve(at){St(at),at.deltaY<0?it(st()):at.deltaY>0&&q(st()),i.update()}function Pe(at){let Ot=!1;switch(at.code){case i.keys.UP:Q(0,i.keyPanSpeed),Ot=!0;break;case i.keys.BOTTOM:Q(0,-i.keyPanSpeed),Ot=!0;break;case i.keys.LEFT:Q(i.keyPanSpeed,0),Ot=!0;break;case i.keys.RIGHT:Q(-i.keyPanSpeed,0),Ot=!0;break}Ot&&(at.preventDefault(),i.update())}function Ne(){if(z.length==1)E.set(z[0].pageX,z[0].pageY);else{const at=.5*(z[0].pageX+z[1].pageX),Ot=.5*(z[0].pageY+z[1].pageY);E.set(at,Ot)}}function Be(){if(z.length==1)T.set(z[0].pageX,z[0].pageY);else{const at=.5*(z[0].pageX+z[1].pageX),Ot=.5*(z[0].pageY+z[1].pageY);T.set(at,Ot)}}function et(){const at=z[0].pageX-z[1].pageX,Ot=z[0].pageY-z[1].pageY,se=Math.sqrt(at*at+Ot*Ot);N.set(0,se)}function Ln(){i.enableZoom&&et(),i.enablePan&&Be()}function kt(){i.enableZoom&&et(),i.enableRotate&&Ne()}function zt(at){if(z.length==1)R.set(at.pageX,at.pageY);else{const se=ie(at),nt=.5*(at.pageX+se.x),Qt=.5*(at.pageY+se.y);R.set(nt,Qt)}C.subVectors(R,E).multiplyScalar(i.rotateSpeed);const Ot=i.domElement;Ot&&(xt(2*Math.PI*C.x/Ot.clientHeight),bt(2*Math.PI*C.y/Ot.clientHeight)),E.copy(R)}function Bt(at){if(z.length==1)D.set(at.pageX,at.pageY);else{const Ot=ie(at),se=.5*(at.pageX+Ot.x),nt=.5*(at.pageY+Ot.y);D.set(se,nt)}j.subVectors(D,T).multiplyScalar(i.panSpeed),Q(j.x,j.y),T.copy(D)}function ee(at){const Ot=ie(at),se=at.pageX-Ot.x,nt=at.pageY-Ot.y,Qt=Math.sqrt(se*se+nt*nt);B.set(0,Qt),P.set(0,Math.pow(B.y/N.y,i.zoomSpeed)),q(P.y),N.copy(B)}function Nt(at){i.enableZoom&&ee(at),i.enablePan&&Bt(at)}function W(at){i.enableZoom&&ee(at),i.enableRotate&&zt(at)}function V(at){var Ot,se;i.enabled!==!1&&(z.length===0&&((Ot=i.domElement)==null||Ot.ownerDocument.addEventListener("pointermove",dt),(se=i.domElement)==null||se.ownerDocument.addEventListener("pointerup",Ut)),fe(at),at.pointerType==="touch"?ne(at):It(at))}function dt(at){i.enabled!==!1&&(at.pointerType==="touch"?Qe(at):jt(at))}function Ut(at){var Ot,se,nt;ge(at),z.length===0&&((Ot=i.domElement)==null||Ot.releasePointerCapture(at.pointerId),(se=i.domElement)==null||se.ownerDocument.removeEventListener("pointermove",dt),(nt=i.domElement)==null||nt.ownerDocument.removeEventListener("pointerup",Ut)),i.dispatchEvent(c),p=h.NONE}function It(at){let Ot;switch(at.button){case 0:Ot=i.mouseButtons.LEFT;break;case 1:Ot=i.mouseButtons.MIDDLE;break;case 2:Ot=i.mouseButtons.RIGHT;break;default:Ot=-1}switch(Ot){case yh.DOLLY:if(i.enableZoom===!1)return;Rt(at),p=h.DOLLY;break;case yh.ROTATE:if(at.ctrlKey||at.metaKey||at.shiftKey){if(i.enablePan===!1)return;Pt(at),p=h.PAN}else{if(i.enableRotate===!1)return;rt(at),p=h.ROTATE}break;case yh.PAN:if(at.ctrlKey||at.metaKey||at.shiftKey){if(i.enableRotate===!1)return;rt(at),p=h.ROTATE}else{if(i.enablePan===!1)return;Pt(at),p=h.PAN}break;default:p=h.NONE}p!==h.NONE&&i.dispatchEvent(o)}function jt(at){if(i.enabled!==!1)switch(p){case h.ROTATE:if(i.enableRotate===!1)return;Wt(at);break;case h.DOLLY:if(i.enableZoom===!1)return;$t(at);break;case h.PAN:if(i.enablePan===!1)return;we(at);break}}function ae(at){i.enabled===!1||i.enableZoom===!1||p!==h.NONE&&p!==h.ROTATE||(at.preventDefault(),i.dispatchEvent(o),ve(at),i.dispatchEvent(c))}function Kt(at){i.enabled===!1||i.enablePan===!1||Pe(at)}function ne(at){switch(xe(at),z.length){case 1:switch(i.touches.ONE){case vh.ROTATE:if(i.enableRotate===!1)return;Ne(),p=h.TOUCH_ROTATE;break;case vh.PAN:if(i.enablePan===!1)return;Be(),p=h.TOUCH_PAN;break;default:p=h.NONE}break;case 2:switch(i.touches.TWO){case vh.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Ln(),p=h.TOUCH_DOLLY_PAN;break;case vh.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;kt(),p=h.TOUCH_DOLLY_ROTATE;break;default:p=h.NONE}break;default:p=h.NONE}p!==h.NONE&&i.dispatchEvent(o)}function Qe(at){switch(xe(at),p){case h.TOUCH_ROTATE:if(i.enableRotate===!1)return;zt(at),i.update();break;case h.TOUCH_PAN:if(i.enablePan===!1)return;Bt(at),i.update();break;case h.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Nt(at),i.update();break;case h.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;W(at),i.update();break;default:p=h.NONE}}function Zt(at){i.enabled!==!1&&at.preventDefault()}function fe(at){z.push(at)}function ge(at){delete K[at.pointerId];for(let Ot=0;Ot<z.length;Ot++)if(z[Ot].pointerId==at.pointerId){z.splice(Ot,1);return}}function xe(at){let Ot=K[at.pointerId];Ot===void 0&&(Ot=new Gt,K[at.pointerId]=Ot),Ot.set(at.pageX,at.pageY)}function ie(at){const Ot=at.pointerId===z[0].pointerId?z[1]:z[0];return K[Ot.pointerId]}this.dollyIn=(at=st())=>{it(at),i.update()},this.dollyOut=(at=st())=>{q(at),i.update()},this.getScale=()=>b,this.setScale=at=>{ut(at),i.update()},this.getZoomScale=()=>st(),e!==void 0&&this.connect(e),this.update()}};const q7=vt.forwardRef(({makeDefault:n,camera:t,regress:e,domElement:i,enableDamping:a=!0,keyEvents:o=!1,onChange:c,onStart:h,onEnd:p,...m},y)=>{const v=Uu(P=>P.invalidate),b=Uu(P=>P.camera),M=Uu(P=>P.gl),E=Uu(P=>P.events),R=Uu(P=>P.setEvents),C=Uu(P=>P.set),T=Uu(P=>P.get),D=Uu(P=>P.performance),j=t||b,N=i||E.connected||M.domElement,B=vt.useMemo(()=>new X7(j),[j]);return V_(()=>{B.enabled&&B.update()},-1),vt.useEffect(()=>(o&&B.connect(o===!0?N:o),B.connect(N),()=>void B.dispose()),[o,N,e,B,v]),vt.useEffect(()=>{const P=I=>{v(),e&&D.regress(),c&&c(I)},H=I=>{h&&h(I)},k=I=>{p&&p(I)};return B.addEventListener("change",P),B.addEventListener("start",H),B.addEventListener("end",k),()=>{B.removeEventListener("start",H),B.removeEventListener("end",k),B.removeEventListener("change",P)}},[c,h,p,B,v,R]),vt.useEffect(()=>{if(n){const P=T().controls;return C({controls:B}),()=>C({controls:P})}},[n,B]),vt.createElement("primitive",Fh({ref:y,object:B,enableDamping:a},m))});let ch,H0;const Y7=vt.createContext(null),N3=new Ve,O3=new J,W7=vt.forwardRef(({children:n,range:t,limit:e=1e3,...i},a)=>{const o=vt.useRef(null);vt.useImperativeHandle(a,()=>o.current,[]);const[c,h]=vt.useState([]),[[p,m,y]]=vt.useState(()=>[new Float32Array(e*3),Float32Array.from({length:e*3},()=>1),Float32Array.from({length:e},()=>1)]);vt.useEffect(()=>{o.current.geometry.attributes.position.needsUpdate=!0}),V_(()=>{for(o.current.updateMatrix(),o.current.updateMatrixWorld(),N3.copy(o.current.matrixWorld).invert(),o.current.geometry.drawRange.count=Math.min(e,t!==void 0?t:e,c.length),ch=0;ch<c.length;ch++)H0=c[ch].current,H0.getWorldPosition(O3).applyMatrix4(N3),O3.toArray(p,ch*3),o.current.geometry.attributes.position.needsUpdate=!0,H0.matrixWorldNeedsUpdate=!0,H0.color.toArray(m,ch*3),o.current.geometry.attributes.color.needsUpdate=!0,y.set([H0.size],ch),o.current.geometry.attributes.size.needsUpdate=!0});const v=vt.useMemo(()=>({getParent:()=>o,subscribe:b=>(h(M=>[...M,b]),()=>h(M=>M.filter(E=>E.current!==b.current)))}),[]);return vt.createElement("points",Fh({userData:{instances:c},matrixAutoUpdate:!1,ref:o,raycast:()=>null},i),vt.createElement("bufferGeometry",null,vt.createElement("bufferAttribute",{attach:"attributes-position",args:[p,3],usage:jh}),vt.createElement("bufferAttribute",{attach:"attributes-color",args:[m,3],usage:jh}),vt.createElement("bufferAttribute",{attach:"attributes-size",args:[y,1],usage:jh})),vt.createElement(Y7.Provider,{value:v},n))}),Z7=vt.forwardRef(({children:n,positions:t,colors:e,sizes:i,stride:a=3,...o},c)=>{const h=vt.useRef(null);return vt.useImperativeHandle(c,()=>h.current,[]),V_(()=>{const p=h.current.geometry.attributes;p.position.needsUpdate=!0,e&&(p.color.needsUpdate=!0),i&&(p.size.needsUpdate=!0)}),vt.createElement("points",Fh({ref:h},o),vt.createElement("bufferGeometry",null,vt.createElement("bufferAttribute",{attach:"attributes-position",args:[t,a],usage:jh}),e&&vt.createElement("bufferAttribute",{attach:"attributes-color",args:[e,a],count:e.length/a,usage:jh}),i&&vt.createElement("bufferAttribute",{attach:"attributes-size",args:[i,1],count:i.length/a,usage:jh})),n)}),K7=vt.forwardRef((n,t)=>n.positions instanceof Float32Array?vt.createElement(Z7,Fh({},n,{ref:t})):vt.createElement(W7,Fh({},n,{ref:t}))),GE=vt.createContext({});function XE(n){const t=vt.useRef(null);return t.current===null&&(t.current=n()),t.current}const qE=typeof window<"u",Vj=qE?vt.useLayoutEffect:vt.useEffect,k_=vt.createContext(null),YE=vt.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});class Q7 extends vt.Component{getSnapshotBeforeUpdate(t){const e=this.props.childRef.current;if(e&&t.isPresent&&!this.props.isPresent){const i=e.offsetParent,a=i instanceof HTMLElement&&i.offsetWidth||0,o=this.props.sizeRef.current;o.height=e.offsetHeight||0,o.width=e.offsetWidth||0,o.top=e.offsetTop,o.left=e.offsetLeft,o.right=a-o.width-o.left}return null}componentDidUpdate(){}render(){return this.props.children}}function J7({children:n,isPresent:t,anchorX:e}){const i=vt.useId(),a=vt.useRef(null),o=vt.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=vt.useContext(YE);return vt.useInsertionEffect(()=>{const{width:h,height:p,top:m,left:y,right:v}=o.current;if(t||!a.current||!h||!p)return;const b=e==="left"?`left: ${y}`:`right: ${v}`;a.current.dataset.motionPopId=i;const M=document.createElement("style");return c&&(M.nonce=c),document.head.appendChild(M),M.sheet&&M.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${b}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.removeChild(M)}},[t]),d.jsx(Q7,{isPresent:t,childRef:a,sizeRef:o,children:vt.cloneElement(n,{ref:a})})}const $7=({children:n,initial:t,isPresent:e,onExitComplete:i,custom:a,presenceAffectsLayout:o,mode:c,anchorX:h})=>{const p=XE(tk),m=vt.useId(),y=vt.useCallback(b=>{p.set(b,!0);for(const M of p.values())if(!M)return;i&&i()},[p,i]),v=vt.useMemo(()=>({id:m,initial:t,isPresent:e,custom:a,onExitComplete:y,register:b=>(p.set(b,!1),()=>p.delete(b))}),o?[Math.random(),y]:[e,y]);return vt.useMemo(()=>{p.forEach((b,M)=>p.set(M,!1))},[e]),vt.useEffect(()=>{!e&&!p.size&&i&&i()},[e]),c==="popLayout"&&(n=d.jsx(J7,{isPresent:e,anchorX:h,children:n})),d.jsx(k_.Provider,{value:v,children:n})};function tk(){return new Map}function Hj(n=!0){const t=vt.useContext(k_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:i,register:a}=t,o=vt.useId();vt.useEffect(()=>{if(n)return a(o)},[n]);const c=vt.useCallback(()=>n&&i&&i(o),[o,i,n]);return!e&&i?[!1,c]:[!0]}const Qv=n=>n.key||"";function z3(n){const t=[];return vt.Children.forEach(n,e=>{vt.isValidElement(e)&&t.push(e)}),t}const ek=({children:n,custom:t,initial:e=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:o="sync",propagate:c=!1,anchorX:h="left"})=>{const[p,m]=Hj(c),y=vt.useMemo(()=>z3(n),[n]),v=c&&!p?[]:y.map(Qv),b=vt.useRef(!0),M=vt.useRef(y),E=XE(()=>new Map),[R,C]=vt.useState(y),[T,D]=vt.useState(y);Vj(()=>{b.current=!1,M.current=y;for(let B=0;B<T.length;B++){const P=Qv(T[B]);v.includes(P)?E.delete(P):E.get(P)!==!0&&E.set(P,!1)}},[T,v.length,v.join("-")]);const j=[];if(y!==R){let B=[...y];for(let P=0;P<T.length;P++){const H=T[P],k=Qv(H);v.includes(k)||(B.splice(P,0,H),j.push(H))}return o==="wait"&&j.length&&(B=j),D(z3(B)),C(y),null}const{forceRender:N}=vt.useContext(GE);return d.jsx(d.Fragment,{children:T.map(B=>{const P=Qv(B),H=c&&!p?!1:y===T||v.includes(P),k=()=>{if(E.has(P))E.set(P,!0);else return;let I=!0;E.forEach(z=>{z||(I=!1)}),I&&(N==null||N(),D(M.current),c&&(m==null||m()),i&&i())};return d.jsx($7,{isPresent:H,initial:!b.current||e?void 0:!1,custom:t,presenceAffectsLayout:a,mode:o,onExitComplete:H?void 0:k,anchorX:h,children:B},P)})})};function WE(n,t){n.indexOf(t)===-1&&n.push(t)}function ZE(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}let kj=()=>{};const nk={useManualTiming:!1};function KE(n){let t;return()=>(t===void 0&&(t=n()),t)}const Ws=n=>n,ix=(n,t,e)=>{const i=t-n;return i===0?1:(e-n)/i};class QE{constructor(){this.subscriptions=[]}add(t){return WE(this.subscriptions,t),()=>ZE(this.subscriptions,t)}notify(t,e,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](t,e,i);else for(let o=0;o<a;o++){const c=this.subscriptions[o];c&&c(t,e,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ul=n=>n*1e3,jl=n=>n/1e3;function Gj(n,t){return t?n*(1e3/t):0}const ik=KE(()=>window.ScrollTimeline!==void 0);class ak{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,e){for(let i=0;i<this.animations.length;i++)this.animations[i][t]=e}attachTimeline(t,e){const i=this.animations.map(a=>{if(ik()&&a.attachTimeline)return a.attachTimeline(t);if(typeof e=="function")return e(a)});return()=>{i.forEach((a,o)=>{a&&a(),this.animations[o].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class rk extends ak{then(t,e){return this.finished.finally(t).then(()=>{})}}const P3={value:null},JE=n=>Array.isArray(n)&&typeof n[0]=="number",sk={};function ok(n,t){const e=KE(n);return()=>sk[t]??e()}const ax=ok(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Xj=(n,t,e=10)=>{let i="";const a=Math.max(Math.round(t/e),2);for(let o=0;o<a;o++)i+=n(o/(a-1))+", ";return`linear(${i.substring(0,i.length-2)})`},yg=([n,t,e,i])=>`cubic-bezier(${n}, ${t}, ${e}, ${i})`,CT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yg([0,.65,.55,1]),circOut:yg([.55,0,1,.45]),backIn:yg([.31,.01,.66,-.59]),backOut:yg([.33,1.53,.69,.99])};function qj(n,t){if(n)return typeof n=="function"&&ax()?Xj(n,t):JE(n)?yg(n):Array.isArray(n)?n.map(e=>qj(e,t)||CT.easeOut):CT[n]}function lk(n,t,e,{delay:i=0,duration:a=300,repeat:o=0,repeatType:c="loop",ease:h="easeInOut",times:p}={},m=void 0){const y={[t]:e};p&&(y.offset=p);const v=qj(h,a);return Array.isArray(v)&&(y.easing=v),n.animate(y,{delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:o+1,direction:c==="reverse"?"alternate":"normal",pseudoElement:m})}function $E(n){return typeof n=="function"&&"applyToOptions"in n}function tw(n,t){return(n==null?void 0:n[t])??(n==null?void 0:n.default)??n}const Wb=2e4;function ew(n){let t=0;const e=50;let i=n.next(t);for(;!i.done&&t<Wb;)t+=e,i=n.next(t);return t>=Wb?1/0:t}function ck(n,t=100,e){const i=e({...n,keyframes:[0,t]}),a=Math.min(ew(i),Wb);return{type:"keyframes",ease:o=>i.next(a*o).value/t,duration:jl(a)}}function Yj(n){return!!(typeof n=="function"&&ax()||!n||typeof n=="string"&&(n in CT||ax())||JE(n)||Array.isArray(n)&&n.every(Yj))}function B3(n,t){n.timeline=t,n.onfinish=null}const Jv=["read","resolveKeyframes","update","preRender","render","postRender"];function uk(n,t){let e=new Set,i=new Set,a=!1,o=!1;const c=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},p=0;function m(v){c.has(v)&&(y.schedule(v),n()),p++,v(h)}const y={schedule:(v,b=!1,M=!1)=>{const R=M&&a?e:i;return b&&c.add(v),R.has(v)||R.add(v),v},cancel:v=>{i.delete(v),c.delete(v)},process:v=>{if(h=v,a){o=!0;return}a=!0,[e,i]=[i,e],e.forEach(m),t&&P3.value&&P3.value.frameloop[t].push(p),p=0,e.clear(),a=!1,o&&(o=!1,y.process(v))}};return y}const dk=40;function Wj(n,t){let e=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},o=()=>e=!0,c=Jv.reduce((T,D)=>(T[D]=uk(o,t?D:void 0),T),{}),{read:h,resolveKeyframes:p,update:m,preRender:y,render:v,postRender:b}=c,M=()=>{const T=performance.now();e=!1,a.delta=i?1e3/60:Math.max(Math.min(T-a.timestamp,dk),1),a.timestamp=T,a.isProcessing=!0,h.process(a),p.process(a),m.process(a),y.process(a),v.process(a),b.process(a),a.isProcessing=!1,e&&t&&(i=!1,n(M))},E=()=>{e=!0,i=!0,a.isProcessing||n(M)};return{schedule:Jv.reduce((T,D)=>{const j=c[D];return T[D]=(N,B=!1,P=!1)=>(e||E(),j.schedule(N,B,P)),T},{}),cancel:T=>{for(let D=0;D<Jv.length;D++)c[Jv[D]].cancel(T)},state:a,steps:c}}const{schedule:ri,cancel:Qu,state:Oa,steps:XM}=Wj(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ws,!0),{schedule:nw}=Wj(queueMicrotask,!1);let Q1;function hk(){Q1=void 0}const Ll={now:()=>(Q1===void 0&&Ll.set(Oa.isProcessing||nk.useManualTiming?Oa.timestamp:performance.now()),Q1),set:n=>{Q1=n,queueMicrotask(hk)}},Ro={x:!1,y:!1};function Zj(){return Ro.x||Ro.y}function fk(n){return n==="x"||n==="y"?Ro[n]?null:(Ro[n]=!0,()=>{Ro[n]=!1}):Ro.x||Ro.y?null:(Ro.x=Ro.y=!0,()=>{Ro.x=Ro.y=!1})}function pk(n,t,e){if(n instanceof EventTarget)return[n];if(typeof n=="string"){const a=document.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function Kj(n,t){const e=pk(n),i=new AbortController,a={passive:!0,...t,signal:i.signal};return[e,a,()=>i.abort()]}function I3(n){return!(n.pointerType==="touch"||Zj())}function mk(n,t,e={}){const[i,a,o]=Kj(n,e),c=h=>{if(!I3(h))return;const{target:p}=h,m=t(p,h);if(typeof m!="function"||!p)return;const y=v=>{I3(v)&&(m(v),p.removeEventListener("pointerleave",y))};p.addEventListener("pointerleave",y,a)};return i.forEach(h=>{h.addEventListener("pointerenter",c,a)}),o}const Qj=(n,t)=>t?n===t?!0:Qj(n,t.parentElement):!1,iw=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,gk=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xk(n){return gk.has(n.tagName)||n.tabIndex!==-1}const vg=new WeakSet;function F3(n){return t=>{t.key==="Enter"&&n(t)}}function qM(n,t){n.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yk=(n,t)=>{const e=n.currentTarget;if(!e)return;const i=F3(()=>{if(vg.has(e))return;qM(e,"down");const a=F3(()=>{qM(e,"up")}),o=()=>qM(e,"cancel");e.addEventListener("keyup",a,t),e.addEventListener("blur",o,t)});e.addEventListener("keydown",i,t),e.addEventListener("blur",()=>e.removeEventListener("keydown",i),t)};function V3(n){return iw(n)&&!Zj()}function vk(n,t,e={}){const[i,a,o]=Kj(n,e),c=h=>{const p=h.currentTarget;if(!V3(h)||vg.has(p))return;vg.add(p);const m=t(p,h),y=(M,E)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",b),!(!V3(M)||!vg.has(p))&&(vg.delete(p),typeof m=="function"&&m(M,{success:E}))},v=M=>{y(M,p===window||p===document||e.useGlobalTarget||Qj(p,M.target))},b=M=>{y(M,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",b,a)};return i.forEach(h=>{(e.useGlobalTarget?window:h).addEventListener("pointerdown",c,a),h instanceof HTMLElement&&(h.addEventListener("focus",m=>yk(m,a)),!xk(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),o}const H3=30,bk=n=>!isNaN(parseFloat(n));class _k{constructor(t,e={}){this.version="12.6.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{const o=Ll.now();this.updatedAt!==o&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),a&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=Ll.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=bk(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new QE);const i=this.events[t].add(e);return t==="change"?()=>{i(),ri.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,i){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-i}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Ll.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>H3)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,H3);return Gj(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function rx(n,t){return new _k(n,t)}const Jj=vt.createContext({strict:!1}),k3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},im={};for(const n in k3)im[n]={isEnabled:t=>k3[n].some(e=>!!t[e])};function Sk(n){for(const t in n)im[t]={...im[t],...n[t]}}const Mk=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Zb(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||Mk.has(n)}let $j=n=>!Zb(n);function Tk(n){n&&($j=t=>t.startsWith("on")?!Zb(t):n(t))}try{Tk(require("@emotion/is-prop-valid").default)}catch{}function Ek(n,t,e){const i={};for(const a in n)a==="values"&&typeof n.values=="object"||($j(a)||e===!0&&Zb(a)||!t&&!Zb(a)||n.draggable&&a.startsWith("onDrag"))&&(i[a]=n[a]);return i}function wk(n){if(typeof Proxy>"u")return n;const t=new Map,e=(...i)=>n(...i);return new Proxy(e,{get:(i,a)=>a==="create"?n:(t.has(a)||t.set(a,n(a)),t.get(a))})}const G_=vt.createContext({});function X_(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}function sx(n){return typeof n=="string"||Array.isArray(n)}const aw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rw=["initial",...aw];function q_(n){return X_(n.animate)||rw.some(t=>sx(n[t]))}function tL(n){return!!(q_(n)||n.variants)}function Ak(n,t){if(q_(n)){const{initial:e,animate:i}=n;return{initial:e===!1||sx(e)?e:void 0,animate:sx(i)?i:void 0}}return n.inherit!==!1?t:{}}function Ck(n){const{initial:t,animate:e}=Ak(n,vt.useContext(G_));return vt.useMemo(()=>({initial:t,animate:e}),[G3(t),G3(e)])}function G3(n){return Array.isArray(n)?n.join(" "):n}const Rk=Symbol.for("motionComponentSymbol");function zp(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function Dk(n,t,e){return vt.useCallback(i=>{i&&n.onMount&&n.onMount(i),t&&(i?t.mount(i):t.unmount()),e&&(typeof e=="function"?e(i):zp(e)&&(e.current=i))},[t])}const sw=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Uk="framerAppearId",eL="data-"+sw(Uk),nL=vt.createContext({});function jk(n,t,e,i,a){var R,C;const{visualElement:o}=vt.useContext(G_),c=vt.useContext(Jj),h=vt.useContext(k_),p=vt.useContext(YE).reducedMotion,m=vt.useRef(null);i=i||c.renderer,!m.current&&i&&(m.current=i(n,{visualState:t,parent:o,props:e,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:p}));const y=m.current,v=vt.useContext(nL);y&&!y.projection&&a&&(y.type==="html"||y.type==="svg")&&Lk(m.current,e,a,v);const b=vt.useRef(!1);vt.useInsertionEffect(()=>{y&&b.current&&y.update(e,h)});const M=e[eL],E=vt.useRef(!!M&&!((R=window.MotionHandoffIsComplete)!=null&&R.call(window,M))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,M)));return Vj(()=>{y&&(b.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),nw.render(y.render),E.current&&y.animationState&&y.animationState.animateChanges())}),vt.useEffect(()=>{y&&(!E.current&&y.animationState&&y.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var T;(T=window.MotionHandoffMarkAsComplete)==null||T.call(window,M)}),E.current=!1))}),y}function Lk(n,t,e,i){const{layoutId:a,layout:o,drag:c,dragConstraints:h,layoutScroll:p,layoutRoot:m}=t;n.projection=new e(n.latestValues,t["data-framer-portal-id"]?void 0:iL(n.parent)),n.projection.setOptions({layoutId:a,layout:o,alwaysMeasureLayout:!!c||h&&zp(h),visualElement:n,animationType:typeof o=="string"?o:"both",initialPromotionConfig:i,layoutScroll:p,layoutRoot:m})}function iL(n){if(n)return n.options.allowProjection!==!1?n.projection:iL(n.parent)}function Nk({preloadedFeatures:n,createVisualElement:t,useRender:e,useVisualState:i,Component:a}){n&&Sk(n);function o(h,p){let m;const y={...vt.useContext(YE),...h,layoutId:Ok(h)},{isStatic:v}=y,b=Ck(h),M=i(h,v);if(!v&&qE){zk();const E=Pk(y);m=E.MeasureLayout,b.visualElement=jk(a,M,y,t,E.ProjectionNode)}return d.jsxs(G_.Provider,{value:b,children:[m&&b.visualElement?d.jsx(m,{visualElement:b.visualElement,...y}):null,e(a,h,Dk(M,b.visualElement,p),M,v,b.visualElement)]})}o.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const c=vt.forwardRef(o);return c[Rk]=a,c}function Ok({layoutId:n}){const t=vt.useContext(GE).id;return t&&n!==void 0?t+"-"+n:n}function zk(n,t){vt.useContext(Jj).strict}function Pk(n){const{drag:t,layout:e}=im;if(!t&&!e)return{};const i={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(n)||e!=null&&e.isEnabled(n)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const aL=n=>t=>typeof t=="string"&&t.startsWith(n),ow=aL("--"),Bk=aL("var(--"),lw=n=>Bk(n)?Ik.test(n.split("/*")[0].trim()):!1,Ik=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ox={};function Fk(n){for(const t in n)ox[t]=n[t],ow(t)&&(ox[t].isCSSVariable=!0)}const fm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xh=new Set(fm);function rL(n,{layout:t,layoutId:e}){return Xh.has(n)||n.startsWith("origin")||(t||e!==void 0)&&(!!ox[n]||n==="opacity")}const tr=n=>!!(n&&n.getVelocity),sL=(n,t)=>t&&typeof n=="number"?t.transform(n):n,Dc=(n,t,e)=>e>t?t:e<n?n:e,pm={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},lx={...pm,transform:n=>Dc(0,1,n)},$v={...pm,default:1},Tx=n=>({test:t=>typeof t=="string"&&t.endsWith(n)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${n}`}),Hu=Tx("deg"),Nl=Tx("%"),ze=Tx("px"),Vk=Tx("vh"),Hk=Tx("vw"),X3={...Nl,parse:n=>Nl.parse(n)/100,transform:n=>Nl.transform(n*100)},kk={borderWidth:ze,borderTopWidth:ze,borderRightWidth:ze,borderBottomWidth:ze,borderLeftWidth:ze,borderRadius:ze,radius:ze,borderTopLeftRadius:ze,borderTopRightRadius:ze,borderBottomRightRadius:ze,borderBottomLeftRadius:ze,width:ze,maxWidth:ze,height:ze,maxHeight:ze,top:ze,right:ze,bottom:ze,left:ze,padding:ze,paddingTop:ze,paddingRight:ze,paddingBottom:ze,paddingLeft:ze,margin:ze,marginTop:ze,marginRight:ze,marginBottom:ze,marginLeft:ze,backgroundPositionX:ze,backgroundPositionY:ze},Gk={rotate:Hu,rotateX:Hu,rotateY:Hu,rotateZ:Hu,scale:$v,scaleX:$v,scaleY:$v,scaleZ:$v,skew:Hu,skewX:Hu,skewY:Hu,distance:ze,translateX:ze,translateY:ze,translateZ:ze,x:ze,y:ze,z:ze,perspective:ze,transformPerspective:ze,opacity:lx,originX:X3,originY:X3,originZ:ze},q3={...pm,transform:Math.round},cw={...kk,...Gk,zIndex:q3,size:ze,fillOpacity:lx,strokeOpacity:lx,numOctaves:q3},Xk={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},qk=fm.length;function Yk(n,t,e){let i="",a=!0;for(let o=0;o<qk;o++){const c=fm[o],h=n[c];if(h===void 0)continue;let p=!0;if(typeof h=="number"?p=h===(c.startsWith("scale")?1:0):p=parseFloat(h)===0,!p||e){const m=sL(h,cw[c]);if(!p){a=!1;const y=Xk[c]||c;i+=`${y}(${m}) `}e&&(t[c]=m)}}return i=i.trim(),e?i=e(t,a?"":i):a&&(i="none"),i}function uw(n,t,e){const{style:i,vars:a,transformOrigin:o}=n;let c=!1,h=!1;for(const p in t){const m=t[p];if(Xh.has(p)){c=!0;continue}else if(ow(p)){a[p]=m;continue}else{const y=sL(m,cw[p]);p.startsWith("origin")?(h=!0,o[p]=y):i[p]=y}}if(t.transform||(c||e?i.transform=Yk(t,n.transform,e):i.transform&&(i.transform="none")),h){const{originX:p="50%",originY:m="50%",originZ:y=0}=o;i.transformOrigin=`${p} ${m} ${y}`}}const dw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oL(n,t,e){for(const i in t)!tr(t[i])&&!rL(i,e)&&(n[i]=t[i])}function Wk({transformTemplate:n},t){return vt.useMemo(()=>{const e=dw();return uw(e,t,n),Object.assign({},e.vars,e.style)},[t])}function Zk(n,t){const e=n.style||{},i={};return oL(i,e,n),Object.assign(i,Wk(n,t)),i}function Kk(n,t){const e={},i=Zk(n,t);return n.drag&&n.dragListener!==!1&&(e.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(e.tabIndex=0),e.style=i,e}const Qk=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hw(n){return typeof n!="string"||n.includes("-")?!1:!!(Qk.indexOf(n)>-1||/[A-Z]/u.test(n))}const Jk={offset:"stroke-dashoffset",array:"stroke-dasharray"},$k={offset:"strokeDashoffset",array:"strokeDasharray"};function tG(n,t,e=1,i=0,a=!0){n.pathLength=1;const o=a?Jk:$k;n[o.offset]=ze.transform(-i);const c=ze.transform(t),h=ze.transform(e);n[o.array]=`${c} ${h}`}function Y3(n,t,e){return typeof n=="string"?n:ze.transform(t+e*n)}function eG(n,t,e){const i=Y3(t,n.x,n.width),a=Y3(e,n.y,n.height);return`${i} ${a}`}function fw(n,{attrX:t,attrY:e,attrScale:i,originX:a,originY:o,pathLength:c,pathSpacing:h=1,pathOffset:p=0,...m},y,v){if(uw(n,m,v),y){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:b,style:M,dimensions:E}=n;b.transform&&(E&&(M.transform=b.transform),delete b.transform),E&&(a!==void 0||o!==void 0||M.transform)&&(M.transformOrigin=eG(E,a!==void 0?a:.5,o!==void 0?o:.5)),t!==void 0&&(b.x=t),e!==void 0&&(b.y=e),i!==void 0&&(b.scale=i),c!==void 0&&tG(b,c,h,p,!1)}const lL=()=>({...dw(),attrs:{}}),pw=n=>typeof n=="string"&&n.toLowerCase()==="svg";function nG(n,t,e,i){const a=vt.useMemo(()=>{const o=lL();return fw(o,t,pw(i),n.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(n.style){const o={};oL(o,n.style,n),a.style={...o,...a.style}}return a}function iG(n=!1){return(e,i,a,{latestValues:o},c)=>{const p=(hw(e)?nG:Kk)(i,o,c,e),m=Ek(i,typeof e=="string",n),y=e!==vt.Fragment?{...m,...p,ref:a}:{},{children:v}=i,b=vt.useMemo(()=>tr(v)?v.get():v,[v]);return vt.createElement(e,{...y,children:b})}}function W3(n){const t=[{},{}];return n==null||n.values.forEach((e,i)=>{t[0][i]=e.get(),t[1][i]=e.getVelocity()}),t}function mw(n,t,e,i){if(typeof t=="function"){const[a,o]=W3(i);t=t(e!==void 0?e:n.custom,a,o)}if(typeof t=="string"&&(t=n.variants&&n.variants[t]),typeof t=="function"){const[a,o]=W3(i);t=t(e!==void 0?e:n.custom,a,o)}return t}const RT=n=>Array.isArray(n),aG=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),rG=n=>RT(n)?n[n.length-1]||0:n;function J1(n){const t=tr(n)?n.get():n;return aG(t)?t.toValue():t}function sG({scrapeMotionValuesFromProps:n,createRenderState:t,onUpdate:e},i,a,o){const c={latestValues:oG(i,a,o,n),renderState:t()};return e&&(c.onMount=h=>e({props:i,current:h,...c}),c.onUpdate=h=>e(h)),c}const cL=n=>(t,e)=>{const i=vt.useContext(G_),a=vt.useContext(k_),o=()=>sG(n,t,i,a);return e?o():XE(o)};function oG(n,t,e,i){const a={},o=i(n,{});for(const b in o)a[b]=J1(o[b]);let{initial:c,animate:h}=n;const p=q_(n),m=tL(n);t&&m&&!p&&n.inherit!==!1&&(c===void 0&&(c=t.initial),h===void 0&&(h=t.animate));let y=e?e.initial===!1:!1;y=y||c===!1;const v=y?h:c;if(v&&typeof v!="boolean"&&!X_(v)){const b=Array.isArray(v)?v:[v];for(let M=0;M<b.length;M++){const E=mw(n,b[M]);if(E){const{transitionEnd:R,transition:C,...T}=E;for(const D in T){let j=T[D];if(Array.isArray(j)){const N=y?j.length-1:0;j=j[N]}j!==null&&(a[D]=j)}for(const D in R)a[D]=R[D]}}}return a}function gw(n,t,e){var o;const{style:i}=n,a={};for(const c in i)(tr(i[c])||t.style&&tr(t.style[c])||rL(c,n)||((o=e==null?void 0:e.getValue(c))==null?void 0:o.liveStyle)!==void 0)&&(a[c]=i[c]);return a}const lG={useVisualState:cL({scrapeMotionValuesFromProps:gw,createRenderState:dw})};function uL(n,t){try{t.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}function dL(n,{style:t,vars:e},i,a){Object.assign(n.style,t,a&&a.getProjectionStyles(i));for(const o in e)n.style.setProperty(o,e[o])}const hL=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fL(n,t,e,i){dL(n,t,void 0,i);for(const a in t.attrs)n.setAttribute(hL.has(a)?a:sw(a),t.attrs[a])}function pL(n,t,e){const i=gw(n,t,e);for(const a in n)if(tr(n[a])||tr(t[a])){const o=fm.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[o]=n[a]}return i}const Z3=["x","y","width","height","cx","cy","r"],cG={useVisualState:cL({scrapeMotionValuesFromProps:pL,createRenderState:lL,onUpdate:({props:n,prevProps:t,current:e,renderState:i,latestValues:a})=>{if(!e)return;let o=!!n.drag;if(!o){for(const h in a)if(Xh.has(h)){o=!0;break}}if(!o)return;let c=!t;if(t)for(let h=0;h<Z3.length;h++){const p=Z3[h];n[p]!==t[p]&&(c=!0)}c&&ri.read(()=>{uL(e,i),ri.render(()=>{fw(i,a,pw(e.tagName),n.transformTemplate),fL(e,i)})})}})};function uG(n,t){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const c={...hw(i)?cG:lG,preloadedFeatures:n,useRender:iG(a),createVisualElement:t,Component:i};return Nk(c)}}function cx(n,t,e){const i=n.getProps();return mw(i,t,e!==void 0?e:i.custom,n)}const mL=new Set(["width","height","top","left","right","bottom",...fm]);function dG(n,t,e){n.hasValue(t)?n.getValue(t).set(e):n.addValue(t,rx(e))}function hG(n,t){const e=cx(n,t);let{transitionEnd:i={},transition:a={},...o}=e||{};o={...o,...i};for(const c in o){const h=rG(o[c]);dG(n,c,h)}}function fG(n){return!!(tr(n)&&n.add)}function DT(n,t){const e=n.getValue("willChange");if(fG(e))return e.add(t)}function gL(n){return n.props[eL]}const xL=(n,t,e)=>(((1-3*e+3*t)*n+(3*e-6*t))*n+3*t)*n,pG=1e-7,mG=12;function gG(n,t,e,i,a){let o,c,h=0;do c=t+(e-t)/2,o=xL(c,i,a)-n,o>0?e=c:t=c;while(Math.abs(o)>pG&&++h<mG);return c}function Ex(n,t,e,i){if(n===t&&e===i)return Ws;const a=o=>gG(o,0,1,n,e);return o=>o===0||o===1?o:xL(a(o),t,i)}const yL=n=>t=>t<=.5?n(2*t)/2:(2-n(2*(1-t)))/2,vL=n=>t=>1-n(1-t),bL=Ex(.33,1.53,.69,.99),xw=vL(bL),_L=yL(xw),SL=n=>(n*=2)<1?.5*xw(n):.5*(2-Math.pow(2,-10*(n-1))),yw=n=>1-Math.sin(Math.acos(n)),ML=vL(yw),TL=yL(yw),EL=n=>/^0[^.\s]+$/u.test(n);function xG(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||EL(n):!0}const jg=n=>Math.round(n*1e5)/1e5,vw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function yG(n){return n==null}const vG=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,bw=(n,t)=>e=>!!(typeof e=="string"&&vG.test(e)&&e.startsWith(n)||t&&!yG(e)&&Object.prototype.hasOwnProperty.call(e,t)),wL=(n,t,e)=>i=>{if(typeof i!="string")return i;const[a,o,c,h]=i.match(vw);return{[n]:parseFloat(a),[t]:parseFloat(o),[e]:parseFloat(c),alpha:h!==void 0?parseFloat(h):1}},bG=n=>Dc(0,255,n),YM={...pm,transform:n=>Math.round(bG(n))},Ch={test:bw("rgb","red"),parse:wL("red","green","blue"),transform:({red:n,green:t,blue:e,alpha:i=1})=>"rgba("+YM.transform(n)+", "+YM.transform(t)+", "+YM.transform(e)+", "+jg(lx.transform(i))+")"};function _G(n){let t="",e="",i="",a="";return n.length>5?(t=n.substring(1,3),e=n.substring(3,5),i=n.substring(5,7),a=n.substring(7,9)):(t=n.substring(1,2),e=n.substring(2,3),i=n.substring(3,4),a=n.substring(4,5),t+=t,e+=e,i+=i,a+=a),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const UT={test:bw("#"),parse:_G,transform:Ch.transform},Pp={test:bw("hsl","hue"),parse:wL("hue","saturation","lightness"),transform:({hue:n,saturation:t,lightness:e,alpha:i=1})=>"hsla("+Math.round(n)+", "+Nl.transform(jg(t))+", "+Nl.transform(jg(e))+", "+jg(lx.transform(i))+")"},Ka={test:n=>Ch.test(n)||UT.test(n)||Pp.test(n),parse:n=>Ch.test(n)?Ch.parse(n):Pp.test(n)?Pp.parse(n):UT.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Ch.transform(n):Pp.transform(n)},SG=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function MG(n){var t,e;return isNaN(n)&&typeof n=="string"&&(((t=n.match(vw))==null?void 0:t.length)||0)+(((e=n.match(SG))==null?void 0:e.length)||0)>0}const AL="number",CL="color",TG="var",EG="var(",K3="${}",wG=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ux(n){const t=n.toString(),e=[],i={color:[],number:[],var:[]},a=[];let o=0;const h=t.replace(wG,p=>(Ka.test(p)?(i.color.push(o),a.push(CL),e.push(Ka.parse(p))):p.startsWith(EG)?(i.var.push(o),a.push(TG),e.push(p)):(i.number.push(o),a.push(AL),e.push(parseFloat(p))),++o,K3)).split(K3);return{values:e,split:h,indexes:i,types:a}}function RL(n){return ux(n).values}function DL(n){const{split:t,types:e}=ux(n),i=t.length;return a=>{let o="";for(let c=0;c<i;c++)if(o+=t[c],a[c]!==void 0){const h=e[c];h===AL?o+=jg(a[c]):h===CL?o+=Ka.transform(a[c]):o+=a[c]}return o}}const AG=n=>typeof n=="number"?0:n;function CG(n){const t=RL(n);return DL(n)(t.map(AG))}const Ju={test:MG,parse:RL,createTransformer:DL,getAnimatableNone:CG},RG=new Set(["brightness","contrast","saturate","opacity"]);function DG(n){const[t,e]=n.slice(0,-1).split("(");if(t==="drop-shadow")return n;const[i]=e.match(vw)||[];if(!i)return n;const a=e.replace(i,"");let o=RG.has(t)?1:0;return i!==e&&(o*=100),t+"("+o+a+")"}const UG=/\b([a-z-]*)\(.*?\)/gu,jT={...Ju,getAnimatableNone:n=>{const t=n.match(UG);return t?t.map(DG).join(" "):n}},jG={...cw,color:Ka,backgroundColor:Ka,outlineColor:Ka,fill:Ka,stroke:Ka,borderColor:Ka,borderTopColor:Ka,borderRightColor:Ka,borderBottomColor:Ka,borderLeftColor:Ka,filter:jT,WebkitFilter:jT},UL=n=>jG[n];function jL(n,t){let e=UL(n);return e!==jT&&(e=Ju),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const LG=new Set(["auto","none","0"]);function NG(n,t,e){let i=0,a;for(;i<n.length&&!a;){const o=n[i];typeof o=="string"&&!LG.has(o)&&ux(o).values.length&&(a=n[i]),i++}if(a&&e)for(const o of t)n[o]=jL(e,a)}const Rh=n=>n*180/Math.PI,LT=n=>{const t=Rh(Math.atan2(n[1],n[0]));return NT(t)},OG={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:n=>(Math.abs(n[0])+Math.abs(n[3]))/2,rotate:LT,rotateZ:LT,skewX:n=>Rh(Math.atan(n[1])),skewY:n=>Rh(Math.atan(n[2])),skew:n=>(Math.abs(n[1])+Math.abs(n[2]))/2},NT=n=>(n=n%360,n<0&&(n+=360),n),Q3=LT,J3=n=>Math.sqrt(n[0]*n[0]+n[1]*n[1]),$3=n=>Math.sqrt(n[4]*n[4]+n[5]*n[5]),zG={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:J3,scaleY:$3,scale:n=>(J3(n)+$3(n))/2,rotateX:n=>NT(Rh(Math.atan2(n[6],n[5]))),rotateY:n=>NT(Rh(Math.atan2(-n[2],n[0]))),rotateZ:Q3,rotate:Q3,skewX:n=>Rh(Math.atan(n[4])),skewY:n=>Rh(Math.atan(n[1])),skew:n=>(Math.abs(n[1])+Math.abs(n[4]))/2};function tR(n){return n.includes("scale")?1:0}function OT(n,t){if(!n||n==="none")return tR(t);const e=n.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(e)i=zG,a=e;else{const h=n.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=OG,a=h}if(!a)return tR(t);const o=i[t],c=a[1].split(",").map(BG);return typeof o=="function"?o(c):c[o]}const PG=(n,t)=>{const{transform:e="none"}=getComputedStyle(n);return OT(e,t)};function BG(n){return parseFloat(n.trim())}const eR=n=>n===pm||n===ze,IG=new Set(["x","y","z"]),FG=fm.filter(n=>!IG.has(n));function VG(n){const t=[];return FG.forEach(e=>{const i=n.getValue(e);i!==void 0&&(t.push([e,i.get()]),i.set(e.startsWith("scale")?1:0))}),t}const am={width:({x:n},{paddingLeft:t="0",paddingRight:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),height:({y:n},{paddingTop:t="0",paddingBottom:e="0"})=>n.max-n.min-parseFloat(t)-parseFloat(e),top:(n,{top:t})=>parseFloat(t),left:(n,{left:t})=>parseFloat(t),bottom:({y:n},{top:t})=>parseFloat(t)+(n.max-n.min),right:({x:n},{left:t})=>parseFloat(t)+(n.max-n.min),x:(n,{transform:t})=>OT(t,"x"),y:(n,{transform:t})=>OT(t,"y")};am.translateX=am.x;am.translateY=am.y;const Oh=new Set;let zT=!1,PT=!1;function LL(){if(PT){const n=Array.from(Oh).filter(i=>i.needsMeasurement),t=new Set(n.map(i=>i.element)),e=new Map;t.forEach(i=>{const a=VG(i);a.length&&(e.set(i,a),i.render())}),n.forEach(i=>i.measureInitialState()),t.forEach(i=>{i.render();const a=e.get(i);a&&a.forEach(([o,c])=>{var h;(h=i.getValue(o))==null||h.set(c)})}),n.forEach(i=>i.measureEndState()),n.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}PT=!1,zT=!1,Oh.forEach(n=>n.complete()),Oh.clear()}function NL(){Oh.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(PT=!0)})}function HG(){NL(),LL()}class _w{constructor(t,e,i,a,o,c=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=i,this.motionValue=a,this.element=o,this.isAsync=c}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Oh.add(this),zT||(zT=!0,ri.read(NL),ri.resolveKeyframes(LL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:i,motionValue:a}=this;for(let o=0;o<t.length;o++)if(t[o]===null)if(o===0){const c=a==null?void 0:a.get(),h=t[t.length-1];if(c!==void 0)t[0]=c;else if(i&&e){const p=i.readValue(e,h);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=h),a&&c===void 0&&a.set(t[0])}else t[o]=t[o-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Oh.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Oh.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const OL=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),kG=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function GG(n){const t=kG.exec(n);if(!t)return[,];const[,e,i,a]=t;return[`--${e??i}`,a]}function zL(n,t,e=1){const[i,a]=GG(n);if(!i)return;const o=window.getComputedStyle(t).getPropertyValue(i);if(o){const c=o.trim();return OL(c)?parseFloat(c):c}return lw(a)?zL(a,t,e+1):a}const PL=n=>t=>t.test(n),XG={test:n=>n==="auto",parse:n=>n},BL=[pm,ze,Nl,Hu,Hk,Vk,XG],nR=n=>BL.find(PL(n));class IL extends _w{constructor(t,e,i,a,o){super(t,e,i,a,o,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:i}=this;if(!e||!e.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let m=t[p];if(typeof m=="string"&&(m=m.trim(),lw(m))){const y=zL(m,e.current);y!==void 0&&(t[p]=y),p===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!mL.has(i)||t.length!==2)return;const[a,o]=t,c=nR(a),h=nR(o);if(c!==h)if(eR(c)&&eR(h))for(let p=0;p<t.length;p++){const m=t[p];typeof m=="string"&&(t[p]=parseFloat(m))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,i=[];for(let a=0;a<t.length;a++)xG(t[a])&&i.push(a);i.length&&NG(t,i,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:i}=this;if(!t||!t.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=am[i](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const a=e[e.length-1];a!==void 0&&t.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:t,name:e,unresolvedKeyframes:i}=this;if(!t||!t.current)return;const a=t.getValue(e);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,c=i[o];i[o]=am[e](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([p,m])=>{t.getValue(p).set(m)}),this.resolveNoneKeyframes()}}const iR=(n,t)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Ju.test(n)||n==="0")&&!n.startsWith("url("));function qG(n){const t=n[0];if(n.length===1)return!0;for(let e=0;e<n.length;e++)if(n[e]!==t)return!0}function YG(n,t,e,i){const a=n[0];if(a===null)return!1;if(t==="display"||t==="visibility")return!0;const o=n[n.length-1],c=iR(a,t),h=iR(o,t);return!c||!h?!1:qG(n)||(e==="spring"||$E(e))&&i}const WG=n=>n!==null;function Y_(n,{repeat:t,repeatType:e="loop"},i){const a=n.filter(WG),o=t&&e!=="loop"&&t%2===1?0:a.length-1;return!o||i===void 0?a[o]:i}const ZG=40;class FL{constructor({autoplay:t=!0,delay:e=0,type:i="keyframes",repeat:a=0,repeatDelay:o=0,repeatType:c="loop",...h}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Ll.now(),this.options={autoplay:t,delay:e,type:i,repeat:a,repeatDelay:o,repeatType:c,...h},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ZG?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&HG(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=Ll.now(),this.hasAttemptedResolve=!0;const{name:i,type:a,velocity:o,delay:c,onComplete:h,onUpdate:p,isGenerator:m}=this.options;if(!m&&!YG(t,i,a,o))if(c)this.options.duration=0;else{p&&p(Y_(t,this.options,e)),h&&h(),this.resolveFinishedPromise();return}const y=this.initPlayback(t,e);y!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...y},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Mi=(n,t,e)=>n+(t-n)*e;function WM(n,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?n+(t-n)*6*e:e<1/2?t:e<2/3?n+(t-n)*(2/3-e)*6:n}function KG({hue:n,saturation:t,lightness:e,alpha:i}){n/=360,t/=100,e/=100;let a=0,o=0,c=0;if(!t)a=o=c=e;else{const h=e<.5?e*(1+t):e+t-e*t,p=2*e-h;a=WM(p,h,n+1/3),o=WM(p,h,n),c=WM(p,h,n-1/3)}return{red:Math.round(a*255),green:Math.round(o*255),blue:Math.round(c*255),alpha:i}}function Kb(n,t){return e=>e>0?t:n}const ZM=(n,t,e)=>{const i=n*n,a=e*(t*t-i)+i;return a<0?0:Math.sqrt(a)},QG=[UT,Ch,Pp],JG=n=>QG.find(t=>t.test(n));function aR(n){const t=JG(n);if(!t)return!1;let e=t.parse(n);return t===Pp&&(e=KG(e)),e}const rR=(n,t)=>{const e=aR(n),i=aR(t);if(!e||!i)return Kb(n,t);const a={...e};return o=>(a.red=ZM(e.red,i.red,o),a.green=ZM(e.green,i.green,o),a.blue=ZM(e.blue,i.blue,o),a.alpha=Mi(e.alpha,i.alpha,o),Ch.transform(a))},$G=(n,t)=>e=>t(n(e)),wx=(...n)=>n.reduce($G),BT=new Set(["none","hidden"]);function t9(n,t){return BT.has(n)?e=>e<=0?n:t:e=>e>=1?t:n}function e9(n,t){return e=>Mi(n,t,e)}function Sw(n){return typeof n=="number"?e9:typeof n=="string"?lw(n)?Kb:Ka.test(n)?rR:a9:Array.isArray(n)?VL:typeof n=="object"?Ka.test(n)?rR:n9:Kb}function VL(n,t){const e=[...n],i=e.length,a=n.map((o,c)=>Sw(o)(o,t[c]));return o=>{for(let c=0;c<i;c++)e[c]=a[c](o);return e}}function n9(n,t){const e={...n,...t},i={};for(const a in e)n[a]!==void 0&&t[a]!==void 0&&(i[a]=Sw(n[a])(n[a],t[a]));return a=>{for(const o in i)e[o]=i[o](a);return e}}function i9(n,t){const e=[],i={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const o=t.types[a],c=n.indexes[o][i[o]],h=n.values[c]??0;e[a]=h,i[o]++}return e}const a9=(n,t)=>{const e=Ju.createTransformer(t),i=ux(n),a=ux(t);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?BT.has(n)&&!a.values.length||BT.has(t)&&!i.values.length?t9(n,t):wx(VL(i9(i,a),a.values),e):Kb(n,t)};function HL(n,t,e){return typeof n=="number"&&typeof t=="number"&&typeof e=="number"?Mi(n,t,e):Sw(n)(n,t)}const r9=5;function kL(n,t,e){const i=Math.max(t-r9,0);return Gj(e-n(i),t-i)}const ji={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},sR=.001;function s9({duration:n=ji.duration,bounce:t=ji.bounce,velocity:e=ji.velocity,mass:i=ji.mass}){let a,o,c=1-t;c=Dc(ji.minDamping,ji.maxDamping,c),n=Dc(ji.minDuration,ji.maxDuration,jl(n)),c<1?(a=m=>{const y=m*c,v=y*n,b=y-e,M=IT(m,c),E=Math.exp(-v);return sR-b/M*E},o=m=>{const v=m*c*n,b=v*e+e,M=Math.pow(c,2)*Math.pow(m,2)*n,E=Math.exp(-v),R=IT(Math.pow(m,2),c);return(-a(m)+sR>0?-1:1)*((b-M)*E)/R}):(a=m=>{const y=Math.exp(-m*n),v=(m-e)*n+1;return-.001+y*v},o=m=>{const y=Math.exp(-m*n),v=(e-m)*(n*n);return y*v});const h=5/n,p=l9(a,o,h);if(n=Ul(n),isNaN(p))return{stiffness:ji.stiffness,damping:ji.damping,duration:n};{const m=Math.pow(p,2)*i;return{stiffness:m,damping:c*2*Math.sqrt(i*m),duration:n}}}const o9=12;function l9(n,t,e){let i=e;for(let a=1;a<o9;a++)i=i-n(i)/t(i);return i}function IT(n,t){return n*Math.sqrt(1-t*t)}const c9=["duration","bounce"],u9=["stiffness","damping","mass"];function oR(n,t){return t.some(e=>n[e]!==void 0)}function d9(n){let t={velocity:ji.velocity,stiffness:ji.stiffness,damping:ji.damping,mass:ji.mass,isResolvedFromDuration:!1,...n};if(!oR(n,u9)&&oR(n,c9))if(n.visualDuration){const e=n.visualDuration,i=2*Math.PI/(e*1.2),a=i*i,o=2*Dc(.05,1,1-(n.bounce||0))*Math.sqrt(a);t={...t,mass:ji.mass,stiffness:a,damping:o}}else{const e=s9(n);t={...t,...e,mass:ji.mass},t.isResolvedFromDuration=!0}return t}function Qb(n=ji.visualDuration,t=ji.bounce){const e=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:t}:n;let{restSpeed:i,restDelta:a}=e;const o=e.keyframes[0],c=e.keyframes[e.keyframes.length-1],h={done:!1,value:o},{stiffness:p,damping:m,mass:y,duration:v,velocity:b,isResolvedFromDuration:M}=d9({...e,velocity:-jl(e.velocity||0)}),E=b||0,R=m/(2*Math.sqrt(p*y)),C=c-o,T=jl(Math.sqrt(p/y)),D=Math.abs(C)<5;i||(i=D?ji.restSpeed.granular:ji.restSpeed.default),a||(a=D?ji.restDelta.granular:ji.restDelta.default);let j;if(R<1){const B=IT(T,R);j=P=>{const H=Math.exp(-R*T*P);return c-H*((E+R*T*C)/B*Math.sin(B*P)+C*Math.cos(B*P))}}else if(R===1)j=B=>c-Math.exp(-T*B)*(C+(E+T*C)*B);else{const B=T*Math.sqrt(R*R-1);j=P=>{const H=Math.exp(-R*T*P),k=Math.min(B*P,300);return c-H*((E+R*T*C)*Math.sinh(k)+B*C*Math.cosh(k))/B}}const N={calculatedDuration:M&&v||null,next:B=>{const P=j(B);if(M)h.done=B>=v;else{let H=0;R<1&&(H=B===0?Ul(E):kL(j,B,P));const k=Math.abs(H)<=i,I=Math.abs(c-P)<=a;h.done=k&&I}return h.value=h.done?c:P,h},toString:()=>{const B=Math.min(ew(N),Wb),P=Xj(H=>N.next(B*H).value,B,30);return B+"ms "+P},toTransition:()=>{}};return N}Qb.applyToOptions=n=>{const t=ck(n,100,Qb);return n.ease=ax()?t.ease:"easeOut",n.duration=Ul(t.duration),n.type="keyframes",n};function lR({keyframes:n,velocity:t=0,power:e=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:o=500,modifyTarget:c,min:h,max:p,restDelta:m=.5,restSpeed:y}){const v=n[0],b={done:!1,value:v},M=k=>h!==void 0&&k<h||p!==void 0&&k>p,E=k=>h===void 0?p:p===void 0||Math.abs(h-k)<Math.abs(p-k)?h:p;let R=e*t;const C=v+R,T=c===void 0?C:c(C);T!==C&&(R=T-v);const D=k=>-R*Math.exp(-k/i),j=k=>T+D(k),N=k=>{const I=D(k),z=j(k);b.done=Math.abs(I)<=m,b.value=b.done?T:z};let B,P;const H=k=>{M(b.value)&&(B=k,P=Qb({keyframes:[b.value,E(b.value)],velocity:kL(j,k,b.value),damping:a,stiffness:o,restDelta:m,restSpeed:y}))};return H(0),{calculatedDuration:null,next:k=>{let I=!1;return!P&&B===void 0&&(I=!0,N(k),H(k)),B!==void 0&&k>=B?P.next(k-B):(!I&&N(k),b)}}}const h9=Ex(.42,0,1,1),f9=Ex(0,0,.58,1),GL=Ex(.42,0,.58,1),p9=n=>Array.isArray(n)&&typeof n[0]!="number",m9={linear:Ws,easeIn:h9,easeInOut:GL,easeOut:f9,circIn:yw,circInOut:TL,circOut:ML,backIn:xw,backInOut:_L,backOut:bL,anticipate:SL},cR=n=>{if(JE(n)){kj(n.length===4);const[t,e,i,a]=n;return Ex(t,e,i,a)}else if(typeof n=="string")return m9[n];return n};function g9(n,t,e){const i=[],a=e||HL,o=n.length-1;for(let c=0;c<o;c++){let h=a(n[c],n[c+1]);if(t){const p=Array.isArray(t)?t[c]||Ws:t;h=wx(p,h)}i.push(h)}return i}function x9(n,t,{clamp:e=!0,ease:i,mixer:a}={}){const o=n.length;if(kj(o===t.length),o===1)return()=>t[0];if(o===2&&t[0]===t[1])return()=>t[1];const c=n[0]===n[1];n[0]>n[o-1]&&(n=[...n].reverse(),t=[...t].reverse());const h=g9(t,i,a),p=h.length,m=y=>{if(c&&y<n[0])return t[0];let v=0;if(p>1)for(;v<n.length-2&&!(y<n[v+1]);v++);const b=ix(n[v],n[v+1],y);return h[v](b)};return e?y=>m(Dc(n[0],n[o-1],y)):m}function y9(n,t){const e=n[n.length-1];for(let i=1;i<=t;i++){const a=ix(0,t,i);n.push(Mi(e,1,a))}}function v9(n){const t=[0];return y9(t,n.length-1),t}function b9(n,t){return n.map(e=>e*t)}function _9(n,t){return n.map(()=>t||GL).splice(0,n.length-1)}function Jb({duration:n=300,keyframes:t,times:e,ease:i="easeInOut"}){const a=p9(i)?i.map(cR):cR(i),o={done:!1,value:t[0]},c=b9(e&&e.length===t.length?e:v9(t),n),h=x9(c,t,{ease:Array.isArray(a)?a:_9(t,a)});return{calculatedDuration:n,next:p=>(o.value=h(p),o.done=p>=n,o)}}const S9=n=>{const t=({timestamp:e})=>n(e);return{start:()=>ri.update(t,!0),stop:()=>Qu(t),now:()=>Oa.isProcessing?Oa.timestamp:Ll.now()}},M9={decay:lR,inertia:lR,tween:Jb,keyframes:Jb,spring:Qb},T9=n=>n/100;class Mw extends FL{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:e,motionValue:i,element:a,keyframes:o}=this.options,c=(a==null?void 0:a.KeyframeResolver)||_w,h=(p,m)=>this.onKeyframesResolved(p,m);this.resolver=new c(o,h,e,i,a),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o,velocity:c=0}=this.options,h=$E(e)?e:M9[e]||Jb;let p,m;h!==Jb&&typeof t[0]!="number"&&(p=wx(T9,HL(t[0],t[1])),t=[0,100]);const y=h({...this.options,keyframes:t});o==="mirror"&&(m=h({...this.options,keyframes:[...t].reverse(),velocity:-c})),y.calculatedDuration===null&&(y.calculatedDuration=ew(y));const{calculatedDuration:v}=y,b=v+a,M=b*(i+1)-a;return{generator:y,mirroredGenerator:m,mapPercentToKeyframes:p,calculatedDuration:v,resolvedDuration:b,totalDuration:M}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:i}=this;if(!i){const{keyframes:k}=this.options;return{done:!0,value:k[k.length-1]}}const{finalKeyframe:a,generator:o,mirroredGenerator:c,mapPercentToKeyframes:h,keyframes:p,calculatedDuration:m,totalDuration:y,resolvedDuration:v}=i;if(this.startTime===null)return o.next(0);const{delay:b,repeat:M,repeatType:E,repeatDelay:R,onUpdate:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-y/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const T=this.currentTime-b*(this.speed>=0?1:-1),D=this.speed>=0?T<0:T>y;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=y);let j=this.currentTime,N=o;if(M){const k=Math.min(this.currentTime,y)/v;let I=Math.floor(k),z=k%1;!z&&k>=1&&(z=1),z===1&&I--,I=Math.min(I,M+1),!!(I%2)&&(E==="reverse"?(z=1-z,R&&(z-=R/v)):E==="mirror"&&(N=c)),j=Dc(0,1,z)*v}const B=D?{done:!1,value:p[0]}:N.next(j);h&&(B.value=h(B.value));let{done:P}=B;!D&&m!==null&&(P=this.speed>=0?this.currentTime>=y:this.currentTime<=0);const H=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return H&&a!==void 0&&(B.value=Y_(p,this.options,a)),C&&C(B.value),H&&this.finish(),B}get duration(){const{resolved:t}=this;return t?jl(t.calculatedDuration):0}get time(){return jl(this.currentTime)}set time(t){t=Ul(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=jl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=S9,onPlay:e,startTime:i}=this.options;this.driver||(this.driver=t(o=>this.tick(o))),e&&e();const a=this.driver.now();this.holdTime!==null?this.startTime=a-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=a):this.startTime=i??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=this.currentTime??0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}get finished(){return this.currentFinishedPromise}}const E9=new Set(["opacity","clipPath","filter","transform"]),w9=KE(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),$b=10,A9=2e4;function C9(n){return $E(n.type)||n.type==="spring"||!Yj(n.ease)}function R9(n,t){const e=new Mw({...t,keyframes:n,repeat:0,delay:0,isGenerator:!0});let i={done:!1,value:n[0]};const a=[];let o=0;for(;!i.done&&o<A9;)i=e.sample(o),a.push(i.value),o+=$b;return{times:void 0,keyframes:a,duration:o-$b,ease:"linear"}}const XL={anticipate:SL,backInOut:_L,circInOut:TL};function D9(n){return n in XL}class uR extends FL{constructor(t){super(t);const{name:e,motionValue:i,element:a,keyframes:o}=this.options;this.resolver=new IL(o,(c,h)=>this.onKeyframesResolved(c,h),e,i,a),this.resolver.scheduleResolve()}initPlayback(t,e){let{duration:i=300,times:a,ease:o,type:c,motionValue:h,name:p,startTime:m}=this.options;if(!h.owner||!h.owner.current)return!1;if(typeof o=="string"&&ax()&&D9(o)&&(o=XL[o]),C9(this.options)){const{onComplete:v,onUpdate:b,motionValue:M,element:E,...R}=this.options,C=R9(t,R);t=C.keyframes,t.length===1&&(t[1]=t[0]),i=C.duration,a=C.times,o=C.ease,c="keyframes"}const y=lk(h.owner.current,p,t,{...this.options,duration:i,times:a,ease:o});return y.startTime=m??this.calcStartTime(),this.pendingTimeline?(B3(y,this.pendingTimeline),this.pendingTimeline=void 0):y.onfinish=()=>{const{onComplete:v}=this.options;h.set(Y_(t,this.options,e)),v&&v(),this.cancel(),this.resolveFinishedPromise()},{animation:y,duration:i,times:a,type:c,ease:o,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return jl(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return jl(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.currentTime=Ul(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}get finished(){return this.resolved.animation.finished}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:i}=e;i.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return Ws;const{animation:i}=e;B3(i,t)}return Ws}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:i,duration:a,type:o,ease:c,times:h}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:m,onUpdate:y,onComplete:v,element:b,...M}=this.options,E=new Mw({...M,keyframes:i,duration:a,type:o,ease:c,times:h,isGenerator:!0}),R=Ul(this.time);m.setWithVelocity(E.sample(R-$b).value,E.sample(R).value,$b)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:i,repeatDelay:a,repeatType:o,damping:c,type:h}=t;if(!e||!e.owner||!(e.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:m}=e.owner.getProps();return w9()&&i&&E9.has(i)&&(i!=="transform"||!m)&&!p&&!a&&o!=="mirror"&&c!==0&&h!=="inertia"}}const U9={type:"spring",stiffness:500,damping:25,restSpeed:10},j9=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),L9={type:"keyframes",duration:.8},N9={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},O9=(n,{keyframes:t})=>t.length>2?L9:Xh.has(n)?n.startsWith("scale")?j9(t[1]):U9:N9;function z9({when:n,delay:t,delayChildren:e,staggerChildren:i,staggerDirection:a,repeat:o,repeatType:c,repeatDelay:h,from:p,elapsed:m,...y}){return!!Object.keys(y).length}const Tw=(n,t,e,i={},a,o)=>c=>{const h=tw(i,n)||{},p=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-Ul(p);let y={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...h,delay:-m,onUpdate:b=>{t.set(b),h.onUpdate&&h.onUpdate(b)},onComplete:()=>{c(),h.onComplete&&h.onComplete()},name:n,motionValue:t,element:o?void 0:a};z9(h)||(y={...y,...O9(n,y)}),y.duration&&(y.duration=Ul(y.duration)),y.repeatDelay&&(y.repeatDelay=Ul(y.repeatDelay)),y.from!==void 0&&(y.keyframes[0]=y.from);let v=!1;if((y.type===!1||y.duration===0&&!y.repeatDelay)&&(y.duration=0,y.delay===0&&(v=!0)),y.allowFlatten=!h.type&&!h.ease,v&&!o&&t.get()!==void 0){const b=Y_(y.keyframes,h);if(b!==void 0)return ri.update(()=>{y.onUpdate(b),y.onComplete()}),new rk([])}return!o&&uR.supports(y)?new uR(y):new Mw(y)};function P9({protectedKeys:n,needsAnimating:t},e){const i=n.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,i}function qL(n,t,{delay:e=0,transitionOverride:i,type:a}={}){let{transition:o=n.getDefaultTransition(),transitionEnd:c,...h}=t;i&&(o=i);const p=[],m=a&&n.animationState&&n.animationState.getState()[a];for(const y in h){const v=n.getValue(y,n.latestValues[y]??null),b=h[y];if(b===void 0||m&&P9(m,y))continue;const M={delay:e,...tw(o||{},y)};let E=!1;if(window.MotionHandoffAnimation){const C=gL(n);if(C){const T=window.MotionHandoffAnimation(C,y,ri);T!==null&&(M.startTime=T,E=!0)}}DT(n,y),v.start(Tw(y,v,b,n.shouldReduceMotion&&mL.has(y)?{type:!1}:M,n,E));const R=v.animation;R&&p.push(R)}return c&&Promise.all(p).then(()=>{ri.update(()=>{c&&hG(n,c)})}),p}function FT(n,t,e={}){var p;const i=cx(n,t,e.type==="exit"?(p=n.presenceContext)==null?void 0:p.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=i||{};e.transitionOverride&&(a=e.transitionOverride);const o=i?()=>Promise.all(qL(n,i,e)):()=>Promise.resolve(),c=n.variantChildren&&n.variantChildren.size?(m=0)=>{const{delayChildren:y=0,staggerChildren:v,staggerDirection:b}=a;return B9(n,t,y+m,v,b,e)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,y]=h==="beforeChildren"?[o,c]:[c,o];return m().then(()=>y())}else return Promise.all([o(),c(e.delay)])}function B9(n,t,e=0,i=0,a=1,o){const c=[],h=(n.variantChildren.size-1)*i,p=a===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(n.variantChildren).sort(I9).forEach((m,y)=>{m.notify("AnimationStart",t),c.push(FT(m,t,{...o,delay:e+p(y)}).then(()=>m.notify("AnimationComplete",t)))}),Promise.all(c)}function I9(n,t){return n.sortNodePosition(t)}function F9(n,t,e={}){n.notify("AnimationStart",t);let i;if(Array.isArray(t)){const a=t.map(o=>FT(n,o,e));i=Promise.all(a)}else if(typeof t=="string")i=FT(n,t,e);else{const a=typeof t=="function"?cx(n,t,e.custom):t;i=Promise.all(qL(n,a,e))}return i.then(()=>{n.notify("AnimationComplete",t)})}function YL(n,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==n.length)return!1;for(let i=0;i<e;i++)if(t[i]!==n[i])return!1;return!0}const V9=rw.length;function WL(n){if(!n)return;if(!n.isControllingVariants){const e=n.parent?WL(n.parent)||{}:{};return n.props.initial!==void 0&&(e.initial=n.props.initial),e}const t={};for(let e=0;e<V9;e++){const i=rw[e],a=n.props[i];(sx(a)||a===!1)&&(t[i]=a)}return t}const H9=[...aw].reverse(),k9=aw.length;function G9(n){return t=>Promise.all(t.map(({animation:e,options:i})=>F9(n,e,i)))}function X9(n){let t=G9(n),e=dR(),i=!0;const a=p=>(m,y)=>{var b;const v=cx(n,y,p==="exit"?(b=n.presenceContext)==null?void 0:b.custom:void 0);if(v){const{transition:M,transitionEnd:E,...R}=v;m={...m,...R,...E}}return m};function o(p){t=p(n)}function c(p){const{props:m}=n,y=WL(n.parent)||{},v=[],b=new Set;let M={},E=1/0;for(let C=0;C<k9;C++){const T=H9[C],D=e[T],j=m[T]!==void 0?m[T]:y[T],N=sx(j),B=T===p?D.isActive:null;B===!1&&(E=C);let P=j===y[T]&&j!==m[T]&&N;if(P&&i&&n.manuallyAnimateOnMount&&(P=!1),D.protectedKeys={...M},!D.isActive&&B===null||!j&&!D.prevProp||X_(j)||typeof j=="boolean")continue;const H=q9(D.prevProp,j);let k=H||T===p&&D.isActive&&!P&&N||C>E&&N,I=!1;const z=Array.isArray(j)?j:[j];let K=z.reduce(a(T),{});B===!1&&(K={});const{prevResolvedValues:ft={}}=D,st={...ft,...K},xt=Z=>{k=!0,b.has(Z)&&(I=!0,b.delete(Z)),D.needsAnimating[Z]=!0;const Q=n.getValue(Z);Q&&(Q.liveStyle=!1)};for(const Z in st){const Q=K[Z],ut=ft[Z];if(M.hasOwnProperty(Z))continue;let q=!1;RT(Q)&&RT(ut)?q=!YL(Q,ut):q=Q!==ut,q?Q!=null?xt(Z):b.add(Z):Q!==void 0&&b.has(Z)?xt(Z):D.protectedKeys[Z]=!0}D.prevProp=j,D.prevResolvedValues=K,D.isActive&&(M={...M,...K}),i&&n.blockInitialAnimation&&(k=!1),k&&(!(P&&H)||I)&&v.push(...z.map(Z=>({animation:Z,options:{type:T}})))}if(b.size){const C={};if(typeof m.initial!="boolean"){const T=cx(n,Array.isArray(m.initial)?m.initial[0]:m.initial);T&&T.transition&&(C.transition=T.transition)}b.forEach(T=>{const D=n.getBaseTarget(T),j=n.getValue(T);j&&(j.liveStyle=!0),C[T]=D??null}),v.push({animation:C})}let R=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!n.manuallyAnimateOnMount&&(R=!1),i=!1,R?t(v):Promise.resolve()}function h(p,m){var v;if(e[p].isActive===m)return Promise.resolve();(v=n.variantChildren)==null||v.forEach(b=>{var M;return(M=b.animationState)==null?void 0:M.setActive(p,m)}),e[p].isActive=m;const y=c(p);for(const b in e)e[b].protectedKeys={};return y}return{animateChanges:c,setActive:h,setAnimateFunction:o,getState:()=>e,reset:()=>{e=dR(),i=!0}}}function q9(n,t){return typeof t=="string"?t!==n:Array.isArray(t)?!YL(t,n):!1}function uh(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function dR(){return{animate:uh(!0),whileInView:uh(),whileHover:uh(),whileTap:uh(),whileDrag:uh(),whileFocus:uh(),exit:uh()}}let id=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};class Y9 extends id{constructor(t){super(t),t.animationState||(t.animationState=X9(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();X_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let W9=0;class Z9 extends id{constructor(){super(...arguments),this.id=W9++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t);e&&!t&&a.then(()=>{e(this.id)})}mount(){const{register:t,onExitComplete:e}=this.node.presenceContext||{};e&&e(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const K9={animation:{Feature:Y9},exit:{Feature:Z9}};function dx(n,t,e,i={passive:!0}){return n.addEventListener(t,e,i),()=>n.removeEventListener(t,e)}function Ax(n){return{point:{x:n.pageX,y:n.pageY}}}const Q9=n=>t=>iw(t)&&n(t,Ax(t));function Lg(n,t,e,i){return dx(n,t,Q9(e),i)}function ZL({top:n,left:t,right:e,bottom:i}){return{x:{min:t,max:e},y:{min:n,max:i}}}function J9({x:n,y:t}){return{top:t.min,right:n.max,bottom:t.max,left:n.min}}function $9(n,t){if(!t)return n;const e=t({x:n.left,y:n.top}),i=t({x:n.right,y:n.bottom});return{top:e.y,left:e.x,bottom:i.y,right:i.x}}const KL=1e-4,tX=1-KL,eX=1+KL,QL=.01,nX=0-QL,iX=0+QL;function wr(n){return n.max-n.min}function aX(n,t,e){return Math.abs(n-t)<=e}function hR(n,t,e,i=.5){n.origin=i,n.originPoint=Mi(t.min,t.max,n.origin),n.scale=wr(e)/wr(t),n.translate=Mi(e.min,e.max,n.origin)-n.originPoint,(n.scale>=tX&&n.scale<=eX||isNaN(n.scale))&&(n.scale=1),(n.translate>=nX&&n.translate<=iX||isNaN(n.translate))&&(n.translate=0)}function Ng(n,t,e,i){hR(n.x,t.x,e.x,i?i.originX:void 0),hR(n.y,t.y,e.y,i?i.originY:void 0)}function fR(n,t,e){n.min=e.min+t.min,n.max=n.min+wr(t)}function rX(n,t,e){fR(n.x,t.x,e.x),fR(n.y,t.y,e.y)}function pR(n,t,e){n.min=t.min-e.min,n.max=n.min+wr(t)}function Og(n,t,e){pR(n.x,t.x,e.x),pR(n.y,t.y,e.y)}const mR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bp=()=>({x:mR(),y:mR()}),gR=()=>({min:0,max:0}),Fi=()=>({x:gR(),y:gR()});function qs(n){return[n("x"),n("y")]}function KM(n){return n===void 0||n===1}function VT({scale:n,scaleX:t,scaleY:e}){return!KM(n)||!KM(t)||!KM(e)}function Sh(n){return VT(n)||JL(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function JL(n){return xR(n.x)||xR(n.y)}function xR(n){return n&&n!=="0%"}function t_(n,t,e){const i=n-e,a=t*i;return e+a}function yR(n,t,e,i,a){return a!==void 0&&(n=t_(n,a,i)),t_(n,e,i)+t}function HT(n,t=0,e=1,i,a){n.min=yR(n.min,t,e,i,a),n.max=yR(n.max,t,e,i,a)}function $L(n,{x:t,y:e}){HT(n.x,t.translate,t.scale,t.originPoint),HT(n.y,e.translate,e.scale,e.originPoint)}const vR=.999999999999,bR=1.0000000000001;function sX(n,t,e,i=!1){const a=e.length;if(!a)return;t.x=t.y=1;let o,c;for(let h=0;h<a;h++){o=e[h],c=o.projectionDelta;const{visualElement:p}=o.options;p&&p.props.style&&p.props.style.display==="contents"||(i&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Fp(n,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,$L(n,c)),i&&Sh(o.latestValues)&&Fp(n,o.latestValues))}t.x<bR&&t.x>vR&&(t.x=1),t.y<bR&&t.y>vR&&(t.y=1)}function Ip(n,t){n.min=n.min+t,n.max=n.max+t}function _R(n,t,e,i,a=.5){const o=Mi(n.min,n.max,a);HT(n,t,e,o,i)}function Fp(n,t){_R(n.x,t.x,t.scaleX,t.scale,t.originX),_R(n.y,t.y,t.scaleY,t.scale,t.originY)}function tN(n,t){return ZL($9(n.getBoundingClientRect(),t))}function oX(n,t,e){const i=tN(n,e),{scroll:a}=t;return a&&(Ip(i.x,a.offset.x),Ip(i.y,a.offset.y)),i}const eN=({current:n})=>n?n.ownerDocument.defaultView:null,SR=(n,t)=>Math.abs(n-t);function lX(n,t){const e=SR(n.x,t.x),i=SR(n.y,t.y);return Math.sqrt(e**2+i**2)}class nN{constructor(t,e,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=JM(this.lastMoveEventInfo,this.history),b=this.startEvent!==null,M=lX(v.offset,{x:0,y:0})>=3;if(!b&&!M)return;const{point:E}=v,{timestamp:R}=Oa;this.history.push({...E,timestamp:R});const{onStart:C,onMove:T}=this.handlers;b||(C&&C(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,v)},this.handlePointerMove=(v,b)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=QM(b,this.transformPagePoint),ri.update(this.updatePoint,!0)},this.handlePointerUp=(v,b)=>{this.end();const{onEnd:M,onSessionEnd:E,resumeAnimation:R}=this.handlers;if(this.dragSnapToOrigin&&R&&R(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=JM(v.type==="pointercancel"?this.lastMoveEventInfo:QM(b,this.transformPagePoint),this.history);this.startEvent&&M&&M(v,C),E&&E(v,C)},!iw(t))return;this.dragSnapToOrigin=o,this.handlers=e,this.transformPagePoint=i,this.contextWindow=a||window;const c=Ax(t),h=QM(c,this.transformPagePoint),{point:p}=h,{timestamp:m}=Oa;this.history=[{...p,timestamp:m}];const{onSessionStart:y}=e;y&&y(t,JM(h,this.history)),this.removeListeners=wx(Lg(this.contextWindow,"pointermove",this.handlePointerMove),Lg(this.contextWindow,"pointerup",this.handlePointerUp),Lg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qu(this.updatePoint)}}function QM(n,t){return t?{point:t(n.point)}:n}function MR(n,t){return{x:n.x-t.x,y:n.y-t.y}}function JM({point:n},t){return{point:n,delta:MR(n,iN(t)),offset:MR(n,cX(t)),velocity:uX(t,.1)}}function cX(n){return n[0]}function iN(n){return n[n.length-1]}function uX(n,t){if(n.length<2)return{x:0,y:0};let e=n.length-1,i=null;const a=iN(n);for(;e>=0&&(i=n[e],!(a.timestamp-i.timestamp>Ul(t)));)e--;if(!i)return{x:0,y:0};const o=jl(a.timestamp-i.timestamp);if(o===0)return{x:0,y:0};const c={x:(a.x-i.x)/o,y:(a.y-i.y)/o};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function dX(n,{min:t,max:e},i){return t!==void 0&&n<t?n=i?Mi(t,n,i.min):Math.max(n,t):e!==void 0&&n>e&&(n=i?Mi(e,n,i.max):Math.min(n,e)),n}function TR(n,t,e){return{min:t!==void 0?n.min+t:void 0,max:e!==void 0?n.max+e-(n.max-n.min):void 0}}function hX(n,{top:t,left:e,bottom:i,right:a}){return{x:TR(n.x,e,a),y:TR(n.y,t,i)}}function ER(n,t){let e=t.min-n.min,i=t.max-n.max;return t.max-t.min<n.max-n.min&&([e,i]=[i,e]),{min:e,max:i}}function fX(n,t){return{x:ER(n.x,t.x),y:ER(n.y,t.y)}}function pX(n,t){let e=.5;const i=wr(n),a=wr(t);return a>i?e=ix(t.min,t.max-i,n.min):i>a&&(e=ix(n.min,n.max-a,t.min)),Dc(0,1,e)}function mX(n,t){const e={};return t.min!==void 0&&(e.min=t.min-n.min),t.max!==void 0&&(e.max=t.max-n.min),e}const kT=.35;function gX(n=kT){return n===!1?n=0:n===!0&&(n=kT),{x:wR(n,"left","right"),y:wR(n,"top","bottom")}}function wR(n,t,e){return{min:AR(n,t),max:AR(n,e)}}function AR(n,t){return typeof n=="number"?n:n[t]||0}const xX=new WeakMap;class yX{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Fi(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=y=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Ax(y).point)},o=(y,v)=>{const{drag:b,dragPropagation:M,onDragStart:E}=this.getProps();if(b&&!M&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fk(b),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qs(C=>{let T=this.getAxisMotionValue(C).get()||0;if(Nl.test(T)){const{projection:D}=this.visualElement;if(D&&D.layout){const j=D.layout.layoutBox[C];j&&(T=wr(j)*(parseFloat(T)/100))}}this.originPoint[C]=T}),E&&ri.postRender(()=>E(y,v)),DT(this.visualElement,"transform");const{animationState:R}=this.visualElement;R&&R.setActive("whileDrag",!0)},c=(y,v)=>{const{dragPropagation:b,dragDirectionLock:M,onDirectionLock:E,onDrag:R}=this.getProps();if(!b&&!this.openDragLock)return;const{offset:C}=v;if(M&&this.currentDirection===null){this.currentDirection=vX(C),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",v.point,C),this.updateAxis("y",v.point,C),this.visualElement.render(),R&&R(y,v)},h=(y,v)=>this.stop(y,v),p=()=>qs(y=>{var v;return this.getAnimationState(y)==="paused"&&((v=this.getAxisMotionValue(y).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new nN(t,{onSessionStart:a,onStart:o,onMove:c,onSessionEnd:h,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:eN(this.visualElement)})}stop(t,e){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=e;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ri.postRender(()=>o(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,i){const{drag:a}=this.getProps();if(!i||!t1(t,a,this.currentDirection))return;const o=this.getAxisMotionValue(t);let c=this.originPoint[t]+i[t];this.constraints&&this.constraints[t]&&(c=dX(c,this.constraints[t],this.elastic[t])),o.set(c)}resolveConstraints(){var o;const{dragConstraints:t,dragElastic:e}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(o=this.visualElement.projection)==null?void 0:o.layout,a=this.constraints;t&&zp(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&i?this.constraints=hX(i.layoutBox,t):this.constraints=!1,this.elastic=gX(e),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&qs(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=mX(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!zp(t))return!1;const i=t.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const o=oX(i,a.root,this.visualElement.getTransformPagePoint());let c=fX(a.layout.layoutBox,o);if(e){const h=e(J9(c));this.hasMutatedConstraints=!!h,h&&(c=ZL(h))}return c}startAnimation(t){const{drag:e,dragMomentum:i,dragElastic:a,dragTransition:o,dragSnapToOrigin:c,onDragTransitionEnd:h}=this.getProps(),p=this.constraints||{},m=qs(y=>{if(!t1(y,e,this.currentDirection))return;let v=p&&p[y]||{};c&&(v={min:0,max:0});const b=a?200:1e6,M=a?40:1e7,E={type:"inertia",velocity:i?t[y]:0,bounceStiffness:b,bounceDamping:M,timeConstant:750,restDelta:1,restSpeed:10,...o,...v};return this.startAxisValueAnimation(y,E)});return Promise.all(m).then(h)}startAxisValueAnimation(t,e){const i=this.getAxisMotionValue(t);return DT(this.visualElement,t),i.start(Tw(t,i,0,e,this.visualElement,!1))}stopAnimation(){qs(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){qs(t=>{var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)==null?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,i=this.visualElement.getProps(),a=i[e];return a||this.visualElement.getValue(t,(i.initial?i.initial[t]:void 0)||0)}snapToCursor(t){qs(e=>{const{drag:i}=this.getProps();if(!t1(e,i,this.currentDirection))return;const{projection:a}=this.visualElement,o=this.getAxisMotionValue(e);if(a&&a.layout){const{min:c,max:h}=a.layout.layoutBox[e];o.set(t[e]-Mi(c,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:i}=this.visualElement;if(!zp(e)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};qs(c=>{const h=this.getAxisMotionValue(c);if(h&&this.constraints!==!1){const p=h.get();a[c]=pX({min:p,max:p},this.constraints[c])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),qs(c=>{if(!t1(c,t,null))return;const h=this.getAxisMotionValue(c),{min:p,max:m}=this.constraints[c];h.set(Mi(p,m,a[c]))})}addListeners(){if(!this.visualElement.current)return;xX.set(this.visualElement,this);const t=this.visualElement.current,e=Lg(t,"pointerdown",p=>{const{drag:m,dragListener:y=!0}=this.getProps();m&&y&&this.start(p)}),i=()=>{const{dragConstraints:p}=this.getProps();zp(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,o=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ri.read(i);const c=dx(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m})=>{this.isDragging&&m&&(qs(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())});return()=>{c(),e(),o(),h&&h()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:o=!1,dragElastic:c=kT,dragMomentum:h=!0}=t;return{...t,drag:e,dragDirectionLock:i,dragPropagation:a,dragConstraints:o,dragElastic:c,dragMomentum:h}}}function t1(n,t,e){return(t===!0||t===n)&&(e===null||e===n)}function vX(n,t=10){let e=null;return Math.abs(n.y)>t?e="y":Math.abs(n.x)>t&&(e="x"),e}class bX extends id{constructor(t){super(t),this.removeGroupControls=Ws,this.removeListeners=Ws,this.controls=new yX(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ws}unmount(){this.removeGroupControls(),this.removeListeners()}}const CR=n=>(t,e)=>{n&&ri.postRender(()=>n(t,e))};class _X extends id{constructor(){super(...arguments),this.removePointerDownListener=Ws}onPointerDown(t){this.session=new nN(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eN(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:CR(t),onStart:CR(e),onMove:i,onEnd:(o,c)=>{delete this.session,a&&ri.postRender(()=>a(o,c))}}}mount(){this.removePointerDownListener=Lg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const $1={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function RR(n,t){return t.max===t.min?0:n/(t.max-t.min)*100}const k0={correct:(n,t)=>{if(!t.target)return n;if(typeof n=="string")if(ze.test(n))n=parseFloat(n);else return n;const e=RR(n,t.target.x),i=RR(n,t.target.y);return`${e}% ${i}%`}},SX={correct:(n,{treeScale:t,projectionDelta:e})=>{const i=n,a=Ju.parse(n);if(a.length>5)return i;const o=Ju.createTransformer(n),c=typeof a[0]!="number"?1:0,h=e.x.scale*t.x,p=e.y.scale*t.y;a[0+c]/=h,a[1+c]/=p;const m=Mi(h,p,.5);return typeof a[2+c]=="number"&&(a[2+c]/=m),typeof a[3+c]=="number"&&(a[3+c]/=m),o(a)}};class MX extends vt.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i,layoutId:a}=this.props,{projection:o}=t;Fk(TX),o&&(e.group&&e.group.add(o),i&&i.register&&a&&i.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),$1.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:i,drag:a,isPresent:o}=this.props,c=i.projection;return c&&(c.isPresent=o,a||t.layoutDependency!==e||e===void 0||t.isPresent!==o?c.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?c.promote():c.relegate()||ri.postRender(()=>{const h=c.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),nw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:i}=this.props,{projection:a}=t;a&&(a.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aN(n){const[t,e]=Hj(),i=vt.useContext(GE);return d.jsx(MX,{...n,layoutGroup:i,switchLayoutGroup:vt.useContext(nL),isPresent:t,safeToRemove:e})}const TX={borderRadius:{...k0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:k0,borderTopRightRadius:k0,borderBottomLeftRadius:k0,borderBottomRightRadius:k0,boxShadow:SX};function EX(n,t,e){const i=tr(n)?n:rx(n);return i.start(Tw("",i,t,e)),i.animation}function wX(n){return n instanceof SVGElement&&n.tagName!=="svg"}const AX=(n,t)=>n.depth-t.depth;class CX{constructor(){this.children=[],this.isDirty=!1}add(t){WE(this.children,t),this.isDirty=!0}remove(t){ZE(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(AX),this.isDirty=!1,this.children.forEach(t)}}function RX(n,t){const e=Ll.now(),i=({timestamp:a})=>{const o=a-e;o>=t&&(Qu(i),n(o-t))};return ri.read(i,!0),()=>Qu(i)}const rN=["TopLeft","TopRight","BottomLeft","BottomRight"],DX=rN.length,DR=n=>typeof n=="string"?parseFloat(n):n,UR=n=>typeof n=="number"||ze.test(n);function UX(n,t,e,i,a,o){a?(n.opacity=Mi(0,e.opacity!==void 0?e.opacity:1,jX(i)),n.opacityExit=Mi(t.opacity!==void 0?t.opacity:1,0,LX(i))):o&&(n.opacity=Mi(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,i));for(let c=0;c<DX;c++){const h=`border${rN[c]}Radius`;let p=jR(t,h),m=jR(e,h);if(p===void 0&&m===void 0)continue;p||(p=0),m||(m=0),p===0||m===0||UR(p)===UR(m)?(n[h]=Math.max(Mi(DR(p),DR(m),i),0),(Nl.test(m)||Nl.test(p))&&(n[h]+="%")):n[h]=m}(t.rotate||e.rotate)&&(n.rotate=Mi(t.rotate||0,e.rotate||0,i))}function jR(n,t){return n[t]!==void 0?n[t]:n.borderRadius}const jX=sN(0,.5,ML),LX=sN(.5,.95,Ws);function sN(n,t,e){return i=>i<n?0:i>t?1:e(ix(n,t,i))}function LR(n,t){n.min=t.min,n.max=t.max}function ks(n,t){LR(n.x,t.x),LR(n.y,t.y)}function NR(n,t){n.translate=t.translate,n.scale=t.scale,n.originPoint=t.originPoint,n.origin=t.origin}function OR(n,t,e,i,a){return n-=t,n=t_(n,1/e,i),a!==void 0&&(n=t_(n,1/a,i)),n}function NX(n,t=0,e=1,i=.5,a,o=n,c=n){if(Nl.test(t)&&(t=parseFloat(t),t=Mi(c.min,c.max,t/100)-c.min),typeof t!="number")return;let h=Mi(o.min,o.max,i);n===o&&(h-=t),n.min=OR(n.min,t,e,h,a),n.max=OR(n.max,t,e,h,a)}function zR(n,t,[e,i,a],o,c){NX(n,t[e],t[i],t[a],t.scale,o,c)}const OX=["x","scaleX","originX"],zX=["y","scaleY","originY"];function PR(n,t,e,i){zR(n.x,t,OX,e?e.x:void 0,i?i.x:void 0),zR(n.y,t,zX,e?e.y:void 0,i?i.y:void 0)}function BR(n){return n.translate===0&&n.scale===1}function oN(n){return BR(n.x)&&BR(n.y)}function IR(n,t){return n.min===t.min&&n.max===t.max}function PX(n,t){return IR(n.x,t.x)&&IR(n.y,t.y)}function FR(n,t){return Math.round(n.min)===Math.round(t.min)&&Math.round(n.max)===Math.round(t.max)}function lN(n,t){return FR(n.x,t.x)&&FR(n.y,t.y)}function VR(n){return wr(n.x)/wr(n.y)}function HR(n,t){return n.translate===t.translate&&n.scale===t.scale&&n.originPoint===t.originPoint}class BX{constructor(){this.members=[]}add(t){WE(this.members,t),t.scheduleRender()}remove(t){if(ZE(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(a=>t===a);if(e===0)return!1;let i;for(let a=e;a>=0;a--){const o=this.members[a];if(o.isPresent!==!1){i=o;break}}return i?(this.promote(i),!0):!1}promote(t,e){const i=this.lead;if(t!==i&&(this.prevLead=i,this.lead=t,t.show(),i)){i.instance&&i.scheduleRender(),t.scheduleRender(),t.resumeFrom=i,e&&(t.resumeFrom.preserveOpacity=!0),i.snapshot&&(t.snapshot=i.snapshot,t.snapshot.latestValues=i.animationValues||i.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:a}=t.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:i}=t;e.onExitComplete&&e.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function IX(n,t,e){let i="";const a=n.x.translate/t.x,o=n.y.translate/t.y,c=(e==null?void 0:e.z)||0;if((a||o||c)&&(i=`translate3d(${a}px, ${o}px, ${c}px) `),(t.x!==1||t.y!==1)&&(i+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:m,rotate:y,rotateX:v,rotateY:b,skewX:M,skewY:E}=e;m&&(i=`perspective(${m}px) ${i}`),y&&(i+=`rotate(${y}deg) `),v&&(i+=`rotateX(${v}deg) `),b&&(i+=`rotateY(${b}deg) `),M&&(i+=`skewX(${M}deg) `),E&&(i+=`skewY(${E}deg) `)}const h=n.x.scale*t.x,p=n.y.scale*t.y;return(h!==1||p!==1)&&(i+=`scale(${h}, ${p})`),i||"none"}const $M=["","X","Y","Z"],FX={visibility:"hidden"},kR=1e3;let VX=0;function t2(n,t,e,i){const{latestValues:a}=t;a[n]&&(e[n]=a[n],t.setStaticValue(n,0),i&&(i[n]=0))}function cN(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:t}=n.options;if(!t)return;const e=gL(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:a,layoutId:o}=n.options;window.MotionCancelOptimisedAnimation(e,"transform",ri,!(a||o))}const{parent:i}=n;i&&!i.hasCheckedOptimisedAppear&&cN(i)}function uN({attachResizeListener:n,defaultParent:t,measureScroll:e,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(c={},h=t==null?void 0:t()){this.id=VX++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(GX),this.nodes.forEach(ZX),this.nodes.forEach(KX),this.nodes.forEach(XX)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new CX)}addEventListener(c,h){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new QE),this.eventHandlers.get(c).add(h)}notifyListeners(c,...h){const p=this.eventHandlers.get(c);p&&p.notify(...h)}hasListeners(c){return this.eventHandlers.has(c)}mount(c,h=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=wX(c),this.instance=c;const{layoutId:p,layout:m,visualElement:y}=this.options;if(y&&!y.current&&y.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),h&&(m||p)&&(this.isLayoutDirty=!0),n){let v;const b=()=>this.root.updateBlockedByResize=!1;n(c,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=RX(b,250),$1.hasAnimatedSinceResize&&($1.hasAnimatedSinceResize=!1,this.nodes.forEach(XR))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&y&&(p||m)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:M,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const R=this.options.transition||y.getDefaultTransition()||eq,{onLayoutAnimationStart:C,onLayoutAnimationComplete:T}=y.getProps(),D=!this.targetLayout||!lN(this.targetLayout,E),j=!b&&M;if(this.options.layoutRoot||this.resumeFrom||j||b&&(D||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,j);const N={...tw(R,"layout"),onPlay:C,onComplete:T};(y.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else b||XR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(QX),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cN(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let y=0;y<this.path.length;y++){const v=this.path[y];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:p}=this.options;if(h===void 0&&!p)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GR);return}this.isUpdating||this.nodes.forEach(YX),this.isUpdating=!1,this.nodes.forEach(WX),this.nodes.forEach(HX),this.nodes.forEach(kX),this.clearAllSnapshots();const h=Ll.now();Oa.delta=Dc(0,1e3/60,h-Oa.timestamp),Oa.timestamp=h,Oa.isProcessing=!0,XM.update.process(Oa),XM.preRender.process(Oa),XM.render.process(Oa),Oa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,nw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qX),this.sharedNodes.forEach(JX)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ri.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ri.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!wr(this.snapshot.measuredBox.x)&&!wr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Fi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(h=!1),h){const p=i(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:p,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!a)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!oN(this.projectionDelta),p=this.getTransformTemplate(),m=p?p(this.latestValues,""):void 0,y=m!==this.prevTransformTemplateValue;c&&(h||Sh(this.latestValues)||y)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const h=this.measurePageBox();let p=this.removeElementScroll(h);return c&&(p=this.removeTransform(p)),nq(p),{animationId:this.root.animationId,measuredBox:h,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return Fi();const h=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(iq))){const{scroll:y}=this.root;y&&(Ip(h.x,y.offset.x),Ip(h.y,y.offset.y))}return h}removeElementScroll(c){var p;const h=Fi();if(ks(h,c),(p=this.scroll)!=null&&p.wasRoot)return h;for(let m=0;m<this.path.length;m++){const y=this.path[m],{scroll:v,options:b}=y;y!==this.root&&v&&b.layoutScroll&&(v.wasRoot&&ks(h,c),Ip(h.x,v.offset.x),Ip(h.y,v.offset.y))}return h}applyTransform(c,h=!1){const p=Fi();ks(p,c);for(let m=0;m<this.path.length;m++){const y=this.path[m];!h&&y.options.layoutScroll&&y.scroll&&y!==y.root&&Fp(p,{x:-y.scroll.offset.x,y:-y.scroll.offset.y}),Sh(y.latestValues)&&Fp(p,y.latestValues)}return Sh(this.latestValues)&&Fp(p,this.latestValues),p}removeTransform(c){const h=Fi();ks(h,c);for(let p=0;p<this.path.length;p++){const m=this.path[p];if(!m.instance||!Sh(m.latestValues))continue;VT(m.latestValues)&&m.updateSnapshot();const y=Fi(),v=m.measurePageBox();ks(y,v),PR(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,y)}return Sh(this.latestValues)&&PR(h,this.latestValues),h}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Oa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==h;if(!(c||p&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:y,layoutId:v}=this.options;if(!(!this.layout||!(y||v))){if(this.resolvedRelativeTargetAt=Oa.timestamp,!this.targetDelta&&!this.relativeTarget){const M=this.getClosestProjectingParent();M&&M.layout&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Og(this.relativeTargetOrigin,this.layout.layoutBox,M.layout.layoutBox),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Fi(),this.targetWithTransforms=Fi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rX(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ks(this.target,this.layout.layoutBox),$L(this.target,this.targetDelta)):ks(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const M=this.getClosestProjectingParent();M&&!!M.resumingFrom==!!this.resumingFrom&&!M.options.layoutScroll&&M.target&&this.animationProgress!==1?(this.relativeParent=M,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Fi(),this.relativeTargetOrigin=Fi(),Og(this.relativeTargetOrigin,this.target,M.target),ks(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||VT(this.parent.latestValues)||JL(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var E;const c=this.getLead(),h=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||(E=this.parent)!=null&&E.isProjectionDirty)&&(p=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Oa.timestamp&&(p=!1),p)return;const{layout:m,layoutId:y}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||y))return;ks(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,b=this.treeScale.y;sX(this.layoutCorrected,this.treeScale,this.path,h),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Fi());const{target:M}=c;if(!M){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(NR(this.prevProjectionDelta.x,this.projectionDelta.x),NR(this.prevProjectionDelta.y,this.projectionDelta.y)),Ng(this.projectionDelta,this.layoutCorrected,M,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==b||!HR(this.projectionDelta.x,this.prevProjectionDelta.x)||!HR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",M))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),c){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Bp(),this.projectionDelta=Bp(),this.projectionDeltaWithTransform=Bp()}setAnimationOrigin(c,h=!1){const p=this.snapshot,m=p?p.latestValues:{},y={...this.latestValues},v=Bp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const b=Fi(),M=p?p.source:void 0,E=this.layout?this.layout.source:void 0,R=M!==E,C=this.getStack(),T=!C||C.members.length<=1,D=!!(R&&!T&&this.options.crossfade===!0&&!this.path.some(tq));this.animationProgress=0;let j;this.mixTargetDelta=N=>{const B=N/1e3;qR(v.x,c.x,B),qR(v.y,c.y,B),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Og(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),$X(this.relativeTarget,this.relativeTargetOrigin,b,B),j&&PX(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=Fi()),ks(j,this.relativeTarget)),R&&(this.animationValues=y,UX(y,m,this.latestValues,B,D,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=B},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ri.update(()=>{$1.hasAnimatedSinceResize=!0,this.currentAnimation=EX(0,kR,{...c,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:h,target:p,layout:m,latestValues:y}=c;if(!(!h||!p||!m)){if(this!==c&&this.layout&&m&&dN(this.options.animationType,this.layout.layoutBox,m.layoutBox)){p=this.target||Fi();const v=wr(this.layout.layoutBox.x);p.x.min=c.target.x.min,p.x.max=p.x.min+v;const b=wr(this.layout.layoutBox.y);p.y.min=c.target.y.min,p.y.max=p.y.min+b}ks(h,p),Fp(h,y),Ng(this.projectionDeltaWithTransform,this.layoutCorrected,h,y)}}registerSharedNode(c,h){this.sharedNodes.has(c)||this.sharedNodes.set(c,new BX),this.sharedNodes.get(c).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var h;const{layoutId:c}=this.options;return c?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:c}=this.options;return c?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:h,preserveFollowOpacity:p}={}){const m=this.getStack();m&&m.promote(this,p),c&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let h=!1;const{latestValues:p}=c;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(h=!0),!h)return;const m={};p.z&&t2("z",c,m,this.animationValues);for(let y=0;y<$M.length;y++)t2(`rotate${$M[y]}`,c,m,this.animationValues),t2(`skew${$M[y]}`,c,m,this.animationValues);c.render();for(const y in m)c.setStaticValue(y,m[y]),this.animationValues&&(this.animationValues[y]=m[y]);c.scheduleRender()}getProjectionStyles(c){if(!this.instance||this.isSVG)return;if(!this.isVisible)return FX;const h={visibility:""},p=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=J1(c==null?void 0:c.pointerEvents)||"",h.transform=p?p(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const M={};return this.options.layoutId&&(M.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,M.pointerEvents=J1(c==null?void 0:c.pointerEvents)||""),this.hasProjected&&!Sh(this.latestValues)&&(M.transform=p?p({},""):"none",this.hasProjected=!1),M}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=IX(this.projectionDeltaWithTransform,this.treeScale,y),p&&(h.transform=p(y,h.transform));const{x:v,y:b}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,m.animationValues?h.opacity=m===this?y.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:h.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const M in ox){if(y[M]===void 0)continue;const{correct:E,applyTo:R,isCSSVariable:C}=ox[M],T=h.transform==="none"?y[M]:E(y[M],m);if(R){const D=R.length;for(let j=0;j<D;j++)h[R[j]]=T}else C?this.options.visualElement.renderState.vars[M]=T:h[M]=T}return this.options.layoutId&&(h.pointerEvents=m===this?J1(c==null?void 0:c.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var h;return(h=c.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(GR),this.root.sharedNodes.clear()}}}function HX(n){n.updateLayout()}function kX(n){var e;const t=((e=n.resumeFrom)==null?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=n.layout,{animationType:o}=n.options,c=t.source!==n.layout.source;o==="size"?qs(v=>{const b=c?t.measuredBox[v]:t.layoutBox[v],M=wr(b);b.min=i[v].min,b.max=b.min+M}):dN(o,t.layoutBox,i)&&qs(v=>{const b=c?t.measuredBox[v]:t.layoutBox[v],M=wr(i[v]);b.max=b.min+M,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[v].max=n.relativeTarget[v].min+M)});const h=Bp();Ng(h,i,t.layoutBox);const p=Bp();c?Ng(p,n.applyTransform(a,!0),t.measuredBox):Ng(p,i,t.layoutBox);const m=!oN(h);let y=!1;if(!n.resumeFrom){const v=n.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:b,layout:M}=v;if(b&&M){const E=Fi();Og(E,t.layoutBox,b.layoutBox);const R=Fi();Og(R,i,M.layoutBox),lN(E,R)||(y=!0),v.options.layoutRoot&&(n.relativeTarget=R,n.relativeTargetOrigin=E,n.relativeParent=v)}}}n.notifyListeners("didUpdate",{layout:i,snapshot:t,delta:p,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:y})}else if(n.isLead()){const{onExitComplete:i}=n.options;i&&i()}n.options.transition=void 0}function GX(n){n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function XX(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function qX(n){n.clearSnapshot()}function GR(n){n.clearMeasurements()}function YX(n){n.isLayoutDirty=!1}function WX(n){const{visualElement:t}=n.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),n.resetTransform()}function XR(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function ZX(n){n.resolveTargetDelta()}function KX(n){n.calcProjection()}function QX(n){n.resetSkewAndRotation()}function JX(n){n.removeLeadSnapshot()}function qR(n,t,e){n.translate=Mi(t.translate,0,e),n.scale=Mi(t.scale,1,e),n.origin=t.origin,n.originPoint=t.originPoint}function YR(n,t,e,i){n.min=Mi(t.min,e.min,i),n.max=Mi(t.max,e.max,i)}function $X(n,t,e,i){YR(n.x,t.x,e.x,i),YR(n.y,t.y,e.y,i)}function tq(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const eq={duration:.45,ease:[.4,0,.1,1]},WR=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),ZR=WR("applewebkit/")&&!WR("chrome/")?Math.round:Ws;function KR(n){n.min=ZR(n.min),n.max=ZR(n.max)}function nq(n){KR(n.x),KR(n.y)}function dN(n,t,e){return n==="position"||n==="preserve-aspect"&&!aX(VR(t),VR(e),.2)}function iq(n){var t;return n!==n.root&&((t=n.scroll)==null?void 0:t.wasRoot)}const aq=uN({attachResizeListener:(n,t)=>dx(n,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),e2={current:void 0},hN=uN({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!e2.current){const n=new aq({});n.mount(window),n.setOptions({layoutScroll:!0}),e2.current=n}return e2.current},resetTransform:(n,t)=>{n.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),rq={pan:{Feature:_X},drag:{Feature:bX,ProjectionNode:hN,MeasureLayout:aN}};function QR(n,t,e){const{props:i}=n;n.animationState&&i.whileHover&&n.animationState.setActive("whileHover",e==="Start");const a="onHover"+e,o=i[a];o&&ri.postRender(()=>o(t,Ax(t)))}class sq extends id{mount(){const{current:t}=this.node;t&&(this.unmount=mk(t,(e,i)=>(QR(this.node,i,"Start"),a=>QR(this.node,a,"End"))))}unmount(){}}class oq extends id{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wx(dx(this.node.current,"focus",()=>this.onFocus()),dx(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function JR(n,t,e){const{props:i}=n;if(n.current instanceof HTMLButtonElement&&n.current.disabled)return;n.animationState&&i.whileTap&&n.animationState.setActive("whileTap",e==="Start");const a="onTap"+(e==="End"?"":e),o=i[a];o&&ri.postRender(()=>o(t,Ax(t)))}class lq extends id{mount(){const{current:t}=this.node;t&&(this.unmount=vk(t,(e,i)=>(JR(this.node,i,"Start"),(a,{success:o})=>JR(this.node,a,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const GT=new WeakMap,n2=new WeakMap,cq=n=>{const t=GT.get(n.target);t&&t(n)},uq=n=>{n.forEach(cq)};function dq({root:n,...t}){const e=n||document;n2.has(e)||n2.set(e,{});const i=n2.get(e),a=JSON.stringify(t);return i[a]||(i[a]=new IntersectionObserver(uq,{root:n,...t})),i[a]}function hq(n,t,e){const i=dq(t);return GT.set(n,e),i.observe(n),()=>{GT.delete(n),i.unobserve(n)}}const fq={some:0,all:1};class pq extends id{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:i,amount:a="some",once:o}=t,c={root:e?e.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:fq[a]},h=p=>{const{isIntersecting:m}=p;if(this.isInView===m||(this.isInView=m,o&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:y,onViewportLeave:v}=this.node.getProps(),b=m?y:v;b&&b(p)};return hq(this.node.current,c,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(mq(t,e))&&this.startObserver()}unmount(){}}function mq({viewport:n={}},{viewport:t={}}={}){return e=>n[e]!==t[e]}const gq={inView:{Feature:pq},tap:{Feature:lq},focus:{Feature:oq},hover:{Feature:sq}},xq={layout:{ProjectionNode:hN,MeasureLayout:aN}},XT={current:null},fN={current:!1};function yq(){if(fN.current=!0,!!qE)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),t=()=>XT.current=n.matches;n.addListener(t),t()}else XT.current=!1}const vq=[...BL,Ka,Ju],bq=n=>vq.find(PL(n)),_q=new WeakMap;function Sq(n,t,e){for(const i in t){const a=t[i],o=e[i];if(tr(a))n.addValue(i,a);else if(tr(o))n.addValue(i,rx(a,{owner:n}));else if(o!==a)if(n.hasValue(i)){const c=n.getValue(i);c.liveStyle===!0?c.jump(a):c.hasAnimated||c.set(a)}else{const c=n.getStaticValue(i);n.addValue(i,rx(c!==void 0?c:a,{owner:n}))}}for(const i in e)t[i]===void 0&&n.removeValue(i);return t}const $R=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Mq{scrapeMotionValuesFromProps(t,e,i){return{}}constructor({parent:t,props:e,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:o,visualState:c},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=_w,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const M=Ll.now();this.renderScheduledAt<M&&(this.renderScheduledAt=M,ri.render(this.render,!1,!0))};const{latestValues:p,renderState:m,onUpdate:y}=c;this.onUpdate=y,this.latestValues=p,this.baseTarget={...p},this.initialValues=e.initial?{...p}:{},this.renderState=m,this.parent=t,this.props=e,this.presenceContext=i,this.depth=t?t.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!o,this.isControllingVariants=q_(e),this.isVariantNode=tL(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(e,{},this);for(const M in b){const E=b[M];p[M]!==void 0&&tr(E)&&E.set(p[M],!1)}}mount(t){this.current=t,_q.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,i)=>this.bindToMotionValue(i,e)),fN.current||yq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:XT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Qu(this.notifyUpdate),Qu(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const i=Xh.has(t);i&&this.onBindTransform&&this.onBindTransform();const a=e.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&ri.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),o=e.on("renderRequest",this.scheduleRender);let c;window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{a(),o(),c&&c(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in im){const e=im[t];if(!e)continue;const{isEnabled:i,Feature:a}=e;if(!this.features[t]&&a&&i(this.props)&&(this.features[t]=new a(this)),this.features[t]){const o=this.features[t];o.isMounted?o.update():(o.mount(),o.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Fi()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let i=0;i<$R.length;i++){const a=$R[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const o="on"+a,c=t[o];c&&(this.propEventSubscriptions[a]=this.on(a,c))}this.prevMotionValues=Sq(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const i=this.values.get(t);e!==i&&(i&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let i=this.values.get(t);return i===void 0&&e!==void 0&&(i=rx(e===null?void 0:e,{owner:this}),this.addValue(t,i)),i}readValue(t,e){let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(OL(i)||EL(i))?i=parseFloat(i):!bq(i)&&Ju.test(e)&&(i=jL(t,e)),this.setBaseTarget(t,tr(i)?i.get():i)),tr(i)?i.get():i}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var o;const{initial:e}=this.props;let i;if(typeof e=="string"||typeof e=="object"){const c=mw(this.props,e,(o=this.presenceContext)==null?void 0:o.custom);c&&(i=c[t])}if(e&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!tr(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new QE),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class pN extends Mq{constructor(){super(...arguments),this.KeyframeResolver=IL}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:i}){delete e[t],delete i[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;tr(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function Tq(n){return window.getComputedStyle(n)}class Eq extends pN{constructor(){super(...arguments),this.type="html",this.renderInstance=dL}readValueFromInstance(t,e){if(Xh.has(e))return PG(t,e);{const i=Tq(t),a=(ow(e)?i.getPropertyValue(e):i[e])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(t,{transformPagePoint:e}){return tN(t,e)}build(t,e,i){uw(t,e,i.transformTemplate)}scrapeMotionValuesFromProps(t,e,i){return gw(t,e,i)}}class wq extends pN{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Fi,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&uL(this.current,this.renderState)}}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Xh.has(e)){const i=UL(e);return i&&i.default||0}return e=hL.has(e)?e:sw(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,i){return pL(t,e,i)}onBindTransform(){this.current&&!this.renderState.dimensions&&ri.postRender(this.updateDimensions)}build(t,e,i){fw(t,e,this.isSVGTag,i.transformTemplate)}renderInstance(t,e,i,a){fL(t,e,i,a)}mount(t){this.isSVGTag=pw(t.tagName),super.mount(t)}}const Aq=(n,t)=>hw(n)?new wq(t):new Eq(t,{allowProjection:n!==vt.Fragment}),Cq=uG({...K9,...gq,...rq,...xq},Aq),gt=wk(Cq),Rq=_4`
  @import url('https://fonts.googleapis.com/css2?family=VT323&family=Oxanium:wght@400;600;800&display=swap');

  :root {
    --primary: #4a90e2;
    --primary-light: #6ba8ff;
    --primary-dark: #2a6fc9;
    --secondary: #50c878;
    --tertiary: #ff0f8;
    --dark: #080821;
    --darker: #050516;
    --light: #2a2a50;
    --success: #0cff9a;
    --warning: #ffcc00;
    --danger: #ff3358;
    --text-primary: #2c3e50;
    --text-secondary: #34495e;
    --background: #0f0c29;
    --card-bg: rgba(10, 25, 47, 0.7);
    --card-border: rgba(66, 133, 244, 0.3);
    --grid-color: rgba(46, 80, 156, 0.7);
    --grid-highlight: rgba(0, 219, 255, 0.7);
    --gradient-1: linear-gradient(135deg, #0ff8, #0091ff);
    --gradient-2: linear-gradient(135deg, #f0f8, #ff3358);
    --gradient-3: linear-gradient(90deg, #ff3358, #ffcc00);
    --font-mono: 'VT323', monospace;
    --font-display: 'Oxanium', sans-serif;
    --transition: all 0.3s ease;
    --shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    --glow: 0 0 8px var(--primary);
    --cursor-size: 18px;
    --cursor-color: #64b3f4;
    --cursor-center-size: 4px;
    --trail-size: 6px;
  }

  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    /* cursor: none !important; */
  }

  html, body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: radial-gradient(circle at center, #1a2980 0%, #0f0c29 100%);
    color: var(--text-primary);
    overflow-x: hidden;
    scroll-behavior: smooth;
  }

  #root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    background: radial-gradient(circle at center, #1a2980 0%, #0f0c29 100%);
  }

  /* Custom cursor styling */
  .custom-cursor {
    position: fixed;
    width: var(--cursor-size);
    height: var(--cursor-size);
    pointer-events: none;
    transform: translate(-50%, -50%);
    z-index: 9999;
    mix-blend-mode: screen;
    opacity: 1;
    
    /* Create a crosshair appearance */
    background: transparent;
    
    /* Add crosshair lines */
    &::before, &::after {
      content: '';
      position: absolute;
      background-color: var(--cursor-color);
    }
    
    /* Horizontal line */
    &::before {
      width: 100%;
      height: 1px;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }
    
    /* Vertical line */
    &::after {
      width: 1px;
      height: 100%;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
    }
    
    /* Add outer edges */
    &::before {
      box-shadow: 0 0 4px rgba(100, 179, 244, 0.8);
    }
    
    &::after {
      box-shadow: 0 0 4px rgba(100, 179, 244, 0.8);
    }
  }

  .custom-cursor.active {
    transform: translate(-50%, -50%) scale(0.8);
    
    &::before, &::after {
      background-color: #a0c4ff;
      box-shadow: 0 0 8px rgba(160, 196, 255, 0.9);
    }
  }

  /* Cursor trail effect */
  .cursor-trail {
    position: fixed;
    width: var(--trail-size);
    height: var(--trail-size);
    background: radial-gradient(circle, var(--cursor-color) 0%, rgba(100, 179, 244, 0) 70%);
    border-radius: 0;
    pointer-events: none;
    transform: translate(-50%, -50%);
    z-index: 9998;
    mix-blend-mode: screen;
    transition: opacity 0.3s ease;
    filter: blur(1px);
  }

  /* Cursor styles for interactive elements */
  a, button, [role="button"], input, select, textarea, [onclick], .clickable, [type="button"], [type="submit"], 
  [type="reset"], label[for], summary, details, div[tabindex], area, map, iframe, object, embed, [contenteditable="true"],
  .react-three-fiber canvas, audio[controls], video[controls], [draggable="true"] {
    &:hover ~ .custom-cursor {
      transform: translate(-50%, -50%) scale(1.2);
      
      &::before, &::after {
        background-color: #64E8DE;
        box-shadow: 0 0 8px rgba(100, 232, 222, 0.9);
      }
    }
  }

  /* Navigation Controls */
  .nav-controls {
    position: fixed;
    bottom: 20px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 10px;
    z-index: 100;
    background: rgba(255, 255, 255, 0.9);
    padding: 10px 20px;
    border-radius: 50px;
    box-shadow: var(--shadow);
    backdrop-filter: blur(10px);
  }

  .nav-button {
    background: var(--primary);
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 25px;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    
    &:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
    }
    
    &:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
  }

  /* Progress Bar */
  .progress-bar {
    position: fixed;
    top: 0;
    left: 0;
    height: 4px;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    transition: width 0.3s ease;
  }

  /* Slide Container */
  .slide-container {
    width: 100%;
    height: 100%;
    padding: 20px;
    overflow: auto;
  }

  /* Card Styles */
  .card {
    background: var(--card-bg);
    border-radius: 10px;
    padding: 2rem;
    box-shadow: var(--shadow);
    border: 1px solid var(--card-border);
    margin-bottom: 2rem;
  }

  /* Typography */
  h1, h2, h3, h4, h5, h6 {
    color: var(--text-primary);
    margin-bottom: 1rem;
  }

  h1 {
    font-size: 2.5rem;
    font-weight: 700;
    background: linear-gradient(45deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  h2 {
    font-size: 2rem;
    color: var(--primary);
  }

  h3 {
    font-size: 2rem;
    color: var(--secondary);
  }

  p {
    color: var(--text-secondary);
    margin-bottom: 1rem;
  }

  /* Code Blocks */
  pre {
    background: #f8f9fa;
    border-radius: 5px;
    padding: 1rem;
    overflow-x: auto;
    border: 1px solid var(--card-border);
    margin: 1rem 0;
  }

  code {
    font-family: 'Fira Code', monospace;
    color: var(--primary-dark);
  }

  /* Lists */
  ul, ol {
    margin-left: 1.5rem;
    margin-bottom: 1rem;
  }

  li {
    margin-bottom: 0.5rem;
    color: var(--text-secondary);
  }

  /* Edge Navigation */
  .edge-nav {
    position: fixed;
    top: 0;
    bottom: 0;
    width: 100px;
    opacity: 0;
    transition: opacity 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &:hover {
      opacity: 1;
    }
    
    &.left {
      left: 0;
      background: linear-gradient(90deg, rgba(74, 144, 226, 0.2), transparent);
    }
    
    &.right {
      right: 0;
      background: linear-gradient(-90deg, rgba(74, 144, 226, 0.2), transparent);
    }
  }

  .nav-arrow {
    font-size: 2rem;
    color: var(--primary);
    cursor: pointer;
    transition: transform 0.3s ease;
    
    &:hover {
      transform: scale(1.2);
    }
  }

  /* Custom scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
    height: 8px;
  }

  ::-webkit-scrollbar-track {
    background: var(--dark);
  }

  ::-webkit-scrollbar-thumb {
    background: var(--primary);
    border-radius: 0;
  }

  ::-webkit-scrollbar-thumb:hover {
    background: var(--secondary);
  }

  /* Selection color */
  ::selection {
    background: var(--secondary);
    color: var(--dark);
  }
`,Dq=()=>{const n=vt.useRef(null),t=800,e=vt.useMemo(()=>{const a=new Float32Array(t*3);for(let o=0;o<t;o++){const c=o*3;a[c]=(Math.random()-.5)*60,a[c+1]=(Math.random()-.5)*40,a[c+2]=(Math.random()-.5)*60}return a},[t]);vt.useMemo(()=>e.slice(),[e]);const i=vt.useMemo(()=>{const a=new Float32Array(t*3),o=[new he("#1a2c42"),new he("#2c3e50"),new he("#34495e"),new he("#2a4158"),new he("#283747")];for(let c=0;c<t;c++){const h=o[Math.floor(Math.random()*o.length)],p=c*3;a[p]=h.r,a[p+1]=h.g,a[p+2]=h.b}return a},[t]);return V_(({clock:a})=>{if(n.current){const o=a.getElapsedTime(),c=n.current.geometry.attributes.position.array;for(let h=0;h<t;h++){const p=h*3,m=Math.sin(h*.01)*.005+.007;c[p+1]+=Math.sin((h+o)*.1)*.01,c[p]+=Math.cos((h+o)*.05)*.01,c[p+2]-=m,c[p+2]<-40&&(c[p]=(Math.random()-.5)*60,c[p+1]=(Math.random()-.5)*40,c[p+2]=60)}n.current.geometry.attributes.position.needsUpdate=!0}}),new qn(i,3),d.jsx(K7,{ref:n,positions:e,stride:3,frustumCulled:!1,children:d.jsx("pointsMaterial",{size:.3,sizeAttenuation:!0,vertexColors:!0,transparent:!0,opacity:.4,blending:ab})})},Uq=()=>d.jsxs(d.Fragment,{children:[d.jsx(Dq,{}),d.jsx("fog",{attach:"fog",args:["#0f0c29",15,70]})," ",d.jsx("ambientLight",{intensity:.08})," ",d.jsxs("mesh",{position:[0,0,-10],children:[d.jsx("planeGeometry",{args:[100,100]}),d.jsx("meshBasicMaterial",{color:"#0f0c29"})]})]}),jq=({onNext:n,onPrevious:t})=>{const[e,i]=vt.useState(!1),[a,o]=vt.useState(!1),[c,h]=vt.useState(1),[p,m]=vt.useState({x:50,y:50});return vt.useEffect(()=>{const y=E=>{E.key==="ArrowRight"&&!a?n():E.key==="ArrowLeft"&&!a?t():E.key==="Alt"&&(E.preventDefault(),i(!0),a||(o(!0),m({x:50,y:50}),document.body.style.transform="scale(1.5)",document.body.style.transformOrigin="50% 50%",document.body.style.transition="transform 0.3s ease",h(1.5)))},v=E=>{E.key==="Alt"&&(E.preventDefault(),i(!1))},b=E=>{if(e&&a){const R=E.clientX/window.innerWidth*100,C=E.clientY/window.innerHeight*100;m({x:R,y:C}),document.body.style.transformOrigin=`${R}% ${C}%`}},M=E=>{if(e&&a){E.preventDefault();const R=E.deltaY<0?.1:-.1,C=Math.max(1,Math.min(5,c+R));h(C),document.body.style.transform=`scale(${C})`,C===1&&(o(!1),document.body.style.transform="",document.body.style.transformOrigin="",document.body.style.transition="transform 0.3s ease")}};return window.addEventListener("keydown",y),window.addEventListener("keyup",v),window.addEventListener("mousemove",b),window.addEventListener("wheel",M,{passive:!1}),()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",v),window.removeEventListener("mousemove",b),window.removeEventListener("wheel",M)}},[n,t,e,a,c,p]),vt.useEffect(()=>{e?document.body.style.cursor="zoom-in":document.body.style.cursor="";const y=v=>{v.key==="Escape"&&a&&(o(!1),document.body.style.transform="",document.body.style.transformOrigin="",document.body.style.transition="transform 0.3s ease",h(1))};return window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)},[e,a]),d.jsx(d.Fragment,{children:a&&d.jsx(Lq,{children:d.jsxs("span",{children:["Zoom: ",Math.round(c*100),"% - Hold Alt+scroll to adjust - ESC to exit"]})})})},Lq=L.div`
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.7);
  color: white;
  padding: 8px 16px;
  border-radius: 20px;
  font-size: 14px;
  z-index: 1000;
  pointer-events: none;
`,mN=vt.createContext({currentSlide:1,totalSlides:0,goToNextSlide:()=>{},goToPreviousSlide:()=>{},goToSlide:()=>{},setTotalSlides:()=>{},isSlideInputVisible:!1,setSlideInputVisible:()=>{}}),Nq=({children:n})=>{const[t,e]=vt.useState(1),[i,a]=vt.useState(0),[o,c]=vt.useState(!1),h=()=>{t<i&&e(y=>y+1)},p=()=>{t>1&&e(y=>y-1)},m=y=>{y>=1&&y<=i&&e(y)};return d.jsx(mN.Provider,{value:{currentSlide:t,totalSlides:i,goToNextSlide:h,goToPreviousSlide:p,goToSlide:m,setTotalSlides:a,isSlideInputVisible:o,setSlideInputVisible:c},children:n})},Ew=()=>vt.useContext(mN),Oq=L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-image: 
    linear-gradient(rgba(0, 255, 255, 0.05) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 255, 255, 0.05) 1px, transparent 1px);
  background-size: 20px 20px;
  pointer-events: none;
  z-index: 1;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, transparent 60%, rgba(8, 8, 33, 0.7) 100%);
    pointer-events: none;
  }
`,zq=()=>d.jsx(Oq,{}),Pq=L.div`
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: rgba(10, 20, 50, 0.95);
  padding: 12px;
  transform: translateY(${n=>n.isVisible?"0":"-100%"});
  transition: transform 0.3s ease-in-out;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  box-shadow: 0 2px 15px rgba(0, 0, 0, 0.5);
  backdrop-filter: blur(5px);
`,Bq=L.div`
  display: flex;
  gap: 10px;
  align-items: center;
  width: 100%;
  max-width: 400px;
`,Iq=L.label`
  color: var(--primary);
  font-size: 1rem;
  font-weight: 500;
`,Fq=L.input`
  background: rgba(30, 40, 60, 0.7);
  border: 1px solid var(--primary);
  border-radius: 4px;
  color: white;
  padding: 8px 12px;
  font-size: 1rem;
  width: 100%;
  outline: none;
  
  &:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 2px rgba(100, 180, 255, 0.3);
  }
`,Vq=L.button`
  background: var(--primary);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 8px 16px;
  font-weight: 500;
  cursor: pointer;
  transition: all 0.2s ease;
  
  &:hover {
    background: var(--accent);
    transform: translateY(-2px);
  }
  
  &:active {
    transform: translateY(0);
  }
`,Hq=L.div`
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.9rem;
  margin-left: 10px;
`,kq=()=>{const{isSlideInputVisible:n,setSlideInputVisible:t,goToSlide:e,totalSlides:i,currentSlide:a}=Ew(),[o,c]=vt.useState(""),h=vt.useRef(null);vt.useEffect(()=>{n&&h.current&&(h.current.focus(),c(""))},[n]),vt.useEffect(()=>{const m=y=>{y.key==="u"&&!y.ctrlKey&&!y.metaKey&&!y.altKey?t(!0):y.key==="Escape"&&n&&t(!1)};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[n,t]);const p=m=>{m.preventDefault();const y=parseInt(o);isNaN(y)||(e(y),t(!1))};return d.jsx(Pq,{isVisible:n,children:d.jsx("form",{onSubmit:p,children:d.jsxs(Bq,{children:[d.jsx(Iq,{children:"Go to slide:"}),d.jsx(Fq,{ref:h,type:"number",min:1,max:i,value:o,onChange:m=>c(m.target.value),placeholder:`1-${i}`}),d.jsx(Vq,{type:"submit",children:"Go"}),d.jsxs(Hq,{children:["Current: ",a," / Total: ",i]})]})})})},Gq=L.div`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 2rem;
  position: relative;
  overflow: hidden;
`,Xq=L.canvas`
  position: absolute;
  top: 0;
    left: 0;
  width: 100%;
  height: 100%;
  z-index: 1;
`,qq=L(gt.div)`
  position: relative;
  z-index: 2;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  max-width: 900px;
  text-align: center;
`,Yq=L(gt.h1)`
  font-size: 4.5rem;
  margin-bottom: 2rem;
  text-align: center;
  background: linear-gradient(to right, #00BFFF, #7FFF00);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 800;
  line-height: 1.2;
  letter-spacing: -0.5px;
  text-shadow: 0 4px 30px rgba(0, 0, 0, 0.3);
`,Wq=L(gt.h2)`
  font-size: 2.2rem;
  color: #D6FFFF;
  margin-bottom: 2.5rem;
  text-align: center;
  font-weight: 600;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
`,Zq=L(gt.h3)`
  font-size: 1.0rem;
  color: #FFFFFF;
  margin-bottom: 1rem;
  text-align: center;
  letter-spacing: 1px;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
`;L(gt.p)`
  font-size: 1.3rem;
  color: #D6FFFF;
  text-align: center;
  font-weight: 500;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
`;const t5=L(gt.div)`
  position: absolute;
  width: 160px;
  height: 160px;
  background: rgba(10, 25, 47, 0.4);
  border: 1px solid rgba(0, 191, 255, 0.5);
  border-radius: 10px;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, 1fr);
  gap: 4px;
  padding: 8px;
  z-index: 1;
  box-shadow: 0 0 20px rgba(0, 191, 255, 0.2);
  
  &.left {
    top: 15%;
    left: 10%;
    transform: rotate(-10deg);
  }
  
  &.right {
    bottom: 15%;
    right: 10%;
    transform: rotate(10deg);
  }
`,e5=L(gt.div)`
  background: rgba(0, 191, 255, 0.2);
  border-radius: 3px;
  position: relative;
  overflow: hidden;
  
  &::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: linear-gradient(90deg, transparent, rgba(0, 191, 255, 0.3), transparent);
    transform: translateX(-100%);
    animation: shimmer 2s infinite;
  }
  
  @keyframes shimmer {
    100% {
      transform: translateX(100%);
    }
  }
`,Kq=L(gt.div)`
  position: absolute;
  width: 60px;
  height: 60px;
  background: rgba(10, 25, 47, 0.2);
  border: 1px solid rgba(0, 191, 255, 0.3);
  border-radius: 6px;
  z-index: 1;
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  grid-template-rows: repeat(2, 1fr);
  gap: 3px;
  padding: 5px;
  box-shadow: 0 0 15px rgba(0, 191, 255, 0.1);
`,Qq=L(gt.div)`
  background: rgba(0, 191, 255, 0.15);
  border-radius: 2px;
`,Jq=L(gt.div)`
  position: absolute;
  height: 1px;
  width: ${n=>n.width};
  background: ${n=>n.color};
  transform: rotate(${n=>n.rotate});
  z-index: 1;
  box-shadow: 0 0 8px ${n=>n.color};
  opacity: 0.5;

  &::before, &::after {
    content: '';
    position: absolute;
    width: 3px;
    height: 3px;
    border-radius: 50%;
    background: ${n=>n.color};
    box-shadow: 0 0 5px ${n=>n.color};
  }

  &::before {
    left: 0;
    top: -1px;
  }

  &::after {
    right: 0;
    top: -1px;
  }
`,$q=L(gt.div)`
  position: absolute;
  width: ${n=>n.size};
  height: ${n=>n.size};
  border-radius: 50%;
  background: ${n=>n.color};
  box-shadow: 0 0 10px ${n=>n.color};
  z-index: 1;
`;let n5=class{constructor(t,e,i,a,o){kr(this,"x");kr(this,"y");kr(this,"length");kr(this,"speed");kr(this,"color");kr(this,"width");kr(this,"direction");kr(this,"id");kr(this,"offset");kr(this,"active");kr(this,"pulse");kr(this,"pulseFrequency");kr(this,"pulseSize");this.id=t,this.x=e,this.y=i,this.length=Math.random()*80+80,this.speed=Math.random()*.8+.4,this.direction=Math.random()>.5?1:-1,this.width=Math.random()*1.2+.5,this.color=["#00BFFF40","#7FFF0040","#FF7F5040","#7F00FF40","#FFD70040"][Math.floor(Math.random()*5)],this.offset=Math.random()*2e3,this.active=Math.random()>.5,this.pulse=Math.random()>.7,this.pulseFrequency=Math.random()*3e3+2e3,this.pulseSize=Math.random()*1.5+1}update(t,e,i){Math.random()<.003&&(this.active=!this.active),this.active&&(this.x+=this.speed*this.direction,(this.x<0||this.x>e)&&(this.direction*=-1),Math.random()<.02&&(this.y+=(Math.random()-.5)*8,this.y=Math.max(0,Math.min(i,this.y))))}draw(t,e){if(this.active,t.strokeStyle=this.color,t.lineWidth=this.width,this.pulse&&this.active){const a=(e+this.offset)%this.pulseFrequency/this.pulseFrequency;if(a<.3){const o=1+this.pulseSize*Math.sin(a*Math.PI/.3);t.lineWidth=this.width*o,t.shadowColor=this.color,t.shadowBlur=6}}t.beginPath(),t.moveTo(this.x,this.y),t.lineTo(this.x+this.length*this.direction,this.y),t.stroke(),t.shadowBlur=0;const i=2.5;if(t.fillStyle=this.color,t.beginPath(),t.arc(this.x,this.y,i,0,Math.PI*2),t.fill(),t.beginPath(),t.arc(this.x+this.length*this.direction,this.y,i,0,Math.PI*2),t.fill(),this.active&&Math.random()<.4){const a=(e+this.offset)%2e3/2e3,o=this.x+this.length*this.direction*a;t.fillStyle=this.color,t.shadowColor=this.color,t.shadowBlur=4,t.beginPath(),t.arc(o,this.y,2.5,0,Math.PI*2),t.fill(),t.shadowBlur=0}}static connectThreads(t,e,i){for(let a=0;a<e.length;a++){const o=e[a];if(o.active)for(let c=a+1;c<e.length;c++){const h=e[c];if(!h.active)continue;const p=o.x-h.x,m=o.y-h.y;if(Math.sqrt(p*p+m*m)<150&&Math.random()<.2){const v=t.createLinearGradient(o.x,o.y,h.x,h.y);if(v.addColorStop(0,o.color),v.addColorStop(1,h.color),t.strokeStyle=v,t.lineWidth=.4,t.shadowColor=o.color,t.shadowBlur=2,t.beginPath(),t.moveTo(o.x,o.y),t.lineTo(h.x,h.y),t.stroke(),t.shadowBlur=0,Math.random()<.05){const b=(i+o.offset+h.offset)%3e3/3e3,M=o.x+(h.x-o.x)*b,E=o.y+(h.y-o.y)*b;t.fillStyle="#FFFFFF40",t.shadowColor="#FFFFFF40",t.shadowBlur=4,t.beginPath(),t.arc(M,E,2,0,Math.PI*2),t.fill(),t.shadowBlur=0}}}}}};const tY=()=>{const n=vt.useRef(null),t=vt.useRef([]),e=vt.useRef(0),i=vt.useRef([]);vt.useEffect(()=>{const h=n.current;if(!h)return;const p=h.getContext("2d");if(!p)return;const m=()=>{const{width:v,height:b}=h.getBoundingClientRect();h.width=v,h.height=b,t.current=[];const M=Math.floor(v/70);for(let E=0;E<M;E++){const R=Math.random()*v,C=Math.random()*b;t.current.push(new n5(E,R,C,v,b))}};m(),window.addEventListener("resize",m);const y=v=>{p.clearRect(0,0,h.width,h.height),t.current.forEach(b=>{b.update(v,h.width,h.height),b.draw(p,v)}),n5.connectThreads(p,t.current,v),e.current=requestAnimationFrame(y)};return e.current=requestAnimationFrame(y),()=>{window.removeEventListener("resize",m),cancelAnimationFrame(e.current)}},[]),vt.useEffect(()=>{i.current=Array.from({length:6},(h,p)=>({id:p,x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,xSpeed:(Math.random()-.5)*.5,ySpeed:(Math.random()-.5)*.5,rotate:Math.random()*360,rotateSpeed:(Math.random()-.5)*.7}))},[]);const a={initial:{opacity:0,scale:0},animate:h=>({opacity:1,scale:1,transition:{delay:.05*h,duration:.3,type:"spring"}})},o=[{width:"150px",top:"15%",left:"5%",rotate:"25deg",color:"#00BFFF80"},{width:"200px",top:"75%",left:"15%",rotate:"-15deg",color:"#7FFF0080"},{width:"180px",top:"35%",right:"10%",rotate:"40deg",color:"#FF7F5080"},{width:"120px",bottom:"20%",right:"25%",rotate:"-30deg",color:"#7F00FF80"}],c=[{size:"8px",color:"#00BFFF",initialX:"-10px",initialY:"30%",finalX:"110%",finalY:"45%",duration:8},{size:"6px",color:"#7FFF00",initialX:"110%",initialY:"70%",finalX:"-5%",finalY:"60%",duration:12},{size:"5px",color:"#FF7F50",initialX:"20%",initialY:"-10px",finalX:"70%",finalY:"110%",duration:10},{size:"7px",color:"#7F00FF",initialX:"80%",initialY:"110%",finalX:"30%",finalY:"-5%",duration:9}];return d.jsxs(Gq,{children:[d.jsx(Xq,{ref:n}),o.map((h,p)=>d.jsx(Jq,{width:h.width,rotate:h.rotate,color:h.color,style:{top:h.top,left:h.left,right:h.right,bottom:h.bottom},initial:{opacity:0},animate:{opacity:.4},transition:{duration:2,delay:p*.7}},`circuit-${p}`)),[0,1,2].map(h=>d.jsx(Kq,{initial:{x:Math.random()*window.innerWidth,y:Math.random()*window.innerHeight,rotate:0,opacity:0},animate:{x:[Math.random()*window.innerWidth*.8,Math.random()*window.innerWidth*.8,Math.random()*window.innerWidth*.8],y:[Math.random()*window.innerHeight*.8,Math.random()*window.innerHeight*.8,Math.random()*window.innerHeight*.8],rotate:[0,Math.random()*40-20,Math.random()*40-20],opacity:.6},transition:{duration:30+h*10,times:[0,.5,1],repeat:1/0,repeatType:"reverse",ease:"easeInOut"},children:Array.from({length:4}).map((p,m)=>d.jsx(Qq,{initial:{opacity:0},animate:{opacity:[.3,.7,.3]},transition:{duration:2+m*.5,repeat:1/0,repeatType:"reverse"}},`mini-core-${h}-${m}`))},`processor-${h}`)),c.map((h,p)=>d.jsx($q,{size:h.size,color:h.color,initial:{x:h.initialX,y:h.initialY,opacity:0},animate:{x:h.finalX,y:h.finalY,opacity:[0,.8,0]},transition:{duration:h.duration,repeat:1/0,repeatDelay:p*2,ease:"linear"}},`data-packet-${p}`)),d.jsx(t5,{className:"left",initial:{opacity:0,x:-50},animate:{opacity:.8,x:0},transition:{duration:.8,delay:.5},children:Array.from({length:16}).map((h,p)=>d.jsx(e5,{custom:p,variants:a,initial:"initial",animate:"animate"},`left-core-${p}`))}),d.jsx(t5,{className:"right",initial:{opacity:0,x:50},animate:{opacity:.8,x:0},transition:{duration:.8,delay:.8},children:Array.from({length:16}).map((h,p)=>d.jsx(e5,{custom:p,variants:a,initial:"initial",animate:"animate"},`right-core-${p}`))}),d.jsxs(qq,{initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[d.jsx(Yq,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},children:"Multi-Threading and How Modern CPUs Handle It in 2025"}),d.jsx(Wq,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.3},children:"A Deep Dive into CPU Threading in 2025"}),d.jsx(Zq,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.6},children:"Presented by Sahand Mazrue"})]})]})},eY=L(gt.div)`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  position: relative;
  overflow: hidden;
`,nY=L.div`
  position: absolute;
  top: 20px;
  left: 20px;
  background: rgba(25, 35, 60, 0.7);
  color: rgba(255, 255, 255, 0.8);
  font-size: 0.8rem;
  padding: 0.3rem 0.6rem;
  border-radius: 4px;
  border: 1px solid rgba(100, 120, 200, 0.3);
  font-weight: 600;
  z-index: 25;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
`,iY={initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20}},aY=L.div`
  width: 100%;
  margin-bottom: 2rem;
  text-align: center;
`,rY=L.h1`
  font-size: 3rem;
  background: linear-gradient(to right, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  font-weight: 700;
  line-height: 1.2;
  margin-bottom: 0.5rem;
`,sY=L.h2`
  font-size: 1.2rem;
  color: var(--primary-light);
  font-weight: 500;
  opacity: 0.9;
`,mn=({children:n,title:t,subtitle:e})=>{const{currentSlide:i,totalSlides:a}=Ew();return d.jsxs(eY,{initial:"initial",animate:"animate",exit:"exit",transition:{duration:.6},variants:iY,children:[d.jsxs(nY,{children:[i," / ",a]}),d.jsx(cY,{initial:{opacity:0},animate:{opacity:[0,.7,0]},transition:{duration:.6,times:[0,.1,1]}}),d.jsx(oY,{}),d.jsxs(lY,{children:[(t||e)&&d.jsxs(aY,{children:[t&&d.jsx(rY,{children:t}),e&&d.jsx(sY,{children:e})]}),n]})]})},oY=L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: repeating-linear-gradient(
    0deg,
    transparent,
    transparent 1px,
    rgba(0, 0, 0, 0.1) 1px,
    rgba(0, 0, 0, 0.1) 2px
  );
  pointer-events: none;
  z-index: 20;
  opacity: 0.2;
`,lY=L.div`
  flex: 1;
  width: 100%;
  height: 100%;
  overflow-y: auto;
  scrollbar-width: thin;
  padding: 20px;
`,cY=L(gt.div)`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--primary);
  z-index: 30;
  pointer-events: none;
`,uY=L(gt.li)`
  margin-bottom: 1rem;
  font-size: 1.25rem;
  opacity: 0.9;
  line-height: 1.5;
  position: relative;
  padding-left: 2rem;
  color: white;
  
  &:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0.5rem;
    width: 10px;
    height: 10px;
    background: var(--primary);
    border-radius: 50%;
    box-shadow: 0 0 8px var(--primary);
  }
`,dY=()=>{const n={hidden:{opacity:0,x:-20},visible:e=>({opacity:1,x:0,transition:{delay:e*.1,duration:.5}})},t=["Basic concepts of multi-threading","Hardware support for threading","Thread scheduling and management","Performance considerations","Synchronization mechanisms","Modern CPU threading features","Practical implementations","Advanced concepts and future trends"];return d.jsx(mn,{title:"Presentation Overview",subtitle:"What we'll cover in this presentation",children:d.jsx(gt.ul,{style:{listStyle:"none",padding:0,margin:"1rem 0",maxWidth:"800px"},initial:"hidden",animate:"visible",variants:{visible:{transition:{staggerChildren:.1}}},children:t.map((e,i)=>d.jsx(uY,{custom:i,variants:n,children:e},i))})})},hY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 1rem;
  gap: 1.5rem;
`,fY=L.div`
  display: flex;
  width: 100%;
  gap: 1.5rem;
`,pY=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  flex: 1;
  display: flex;
  flex-direction: column;
`,mY=L.h3`
  font-size: 1.3rem;
  color: var(--primary);
  margin-bottom: 1rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.5rem;
`,gY=L.div`
  flex: 1;
  overflow: auto;
`,xY=L.div`
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 1.5rem;
  margin-top: 1rem;
`,i5=L(gt.div)`
  display: flex;
  flex-direction: column;
  background: rgba(15, 25, 50, 0.6);
  border-radius: 8px;
  padding: 1rem;
  border: 1px solid rgba(100, 120, 200, 0.2);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,a5=L.h4`
  font-size: 1.1rem;
  color: var(--primary);
  margin-bottom: 0.8rem;
  text-align: center;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
`,r5=L.div`
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.5;
`,yl=L.div`
  margin-bottom: 0.8rem;
  display: flex;
  align-items: flex-start;
  
  span {
    margin-right: 0.5rem;
    font-size: 1.1rem;
  }
`,yY=L.div`
  margin-top: 1.5rem;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 100%;
  height: 340px;
  position: relative;
`,s5=L(gt.div)`
  background: ${n=>n.background||"rgba(25, 35, 60, 0.7)"};
  border: 1px solid ${n=>n.color||"rgba(100, 120, 200, 0.4)"};
  border-radius: 8px;
  padding: 1rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`;L(gt.div)`
  width: 40px;
  height: 3px;
  background: rgba(100, 120, 200, 0.7);
  position: absolute;
  z-index: 0;
  transform: ${n=>n.rotate||"none"};
  
  &::after {
    content: '';
    position: absolute;
    right: 0;
    top: -4px;
    width: 0;
    height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 8px solid rgba(100, 120, 200, 0.7);
  }
`;L.div`
  font-size: 0.8rem;
  color: ${n=>n.color||"rgba(100, 120, 200, 1)"};
  position: absolute;
  text-align: center;
  background: rgba(0, 0, 0, 0.5);
  padding: 0.2rem 0.5rem;
  border-radius: 4px;
  white-space: nowrap;
`;L.div`
  width: 100%;
  height: 100%;
  position: relative;
`;L(gt.div)`
  position: absolute;
  background: rgba(15, 25, 50, 0.7);
  border: 1px solid ${n=>n.color};
  border-radius: 6px;
  padding: 0.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
  font-size: 0.8rem;
  color: white;
  width: 120px;
  
  h5 {
    color: ${n=>n.color};
    font-size: 0.9rem;
    margin: 0 0 0.3rem 0;
    text-align: center;
  }
`;L.div`
  margin-top: 0.5rem;
  width: 90%;
  font-size: 0.7rem;
  background: rgba(0, 0, 0, 0.3);
  border-radius: 4px;
  padding: 0.3rem;
  
  div {
    margin-bottom: 0.2rem;
  }
`;const vY=()=>d.jsx(mn,{title:"Jobs vs. Processes",subtitle:"From Job Submission to Process Execution",children:d.jsx(hY,{children:d.jsx(fY,{children:d.jsxs(pY,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(mY,{children:"Understanding Jobs and Processes"}),d.jsxs(gY,{children:[d.jsxs(xY,{children:[d.jsxs(i5,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[d.jsx(a5,{children:"Jobs"}),d.jsxs(r5,{children:[d.jsxs(yl,{children:[d.jsx("span",{children:""})," Programs or tasks waiting to be executed"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Blueprint or recipe for what needs to happen"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Not actively consuming CPU resources"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," May be stored in job queues or scheduling systems"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," No memory allocation or system resources yet"]})]})]}),d.jsxs(i5,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[d.jsx(a5,{children:"Processes"}),d.jsxs(r5,{children:[d.jsxs(yl,{children:[d.jsx("span",{children:""})," Active, running instances of programs"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Managed by the operating system"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Loaded into memory and executed by CPU"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Has a unique Process ID (PID)"]}),d.jsxs(yl,{children:[d.jsx("span",{children:""})," Contains code, data, stack, and process state"]})]})]})]}),d.jsxs(yY,{style:{height:200},children:[d.jsx(s5,{style:{left:"35%",top:"20%",width:"150px",height:"100px"},color:"rgba(106, 217, 126, 0.7)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2rem",color:"rgba(106, 217, 126, 1)"},children:""}),d.jsx("div",{style:{marginTop:"0.5rem",color:"white",fontWeight:"bold"},children:"JOB"})]})}),d.jsx(s5,{style:{left:"55%",top:"20%",width:"150px",height:"100px"},color:"rgba(74, 144, 226, 0.7)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.6},children:d.jsxs("div",{style:{textAlign:"center"},children:[d.jsx("div",{style:{fontSize:"2rem",color:"rgba(74, 144, 226, 1)"},children:""}),d.jsx("div",{style:{marginTop:"0.5rem",color:"white",fontWeight:"bold"},children:"PROCESS"})]})})]})]})]})})})}),bY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 1rem;
  padding-top: 0.7rem;
`,_Y=L.div`
  display: flex;
  width: 100%;
  gap: 1.5rem;
`,o5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,l5=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.1rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
  height: fit-content;
`,c5=L.h3`
  font-size: 1.15rem;
  color: ${n=>n.color||"var(--primary)"};
  margin-bottom: 0.7rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.5rem;
`,u5=L.div`
  font-size: 0.85rem;
`,dh=L.div`
  margin-bottom: 0.6rem;
`,hh=L.div`
  font-weight: bold;
  color: ${n=>n.color||"rgba(74, 144, 226, 1)"};
  margin-bottom: 0.25rem;
  font-size: 0.9rem;
`,fh=L.div`
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.35;
  padding-left: 0.9rem;
`,d5=L.div`
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
  position: relative;
  margin-top: 0.4rem;
  margin-bottom: 0.7rem;
`,ju=L(gt.div)`
  background: ${n=>n.bgColor};
  border-radius: 8px;
  padding: 0.5rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 95px;
  position: relative;
`,Lu=L.div`
  font-weight: bold;
  font-size: 0.75rem;
  margin-bottom: 0.25rem;
  text-align: center;
`,Nu=L.div`
  font-size: 1.4rem;
  margin-bottom: 0.25rem;
`,gp=L.div`
  width: 35px;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
  position: relative;
  
  &:after {
    content: '';
    position: absolute;
    right: 0;
    top: -3px;
    width: 0;
    height: 0;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-left: 6px solid rgba(255, 255, 255, 0.3);
  }
`,br=L.div`
  margin-bottom: 0.35rem;
  display: flex;
  align-items: flex-start;
  font-size: 0.8rem;
  
  &:before {
    content: "";
    color: rgba(74, 144, 226, 0.8);
    margin-right: 0.5rem;
  }
`,SY=()=>d.jsx(mn,{title:"The OS and the CPU",subtitle:"Roles in Process Management",children:d.jsx(bY,{children:d.jsxs(_Y,{children:[d.jsx(o5,{children:d.jsxs(l5,{borderColor:"rgba(106, 217, 126, 0.4)",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(c5,{color:"rgba(106, 217, 126, 1)",children:"Operating System's Role"}),d.jsxs(u5,{children:[d.jsxs(d5,{children:[d.jsxs(ju,{bgColor:"rgba(106, 217, 126, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Job Acceptance"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(106, 217, 126, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Resource Allocation"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(106, 217, 126, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Memory Loading"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(106, 217, 126, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Scheduling"})]})]}),d.jsxs("div",{style:{marginTop:"0.5rem"},children:[d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(106, 217, 126, 0.9)",children:"Job Acceptance"}),d.jsx(fh,{children:"The OS receives execution requests from users, schedulers, or other processes."})]}),d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(106, 217, 126, 0.9)",children:"Resource Allocation & PCB Creation"}),d.jsxs(fh,{children:[d.jsx(br,{children:"Allocates memory space (code, data, stack, heap)"}),d.jsx(br,{children:"Reserves I/O devices and files"}),d.jsx(br,{children:"Creates Process Control Block (PID, state, memory details)"})]})]}),d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(106, 217, 126, 0.9)",children:"Memory Loading & Initialization"}),d.jsxs(fh,{children:[d.jsx(br,{children:"Loads executable code from storage into memory"}),d.jsx(br,{children:"Sets up registers, stack, environment variables"}),d.jsx(br,{children:"Links to required libraries"})]})]}),d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(106, 217, 126, 0.9)",children:"Process Scheduling"}),d.jsx(fh,{children:`Adds the process to the scheduler's queue, typically in "ready" state.`})]})]})]})]})}),d.jsx(o5,{children:d.jsxs(l5,{borderColor:"rgba(74, 144, 226, 0.4)",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[d.jsx(c5,{color:"rgba(74, 144, 226, 1)",children:"CPU's Role"}),d.jsxs(u5,{children:[d.jsxs(d5,{children:[d.jsxs(ju,{bgColor:"rgba(74, 144, 226, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Context Setup"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(74, 144, 226, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.6},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Instruction Execution"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(74, 144, 226, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.7},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Privilege Management"})]}),d.jsx(gp,{}),d.jsxs(ju,{bgColor:"rgba(74, 144, 226, 0.2)",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.8},children:[d.jsx(Nu,{children:""}),d.jsx(Lu,{children:"Interrupt Handling"})]})]}),d.jsxs("div",{style:{marginTop:"0.5rem"},children:[d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(74, 144, 226, 0.9)",children:"Context Setup"}),d.jsxs(fh,{children:[d.jsx(br,{children:"Loads program counter value"}),d.jsx(br,{children:"Restores register values from PCB"}),d.jsx(br,{children:"Switches to appropriate memory space"})]})]}),d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(74, 144, 226, 0.9)",children:"Instruction Execution"}),d.jsxs(fh,{children:[d.jsx(br,{children:"Fetches instructions from memory"}),d.jsx(br,{children:"Decodes each instruction"}),d.jsx(br,{children:"Executes instructions and updates registers/memory"})]})]}),d.jsxs(dh,{children:[d.jsx(hh,{color:"rgba(74, 144, 226, 0.9)",children:"Privilege & Interrupt Management"}),d.jsxs(fh,{children:[d.jsx(br,{children:"Enforces user/kernel mode boundaries"}),d.jsx(br,{children:"Responds to hardware/software interrupts"}),d.jsx(br,{children:"Saves execution state when interrupted"})]})]})]})]})]})})]})})}),MY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 1rem;
  padding-top: 0;
  gap: 1.5rem;
  align-items: center;
  justify-content: flex-start;
  position: relative;
`,h5=L.div`
  display: flex;
  width: 90%;
  max-width: 1200px;
  gap: 1.5rem;
  margin-top: 2rem;
`,f5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,p5=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
  height: fit-content;
`,m5=L.h3`
  font-size: 1.1rem;
  color: ${n=>n.color||"var(--primary)"};
  margin-bottom: 0.6rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.4rem;
`,g5=L.div`
  font-size: 0.85rem;
`,TY=()=>d.jsx(mn,{title:"The OS and the CPU",subtitle:"Hardware Features and Relationship",children:d.jsxs(MY,{children:[d.jsx(h5,{children:d.jsxs(p5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(m5,{children:"OS-CPU Relationship in Process Management"}),d.jsx(g5,{children:d.jsxs(h5,{style:{width:"100%"},children:[d.jsx(f5,{children:d.jsxs("div",{style:{border:"1px solid rgba(106, 217, 126, 0.3)",borderRadius:"8px",padding:"0.7rem",height:"auto"},children:[d.jsx("h4",{style:{fontSize:"0.95rem",color:"rgba(106, 217, 126, 0.9)",marginBottom:"0.4rem",textAlign:"center"},children:"OS Hardware Support"}),d.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",justifyContent:"center"},children:[d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.1},style:{background:"rgba(106, 217, 126, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Process Scheduling"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.2},style:{background:"rgba(106, 217, 126, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Context Switching"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.3},style:{background:"rgba(106, 217, 126, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Resource Tracking"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.4},style:{background:"rgba(106, 217, 126, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Memory Management"})]})]})]})}),d.jsx(f5,{children:d.jsxs("div",{style:{border:"1px solid rgba(74, 144, 226, 0.3)",borderRadius:"8px",padding:"0.7rem",height:"auto"},children:[d.jsx("h4",{style:{fontSize:"0.95rem",color:"rgba(74, 144, 226, 0.9)",marginBottom:"0.4rem",textAlign:"center"},children:"CPU Hardware Features"}),d.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.4rem",justifyContent:"center"},children:[d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.5},style:{background:"rgba(74, 144, 226, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"MMU (Memory Management Unit)"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.6},style:{background:"rgba(74, 144, 226, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Cache Hierarchies"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.7},style:{background:"rgba(74, 144, 226, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"Hardware Timers"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.8},style:{background:"rgba(74, 144, 226, 0.2)",padding:"0.4rem",borderRadius:"6px",width:"45%",textAlign:"center",fontSize:"0.75rem"},children:[d.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.2rem"},children:""}),d.jsx("div",{children:"System Call Instructions"})]})]})]})})]})})]})}),d.jsx("div",{style:{position:"absolute",left:"50%",transform:"translateX(-50%)",width:"60%",maxWidth:"800px",marginTop:"400px"},children:d.jsxs(p5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[d.jsx(m5,{children:"Interaction Between OS and CPU"}),d.jsx(g5,{children:d.jsxs("div",{style:{display:"flex",width:"100%",height:"auto",alignItems:"center",justifyContent:"center",gap:"1.5rem",padding:"0.5rem 0"},children:[d.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},style:{width:"28%",background:"rgba(106, 217, 126, 0.1)",border:"1px solid rgba(106, 217, 126, 0.3)",borderRadius:"8px",padding:"0.8rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[d.jsx("div",{style:{fontSize:"2.2rem",marginBottom:"0.5rem"},children:""}),d.jsx("div",{style:{fontSize:"1rem",textAlign:"center",color:"rgba(106, 217, 126, 0.9)",marginBottom:"0.3rem"},children:"Operating System"}),d.jsx("div",{style:{fontSize:"0.8rem",textAlign:"center"},children:"Manages resources and provides services"})]}),d.jsxs(gt.div,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6},style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1.5rem",width:"15%"},children:[d.jsx("div",{style:{width:"30px",height:"30px",borderTop:"2px solid rgba(255, 255, 255, 0.3)",borderRight:"2px solid rgba(255, 255, 255, 0.3)",transform:"rotate(45deg)"}}),d.jsx("div",{style:{width:"30px",height:"30px",borderBottom:"2px solid rgba(255, 255, 255, 0.3)",borderLeft:"2px solid rgba(255, 255, 255, 0.3)",transform:"rotate(45deg)"}})]}),d.jsxs(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},style:{width:"28%",background:"rgba(74, 144, 226, 0.1)",border:"1px solid rgba(74, 144, 226, 0.3)",borderRadius:"8px",padding:"0.8rem",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[d.jsx("div",{style:{fontSize:"2.2rem",marginBottom:"0.5rem"},children:""}),d.jsx("div",{style:{fontSize:"1rem",textAlign:"center",color:"rgba(74, 144, 226, 0.9)",marginBottom:"0.3rem"},children:"CPU"}),d.jsx("div",{style:{fontSize:"0.8rem",textAlign:"center"},children:"Executes instructions and processes data"})]})]})})]})})]})}),EY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: flex-start;
  padding-top: 20px;
  gap: 1rem;
`,wY=L(gt.div)`
  font-size: 1.1rem;
  color: rgba(255, 255, 255, 0.9);
  line-height: 1.4;
  max-width: 800px;
  margin: 0 auto;
`,AY=L(gt.div)`
  background: #121212;
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 1rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
  width: 70%;
  margin: 0 auto;
  position: relative;
`,CY=L.div`
  position: absolute;
  top: 10px;
  left: 10px;
  display: flex;
  gap: 6px;
`,i2=L.div`
  width: 12px;
  height: 12px;
  border-radius: 50%;
  background-color: ${n=>n.color};
`,RY=L.pre`
  margin: 0;
  padding-top: 15px;
  font-family: 'Fira Code', monospace;
  overflow: hidden;
  background: #121212;
`,DY=L.code`
  color: #f8f8f2;
  font-size: 0.95rem;
  line-height: 1.4;
`,ci=L(gt.div)`
  margin-left: ${n=>(n.indent||0)*20}px;
  color: ${n=>n.color||"inherit"};
`,wo=L.span`
  color: #ff79c6;
  font-weight: bold;
`,G0=L.span`
  color: #50fa7b;
`,e1=L.span`
  color: #6272a4;
`,X0=L.span`
  color: #f1fa8c;
`,x5=L.span`
  color: #ff5555;
  font-weight: bold;
`;L.div`
  margin-bottom: 1rem;
`;const UY=()=>d.jsx(mn,{title:"Sequential Programming",subtitle:"Default execution flow in programming languages",children:d.jsxs(EY,{children:[d.jsx(wY,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:"By default, programming languages are sequential in nature. Code execution happens line by line in the usual scenario. Consider the following Python example:"}),d.jsxs(AY,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:[d.jsxs(CY,{children:[d.jsx(i2,{color:"#ff5f56"}),d.jsx(i2,{color:"#ffbd2e"}),d.jsx(i2,{color:"#27c93f"})]}),d.jsx(RY,{children:d.jsxs(DY,{children:[d.jsxs(ci,{children:[d.jsx(wo,{children:"class"})," ",d.jsx(x5,{children:"Runner"}),":"]}),d.jsxs(ci,{indent:1,children:[d.jsx(wo,{children:"def"})," ",d.jsx(G0,{children:"main"}),"():"]}),d.jsx(ci,{indent:2,children:"init_database()"}),d.jsxs(ci,{indent:2,children:[d.jsx(x5,{children:"download_data"}),"()"]}),d.jsx(ci,{indent:2,children:"process_on_data()"}),d.jsx(ci,{indent:2,children:"show_the_results()"}),d.jsx(ci,{}),d.jsxs(ci,{indent:1,children:[d.jsx(wo,{children:"def"})," ",d.jsx(G0,{children:"init_database"}),"():"]}),d.jsx(ci,{indent:2,children:d.jsx(e1,{children:"# Initialize database connection"})}),d.jsxs(ci,{indent:2,children:[d.jsx(wo,{children:"print"}),"(",d.jsx(X0,{children:'"Initializing database..."'}),")"]}),d.jsx(ci,{indent:1}),d.jsxs(ci,{indent:1,children:[d.jsx(wo,{children:"def"})," ",d.jsx(G0,{children:"download_data"}),"():"]}),d.jsx(ci,{indent:2,children:d.jsx(e1,{children:"# Download data from server"})}),d.jsxs(ci,{indent:2,children:[d.jsx(wo,{children:"print"}),"(",d.jsx(X0,{children:'"Downloading data..."'}),")"]}),d.jsx(ci,{indent:1}),d.jsxs(ci,{indent:1,children:[d.jsx(wo,{children:"def"})," ",d.jsx(G0,{children:"process_on_data"}),"():"]}),d.jsx(ci,{indent:2,children:d.jsx(e1,{children:"# Process the downloaded data"})}),d.jsxs(ci,{indent:2,children:[d.jsx(wo,{children:"print"}),"(",d.jsx(X0,{children:'"Processing data..."'}),")"]}),d.jsx(ci,{indent:1}),d.jsxs(ci,{indent:1,children:[d.jsx(wo,{children:"def"})," ",d.jsx(G0,{children:"show_the_results"}),"():"]}),d.jsx(ci,{indent:2,children:d.jsx(e1,{children:"# Display processed results"})}),d.jsxs(ci,{indent:2,children:[d.jsx(wo,{children:"print"}),"(",d.jsx(X0,{children:'"Showing results..."'}),")"]}),d.jsx(ci,{}),d.jsxs(ci,{children:[d.jsx(wo,{children:"if"})," __name__ == ",d.jsx(X0,{children:'"__main__"'}),":"]}),d.jsx(ci,{indent:1,children:"Runner.main()"})]})})]})]})}),jY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: flex-start;
  padding-top: 30px;
  gap: 1.5rem;
`,y5=L(gt.div)`
  background: rgba(245, 245, 245, 0.95);
  border-radius: 12px;
  padding: 1.2rem 2rem;
  width: 80%;
  max-width: 800px;
  margin: 0 auto;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
`,v5=L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: linear-gradient(rgba(200, 200, 200, 0.3) 1px, transparent 1px),
    linear-gradient(90deg, rgba(200, 200, 200, 0.3) 1px, transparent 1px);
  background-size: 20px 20px;
  z-index: 1;
  pointer-events: none;
`,b5=L.h3`
  font-size: 2rem;
  font-weight: bold;
  color: ${n=>n.color};
  margin-bottom: 0.8rem;
  position: relative;
  z-index: 2;
  font-family: 'Comic Sans MS', cursive, sans-serif;
`,_5=L.p`
  font-size: 1.2rem;
  line-height: 1.4;
  color: #3a5583;
  position: relative;
  z-index: 2;
  text-align: center;
  font-family: 'Arial', sans-serif;
`;L.div`
  position: absolute;
  top: 20px;
  left: 20px;
  width: 40px;
  height: 30px;
  border: 3px solid #000;
  border-bottom: none;
  position: relative;
  z-index: 2;
  
  &:before, &:after {
    content: '';
    position: absolute;
    bottom: 0;
    border-style: solid;
  }
  
  &:before {
    left: -3px;
    border-width: 0 10px 10px 0;
    border-color: transparent #000 transparent transparent;
  }
  
  &:after {
    right: -3px;
    border-width: 0 0 10px 10px;
    border-color: transparent transparent #000 transparent;
  }
`;const LY=()=>d.jsx(mn,{title:"Sequential Programming",subtitle:"Problem & Solution",children:d.jsxs(jY,{children:[d.jsxs(y5,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(v5,{}),d.jsx(b5,{color:"#ff5555",children:"Problem"}),d.jsx(_5,{children:"In a single threaded program these instructions will be executed one by one. The time consuming sections of the code can freeze the entire application!"})]}),d.jsxs(y5,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[d.jsx(v5,{}),d.jsx(b5,{color:"#50fa7b",children:"Solution"}),d.jsx(_5,{children:"Figure out the time consuming tasks and decide if they can be run separately. If yes, run such task(s) in separate threads."})]})]})}),NY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 1rem;
  gap: 1rem;
  overflow-y: auto;
`,OY=L.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 20px;
  width: 100%;
  align-items: flex-start;
`,S5=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 10px;
  padding: 1rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  width: ${n=>n.width||"48%"};
  position: relative;
  border: 1px solid rgba(100, 120, 200, 0.3);
  overflow: hidden;
`,M5=L.h3`
  font-size: 1.4rem;
  color: var(--primary);
  margin-bottom: 0.8rem;
  font-weight: 600;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.5rem;
`,T5=L.p`
  font-size: 0.9rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.5rem;
`,n1=L.ul`
  padding-left: 1.2rem;
  margin: 0.5rem 0;
`,La=L.li`
  font-size: 0.9rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.3rem;
`,i1=L.h2`
  font-size: 1.6rem;
  color: var(--primary);
  margin: 0.5rem 0;
  text-align: center;
`,zY=L.div`
  position: relative;
  height: 180px;
  margin: 1rem 0;
`,PY=L.div`
  display: flex;
  justify-content: space-around;
  width: 100%;
  height: 100%;
`,E5=L(gt.div)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  height: 100%;
  flex: 1;
`,w5=L(gt.div)`
  width: 70px;
  height: 70px;
  background: linear-gradient(135deg, #3a7bd5, #2e4a8a);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 10px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  position: relative;
  overflow: hidden;
`,A5=L(gt.div)`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: radial-gradient(circle at 20% 30%, rgba(255, 255, 255, 0.3) 2px, transparent 2px),
                    radial-gradient(circle at 70% 40%, rgba(255, 255, 255, 0.3) 2px, transparent 2px),
                    radial-gradient(circle at 40% 70%, rgba(255, 255, 255, 0.3) 2px, transparent 2px),
                    radial-gradient(circle at 80% 60%, rgba(255, 255, 255, 0.3) 2px, transparent 2px);
  opacity: 0.6;
`,C5=L.div`
  font-size: 0.8rem;
  color: white;
  font-weight: bold;
  position: relative;
  z-index: 2;
`,a1=L(gt.div)`
  width: 50px;
  height: 20px;
  background: linear-gradient(135deg, #f83600, #fe8c00);
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 3px 0;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
`,r1=L(gt.div)`
  position: absolute;
  top: 50%;
  width: 7px;
  height: 2px;
  background: rgba(255, 255, 255, 0.7);
  border-radius: 1px;
  transform: translateY(-50%);
`,s1=L.div`
  font-size: 0.7rem;
  color: white;
  font-weight: bold;
  position: relative;
  z-index: 2;
`,R5=L(gt.div)`
  position: absolute;
  width: 100%;
  height: 3px;
  background: rgba(255, 255, 255, 0.7);
  top: 50%;
  transform: translateY(-50%);
  z-index: 1;
`,BY=L.div`
  width: 100%;
  height: 200px;
  position: relative;
  margin-top: 1rem;
`,IY=L.div`
  width: 100%;
  height: 3px;
  background: rgba(255, 255, 255, 0.5);
  position: absolute;
  top: 100px;
`,FY=L(gt.div)`
  position: absolute;
  width: 15px;
  height: 15px;
  border-radius: 50%;
  background: #ffffff;
  top: 94px;
  z-index: 5;
  box-shadow: 0 0 10px rgba(255, 255, 255, 0.8);
`,o1=L(gt.div)`
  position: absolute;
  height: 40px;
  width: 3px;
  background: rgba(255, 255, 255, 0.7);
  top: 80px;
  left: ${n=>n.left}%;
  z-index: 4;
`,q0=L(gt.div)`
  position: absolute;
  height: 30px;
  background: ${n=>n.color};
  top: 86px;
  left: ${n=>n.left}%;
  width: ${n=>n.width}%;
  border-radius: 4px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
`,Y0=L.div`
  font-size: 0.8rem;
  color: white;
  font-weight: bold;
  white-space: nowrap;
`,a2=L(gt.div)`
  position: absolute;
  left: 5px;
  top: ${n=>n.top}px;
  width: 100px;
  height: 30px;
  background: ${n=>n.color};
  opacity: 0.3;
  border-radius: 4px;
  display: flex;
  align-items: center;
  padding-left: 8px;
  font-size: 0.8rem;
  color: white;
`,r2=L(gt.div)`
  position: absolute;
  width: 100px;
  height: 30px;
  background: ${n=>n.color};
  border-radius: 4px;
  display: flex;
  align-items: center;
  padding-left: 8px;
  font-size: 0.8rem;
  color: white;
  font-weight: bold;
  box-shadow: 0 0 8px ${n=>n.color};
  z-index: 3;
`,xp=L.div`
  position: absolute;
  top: 110px;
  left: ${n=>n.position}%;
  transform: translateX(-50%);
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.7);
`,s2=L.div`
  position: absolute;
  left: 110px;
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.9);
  font-weight: bold;
`;L(gt.div)`
  position: absolute;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  font-size: 0.9rem;
  font-weight: bold;
  color: white;
  top: 0;
  z-index: 2;
`;const VY=()=>d.jsx(mn,{title:"Multi-Threading and Time Slicing",subtitle:"Concepts and Relationships",children:d.jsx(NY,{children:d.jsxs(OY,{children:[d.jsxs(S5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(M5,{children:"Multi-Threading"}),d.jsx(T5,{children:"Multi-threading is a programming concept where a single process contains multiple threads of execution that can run concurrently. Each thread represents an independent flow of control within the process."}),d.jsx(i1,{children:"Key characteristics:"}),d.jsxs(n1,{children:[d.jsx(La,{children:"Threads within a process share the same memory space and resources"}),d.jsx(La,{children:"Multiple threads can execute different parts of program code simultaneously"}),d.jsx(La,{children:"Enables parallelism on multi-core processors"}),d.jsx(La,{children:"Threads can communicate with each other directly through shared memory"})]}),d.jsx(i1,{children:"Common use cases:"}),d.jsxs(n1,{children:[d.jsx(La,{children:"Handling multiple tasks simultaneously (UI responsiveness while processing)"}),d.jsx(La,{children:"Taking advantage of multiple CPU cores"}),d.jsx(La,{children:"Background operations that shouldn't block the main program flow"}),d.jsx(La,{children:"I/O operations that have waiting periods"})]}),d.jsx(zY,{children:d.jsxs(PY,{children:[d.jsxs(E5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[d.jsxs(w5,{whileHover:{scale:1.05},animate:{boxShadow:["0 4px 8px rgba(0, 0, 0, 0.2)","0 4px 12px rgba(58, 123, 213, 0.4)","0 4px 8px rgba(0, 0, 0, 0.2)"]},transition:{duration:2,repeat:1/0},children:[d.jsx(A5,{animate:{opacity:[.4,.7,.4]},transition:{duration:3,repeat:1/0}}),d.jsx(C5,{children:"Core 1"}),d.jsx(R5,{animate:{opacity:[0,1,0],width:["0%","100%","0%"]},transition:{duration:1,repeat:1/0,repeatType:"loop"}})]}),d.jsxs(a1,{initial:{x:-50},animate:{x:0,y:[0,-3,0],boxShadow:["0 2px 4px rgba(0, 0, 0, 0.2)","0 4px 8px rgba(248, 54, 0, 0.4)","0 2px 4px rgba(0, 0, 0, 0.2)"]},transition:{x:{duration:.5,delay:.8},y:{duration:1.5,repeat:1/0,repeatType:"mirror"},boxShadow:{duration:2,repeat:1/0}},children:[d.jsx(s1,{children:"T1"}),Array.from({length:4}).map((n,t)=>d.jsx(r1,{style:{left:`${t*10+10}px`},animate:{width:["5px","12px","5px"],opacity:[.4,.8,.4]},transition:{duration:.7+t*.2,delay:t*.1,repeat:1/0,repeatType:"mirror"}},t))]}),d.jsxs(a1,{initial:{x:-50},animate:{x:0,y:[0,3,0],boxShadow:["0 2px 4px rgba(0, 0, 0, 0.2)","0 4px 8px rgba(248, 54, 0, 0.4)","0 2px 4px rgba(0, 0, 0, 0.2)"]},transition:{x:{duration:.5,delay:1},y:{duration:1.7,repeat:1/0,repeatType:"mirror"},boxShadow:{duration:2.2,repeat:1/0}},children:[d.jsx(s1,{children:"T2"}),Array.from({length:4}).map((n,t)=>d.jsx(r1,{style:{left:`${t*10+10}px`},animate:{width:["7px","10px","7px"],opacity:[.5,.9,.5]},transition:{duration:.8+t*.15,delay:t*.15,repeat:1/0,repeatType:"mirror"}},t))]})]}),d.jsxs(E5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[d.jsxs(w5,{whileHover:{scale:1.05},animate:{boxShadow:["0 4px 8px rgba(0, 0, 0, 0.2)","0 4px 12px rgba(58, 123, 213, 0.4)","0 4px 8px rgba(0, 0, 0, 0.2)"]},transition:{duration:2,repeat:1/0,delay:.5},children:[d.jsx(A5,{animate:{opacity:[.5,.8,.5]},transition:{duration:2.5,repeat:1/0,delay:.2}}),d.jsx(C5,{children:"Core 2"}),d.jsx(R5,{animate:{opacity:[0,1,0],width:["0%","100%","0%"]},transition:{duration:1.2,repeat:1/0,repeatType:"loop",delay:.3}})]}),d.jsxs(a1,{initial:{x:50},animate:{x:0,y:[0,-4,0],boxShadow:["0 2px 4px rgba(0, 0, 0, 0.2)","0 4px 8px rgba(248, 54, 0, 0.4)","0 2px 4px rgba(0, 0, 0, 0.2)"]},transition:{x:{duration:.5,delay:.9},y:{duration:1.3,repeat:1/0,repeatType:"mirror"},boxShadow:{duration:1.8,repeat:1/0}},children:[d.jsx(s1,{children:"T3"}),Array.from({length:4}).map((n,t)=>d.jsx(r1,{style:{left:`${t*10+10}px`},animate:{width:["4px","8px","4px"],opacity:[.3,.7,.3]},transition:{duration:.6+t*.25,delay:t*.12,repeat:1/0,repeatType:"mirror"}},t))]}),d.jsxs(a1,{initial:{x:50},animate:{x:0,y:[0,2,0],boxShadow:["0 2px 4px rgba(0, 0, 0, 0.2)","0 4px 8px rgba(248, 54, 0, 0.4)","0 2px 4px rgba(0, 0, 0, 0.2)"]},transition:{x:{duration:.5,delay:1.1},y:{duration:1.6,repeat:1/0,repeatType:"mirror"},boxShadow:{duration:2.1,repeat:1/0,delay:.2}},children:[d.jsx(s1,{children:"T4"}),Array.from({length:4}).map((n,t)=>d.jsx(r1,{style:{left:`${t*10+10}px`},animate:{width:["6px","9px","6px"],opacity:[.4,.8,.4]},transition:{duration:.7+t*.18,delay:t*.13,repeat:1/0,repeatType:"mirror"}},t))]})]})]})})]}),d.jsxs(S5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[d.jsx(M5,{children:"Time Slicing"}),d.jsx(T5,{children:"Time slicing is a CPU scheduling technique that allows multiple processes or threads to share a single CPU by allocating time slots to each task."}),d.jsx(i1,{children:"How it works:"}),d.jsxs(n1,{children:[d.jsx(La,{children:"The CPU executes a process/thread for a small time interval (time quantum)"}),d.jsx(La,{children:"When the time quantum expires, the current task is suspended"}),d.jsx(La,{children:"The CPU context (registers, program counter) is saved"}),d.jsx(La,{children:"The CPU switches to another waiting task"}),d.jsx(La,{children:"The process repeats, creating the illusion of parallelism"})]}),d.jsx(i1,{children:"Key aspects:"}),d.jsxs(n1,{children:[d.jsx(La,{children:"Managed by the operating system scheduler"}),d.jsx(La,{children:"Creates the appearance of simultaneous execution even on a single core"}),d.jsx(La,{children:"Shorter time slices make switching more frequent (more responsive but higher overhead)"}),d.jsx(La,{children:"Longer time slices reduce overhead but may delay task response"})]}),d.jsxs(BY,{children:[d.jsx(IY,{}),d.jsx(xp,{position:0,children:"0ms"}),d.jsx(xp,{position:20,children:"100ms"}),d.jsx(xp,{position:40,children:"200ms"}),d.jsx(xp,{position:60,children:"300ms"}),d.jsx(xp,{position:80,children:"400ms"}),d.jsx(xp,{position:100,children:"500ms"}),d.jsx(a2,{color:"rgba(235, 87, 87, 0.5)",top:20,children:"Thread 1"}),d.jsx(s2,{style:{top:"20px"},children:"Ready/Waiting"}),d.jsx(a2,{color:"rgba(106, 130, 251, 0.5)",top:60,children:"Thread 2"}),d.jsx(s2,{style:{top:"60px"},children:"Ready/Waiting"}),d.jsx(a2,{color:"rgba(69, 178, 107, 0.5)",top:140,children:"Thread 3"}),d.jsx(s2,{style:{top:"140px"},children:"Ready/Waiting"}),d.jsx(o1,{left:20,initial:{height:0},animate:{height:40},transition:{duration:.3,delay:3}}),d.jsx(o1,{left:40,initial:{height:0},animate:{height:40},transition:{duration:.3,delay:7}}),d.jsx(o1,{left:60,initial:{height:0},animate:{height:40},transition:{duration:.3,delay:11}}),d.jsx(o1,{left:80,initial:{height:0},animate:{height:40},transition:{duration:.3,delay:15}}),d.jsx(q0,{color:"rgba(235, 87, 87, 0.8)",left:0,width:20,initial:{scaleY:0},animate:{scaleY:1,filter:["brightness(100%)","brightness(120%)","brightness(100%)"]},transition:{scaleY:{duration:.5,delay:1},filter:{duration:2,repeat:1/0,repeatType:"mirror"}},children:d.jsx(Y0,{children:"Thread 1 (20ms)"})}),d.jsx(q0,{color:"rgba(106, 130, 251, 0.8)",left:20,width:20,initial:{scaleY:0},animate:{scaleY:1,filter:["brightness(100%)","brightness(120%)","brightness(100%)"]},transition:{scaleY:{duration:.5,delay:3.5},filter:{duration:2.2,repeat:1/0,repeatType:"mirror"}},children:d.jsx(Y0,{children:"Thread 2 (20ms)"})}),d.jsx(q0,{color:"rgba(69, 178, 107, 0.8)",left:40,width:20,initial:{scaleY:0},animate:{scaleY:1,filter:["brightness(100%)","brightness(120%)","brightness(100%)"]},transition:{scaleY:{duration:.5,delay:7.5},filter:{duration:1.8,repeat:1/0,repeatType:"mirror"}},children:d.jsx(Y0,{children:"Thread 3 (20ms)"})}),d.jsx(q0,{color:"rgba(235, 87, 87, 0.8)",left:60,width:20,initial:{scaleY:0},animate:{scaleY:1,filter:["brightness(100%)","brightness(120%)","brightness(100%)"]},transition:{scaleY:{duration:.5,delay:11.5},filter:{duration:1.9,repeat:1/0,repeatType:"mirror"}},children:d.jsx(Y0,{children:"Thread 1 (20ms)"})}),d.jsx(q0,{color:"rgba(106, 130, 251, 0.8)",left:80,width:20,initial:{scaleY:0},animate:{scaleY:1,filter:["brightness(100%)","brightness(120%)","brightness(100%)"]},transition:{scaleY:{duration:.5,delay:15.5},filter:{duration:2.1,repeat:1/0,repeatType:"mirror"}},children:d.jsx(Y0,{children:"Thread 2 (20ms)"})}),d.jsx(r2,{color:"rgba(235, 87, 87, 1)",animate:{top:["20px","20px","100px","100px","20px","20px","100px","100px","20px"],left:["5px","5px","5px","5px","5px","5px","5px","5px","5px"],opacity:[0,1,0,0,0,1,0,0,0]},transition:{duration:19,times:[0,.15,.16,.57,.58,.73,.74,1,1],repeat:1/0},children:"Thread 1 (Running)"}),d.jsx(r2,{color:"rgba(106, 130, 251, 1)",animate:{top:["60px","60px","100px","100px","60px","60px","100px","100px","60px"],left:["5px","5px","5px","5px","5px","5px","5px","5px","5px"],opacity:[0,0,0,1,0,0,0,1,0]},transition:{duration:19,times:[0,.15,.16,.36,.37,.78,.79,.99,1],repeat:1/0},children:"Thread 2 (Running)"}),d.jsx(r2,{color:"rgba(69, 178, 107, 1)",animate:{top:["140px","140px","100px","100px","140px"],left:["5px","5px","5px","5px","5px"],opacity:[0,0,0,1,0]},transition:{duration:19,times:[0,.36,.37,.57,.58],repeat:1/0},children:"Thread 3 (Running)"}),d.jsx(FY,{animate:{left:["0%","100%"],scale:[1,1.2,1],opacity:[.7,1,.7]},transition:{left:{duration:19,repeat:1/0},scale:{duration:2,repeat:1/0,repeatType:"mirror"},opacity:{duration:2,repeat:1/0,repeatType:"mirror"}}})]})]})]})})}),HY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding-top: 0.5rem;
  padding-left: 2rem;
  padding-right: 2rem;
  padding-bottom: 1rem;
  align-items: center;
`,kY=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  width: 85%;
  max-width: 900px;
  position: relative;
  border: 1px solid rgba(100, 120, 200, 0.3);
  overflow: hidden;
`,GY=L.h2`
  font-size: 2.2rem;
  color: var(--primary);
  margin-bottom: 1.5rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.8rem;
`,XY=L.ul`
  padding-left: 2rem;
  margin: 1.5rem 0;
`,l1=L(gt.li)`
  font-size: 1.2rem;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 1rem;
  position: relative;
  
  &:before {
    content: '';
    position: absolute;
    left: -1.5rem;
    top: 0.5rem;
    width: 0.8rem;
    height: 0.8rem;
    background: var(--primary);
    border-radius: 50%;
  }
`,qY=L(gt.p)`
  font-size: 1.2rem;
  line-height: 1.6;
  color: rgba(255, 255, 255, 0.9);
  margin: 1rem 0;
  text-align: center;
  font-style: italic;
`,YY=L.div`
  display: flex;
  justify-content: center;
  margin-top: 2rem;
  width: 100%;
`,D5=L(gt.div)`
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  margin: 0 2rem;
`,U5=L.div`
  font-size: 1rem;
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-weight: bold;
`,o2=L.div`
  width: 100px;
  height: 100px;
  background: linear-gradient(135deg, #3a7bd5, #2e4a8a);
  border-radius: 12px;
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  padding: 0.5rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
`,c1=L(gt.div)`
  width: 40px;
  height: 40px;
  background: ${n=>n.color};
  border-radius: 50%;
  margin: 0.25rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  color: white;
  font-size: 0.8rem;
`,WY=L(gt.div)`
  position: absolute;
  top: 110px;
  left: 70px;
  width: 400px;
  height: 2px;
  background: rgba(255, 255, 255, 0.5);
  transform-origin: left center;
  
  &:after {
    content: '';
    position: absolute;
    right: 0;
    top: -4px;
    width: 0;
    height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: 10px solid rgba(255, 255, 255, 0.5);
  }
`,ZY=()=>d.jsx(mn,{title:"Time Slicing",subtitle:"Relationship with Multi-Threading",children:d.jsx(HY,{children:d.jsxs(kY,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx(GY,{children:"Relationship Between Time Slicing & Multi-Threading"}),d.jsxs(XY,{children:[d.jsx(l1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:"On a single-core CPU, multi-threading uses time slicing to create the illusion of parallelism"}),d.jsx(l1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:"On multi-core CPUs, threads can truly run in parallel on different cores"}),d.jsx(l1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:"Time slicing is still used when there are more active threads than available CPU cores"}),d.jsx(l1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.9},children:"Modern operating systems use sophisticated scheduling algorithms that go beyond simple time slicing"})]}),d.jsx(qY,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.1},children:"Time slicing makes multi-threading efficient even on limited hardware by ensuring all threads get execution time, creating responsive applications even without true parallelism."}),d.jsxs(YY,{children:[d.jsxs(D5,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.3},children:[d.jsx(U5,{children:"Single Core CPU"}),d.jsxs(o2,{children:[d.jsx(c1,{color:"rgba(235, 87, 87, 0.8)",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.5,delay:1.4},children:"T1"}),d.jsx(c1,{color:"rgba(106, 130, 251, 0.8)",initial:{opacity:.3},animate:{opacity:.3},children:"T2"})]}),d.jsx(WY,{initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.8,delay:1.8}})]}),d.jsxs(D5,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.5},children:[d.jsx(U5,{children:"Multi-Core CPU"}),d.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[d.jsx(o2,{children:d.jsx(c1,{color:"rgba(235, 87, 87, 0.8)",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.5,delay:1.6},children:"T1"})}),d.jsx(o2,{children:d.jsx(c1,{color:"rgba(106, 130, 251, 0.8)",initial:{scale:0},animate:{scale:[0,1.2,1]},transition:{duration:.5,delay:1.7},children:"T2"})})]})]})]})]})})}),KY=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 1.5rem;
  padding: 1rem;
`,QY=L.h2`
  font-size: 1.8rem;
  color: var(--primary);
  margin-bottom: 1rem;
  font-weight: 600;
  text-align: center;
`,JY=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 100%;
  height: 80%;
  display: flex;
  flex-direction: column;
`,$Y=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  flex: 1;
  position: relative;
  gap: 1.5rem;
  margin-top: 2rem;
  padding-left: 0;
`,l2=L.div`
  height: 3rem;
  position: relative;
  display: flex;
  align-items: center;
  margin-bottom: 0.5rem;
`;L.div`
  position: absolute;
  left: -6rem;
  width: 6rem;
  color: white;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border-radius: 50%;
    background-color: ${n=>n.color};
  }
`;const yp=L(gt.div)`
  height: 2.5rem;
  background: ${n=>`linear-gradient(135deg, ${n.color}90, ${n.color}50)`};
  border: 2px solid ${n=>n.color};
  border-radius: 6px;
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  color: white;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,tW=L.div`
  width: 1px;
  height: 100%;
  background: rgba(255, 255, 255, 0.3);
  position: absolute;
`,eW=L.div`
  position: absolute;
  bottom: -1.5rem;
  transform: translateX(-50%);
  color: rgba(255, 255, 255, 0.7);
  font-size: 0.8rem;
`,nW=L.div`
  position: relative;
  width: 100%;
  height: 1px;
  background: rgba(255, 255, 255, 0.5);
  margin-top: 2rem;
`,iW=L.div`
  display: flex;
  justify-content: space-around;
  margin-top: 4rem;
  padding: 1rem;
  border-top: 1px solid rgba(255, 255, 255, 0.2);
`,c2=L.div`
  display: flex;
  align-items: center;
  gap: 0.5rem;
  color: white;
  
  &::before {
    content: '';
    display: inline-block;
    width: 1rem;
    height: 1rem;
    border-radius: 4px;
    background-color: ${n=>n.color};
  }
`,aW=()=>{const n=[];for(let t=0;t<=10;t++){const e=t*10;n.push(d.jsxs(Er.Fragment,{children:[d.jsx(tW,{style:{left:`${e}%`}}),d.jsxs(eW,{style:{left:`${e}%`},children:[t*100,"ms"]})]},t))}return d.jsx(mn,{title:"Time Slicing Visualization",subtitle:"How threads share CPU time",children:d.jsx(KY,{children:d.jsxs(JY,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx(QY,{children:"CPU Time Allocation with Time Slicing"}),d.jsxs($Y,{children:[d.jsxs(l2,{children:[d.jsx(yp,{color:"#FF6B6B",style:{left:"0%",width:"15%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.1},children:"Execute"}),d.jsx(yp,{color:"#FF6B6B",style:{left:"40%",width:"20%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.5},children:"Execute"}),d.jsx(yp,{color:"#FF6B6B",style:{left:"75%",width:"15%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.9},children:"Execute"})]}),d.jsxs(l2,{children:[d.jsx(yp,{color:"#4D96FF",style:{left:"15%",width:"25%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.2},children:"Execute"}),d.jsx(yp,{color:"#4D96FF",style:{left:"60%",width:"15%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.7},children:"Execute"})]}),d.jsx(l2,{children:d.jsx(yp,{color:"#6BCB77",style:{left:"90%",width:"10%"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:1},children:"Execute"})}),d.jsx(nW,{children:n})]}),d.jsxs(iW,{children:[d.jsx(c2,{color:"#FF6B6B",children:"Thread 1: User Interface"}),d.jsx(c2,{color:"#4D96FF",children:"Thread 2: Data Processing"}),d.jsx(c2,{color:"#6BCB77",children:"Thread 3: Network I/O"})]})]})})})},rW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 1.5rem;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -2rem;
`,sW=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.8rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 80%;
  max-width: 800px;
`,oW=L.h2`
  font-size: 1.8rem;
  color: var(--primary);
  margin-bottom: 1.2rem;
  font-weight: 600;
  text-align: center;
`,lW=L.ul`
  list-style-type: none;
  padding: 0;
  margin: 0;
`,W0=L(gt.li)`
  color: white;
  margin-bottom: 1rem;
  padding: 0.8rem;
  border-radius: 8px;
  border-left: 4px solid var(--secondary);
  background: rgba(0, 0, 0, 0.3);
  font-size: 1.1rem;
  display: flex;
  align-items: center;
  
  &:before {
    content: "";
    color: var(--secondary);
    font-size: 1.4rem;
    margin-right: 0.8rem;
  }
`,cW=L.div`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 8px;
  padding: 1.2rem;
  border-top: 1px solid rgba(255, 255, 255, 0.1);
  margin-top: 1.5rem;
  
  p {
    color: rgba(255, 255, 255, 0.8);
    font-size: 1rem;
    line-height: 1.5;
    margin-bottom: 0.8rem;
    
    &:last-child {
      margin-bottom: 0;
    }
  }
`,uW=()=>d.jsx(mn,{title:"Time Slicing Key Points",subtitle:"Understanding how CPU time is shared",children:d.jsx(rW,{children:d.jsxs(sW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx(oW,{children:"Time Slicing in Multi-Threading"}),d.jsxs(lW,{children:[d.jsx(W0,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.1},children:"CPU switches rapidly between threads (context switching)"}),d.jsx(W0,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:'Each thread receives a "time slice" or "quantum"'}),d.jsx(W0,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:"Threads appear to run simultaneously to users"}),d.jsx(W0,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:"Scheduling algorithm determines time allocation"}),d.jsx(W0,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:"Overhead occurs during context switching"})]}),d.jsxs(cW,{children:[d.jsx("p",{children:"Modern operating systems use sophisticated scheduling algorithms to balance execution time between threads. These algorithms consider factors like thread priority, CPU usage history, and waiting time to optimize system performance."}),d.jsx("p",{children:"While context switching creates the illusion of parallel execution, each physical CPU core can only execute one thread at a time."})]})]})})}),dW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -1.5rem;
`,hW=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 80%;
  max-width: 850px;
`,fW=L.div`
  margin-bottom: 1.2rem;
  text-align: center;
`,pW=L.h2`
  font-size: 1.7rem;
  color: var(--primary);
  margin-bottom: 0.3rem;
  font-weight: 600;
  text-align: center;
  background: linear-gradient(45deg, var(--primary), var(--secondary));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
`,mW=L.div`
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
`,u2=L(gt.div)`
  display: flex;
  align-items: flex-start;
  gap: 1rem;
`,d2=L(gt.div)`
  min-width: 45px;
  height: 45px;
  border-radius: 50%;
  background: linear-gradient(135deg, var(--secondary), var(--primary));
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-size: 1.3rem;
  font-weight: bold;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,h2=L.div`
  flex: 1;
`,f2=L.h3`
  font-size: 1.2rem;
  color: white;
  margin-bottom: 0.4rem;
  font-weight: 600;
`,p2=L.p`
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.95rem;
  line-height: 1.4;
`,gW=L(gt.div)`
  margin-top: 1.5rem;
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  padding: 1rem;
  border-left: 4px solid var(--accent);
`,xW=L.h3`
  font-size: 1.2rem;
  color: var(--accent);
  margin-bottom: 0.5rem;
`,yW=L.p`
  color: rgba(255, 255, 255, 0.9);
  font-size: 0.95rem;
  line-height: 1.4;
`,vW=()=>d.jsx(mn,{title:"Benefits of Multi-Threading",subtitle:"Why threads are essential in modern applications",children:d.jsx(dW,{children:d.jsxs(hW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx(fW,{children:d.jsx(pW,{children:"Advantages of Using Threads"})}),d.jsxs(mW,{children:[d.jsxs(u2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[d.jsx(d2,{initial:{scale:0},animate:{scale:1,rotate:360},transition:{duration:.5,delay:.3},children:"1"}),d.jsxs(h2,{children:[d.jsx(f2,{children:"Improved Performance & Responsiveness"}),d.jsx(p2,{children:"Multi-threaded applications execute faster by utilizing CPU cores efficiently. Tasks can run in parallel, leading to performance gains. UI operations remain responsive on separate threads from intensive tasks."})]})]}),d.jsxs(u2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[d.jsx(d2,{initial:{scale:0},animate:{scale:1,rotate:360},transition:{duration:.5,delay:.5},children:"2"}),d.jsxs(h2,{children:[d.jsx(f2,{children:"Faster Context Switching"}),d.jsx(p2,{children:"Context switching between threads is significantly faster than between processes. Threads share memory space, allowing the OS to switch between them with minimal overhead for more efficient CPU utilization."})]})]}),d.jsxs(u2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:[d.jsx(d2,{initial:{scale:0},animate:{scale:1,rotate:360},transition:{duration:.5,delay:.7},children:"3"}),d.jsxs(h2,{children:[d.jsx(f2,{children:"Resource Optimization"}),d.jsx(p2,{children:"Threads share memory space and resources of their parent process, making them lightweight and efficient compared to multiple processes. This results in lower memory usage and better system resource utilization."})]})]})]}),d.jsxs(gW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:[d.jsx(xW,{children:"When Threads Are Absolutely Necessary"}),d.jsx(yW,{children:"Some applications fundamentally require multi-threading. Real-time systems like video games, multimedia software, and trading platforms need concurrent processing. Web browsers use multiple threads for rendering, JavaScript, and network requests. Without multi-threading, these apps would experience poor performance and lag."})]})]})})}),bW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -1rem;
`,_W=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 14px;
  padding: 1.5rem;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 2px solid rgba(100, 120, 200, 0.4);
  width: 98%;
  max-width: 1300px;
  display: flex;
  flex-direction: column;
`;L.h2`
  font-size: 2rem;
  color: var(--primary);
  margin-bottom: 0.8rem;
  font-weight: 600;
  text-align: center;
`;const SW=L.div`
  display: flex;
  flex-direction: row;
  gap: 2rem;
  height: 100%;
  width: 100%;
`,MW=L(gt.div)`
  background: rgba(0, 0, 0, 0.2);
  border-radius: 10px;
  padding: 1.2rem;
  border-left: 5px solid var(--accent);
  color: rgba(255, 255, 255, 0.95);
  font-size: 1.05rem;
  line-height: 1.5;
  width: 32%;
  align-self: stretch;
  flex-shrink: 0;
`,j5=L.span`
  color: var(--accent);
  font-weight: 600;
`,TW=L(gt.div)`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 68%;
  position: relative;
`,EW=L.div`
  border: 3px solid var(--primary);
  border-radius: 10px;
  background: rgba(30, 40, 70, 0.7);
  padding: 1.3rem;
  width: 100%;
  position: relative;
`,wW=L.div`
  position: absolute;
  top: -12px;
  left: 20px;
  background: rgba(25, 35, 60, 1);
  padding: 0 12px;
  color: var(--primary);
  font-weight: 600;
  font-size: 1.1rem;
`,AW=L.div`
  background: rgba(60, 120, 180, 0.3);
  border: 1px solid rgba(60, 120, 180, 0.6);
  border-radius: 8px;
  padding: 1rem;
  margin-bottom: 1.2rem;
`,CW=L.h3`
  color: rgba(100, 180, 255, 0.9);
  font-size: 1.2rem;
  margin-bottom: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: rgba(100, 180, 255, 0.9);
  }
`,RW=L.div`
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  gap: 0.8rem;
`,Z0=L(gt.div)`
  background: rgba(40, 70, 100, 0.7);
  border-radius: 6px;
  padding: 0.6rem 0.9rem;
  color: white;
  font-size: 0.95rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,DW=L.div`
  display: flex;
  justify-content: space-around;
  gap: 1rem;
`,m2=L(gt.div)`
  background: rgba(90, 50, 120, 0.3);
  border: 1px solid rgba(140, 80, 200, 0.6);
  border-radius: 8px;
  padding: 0.9rem;
  flex: 1;
  position: relative;
`,g2=L.h3`
  color: rgba(180, 130, 230, 0.9);
  font-size: 1.1rem;
  margin-bottom: 0.7rem;
  font-weight: 600;
  text-align: center;
`,x2=L.div`
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
`,_r=L.div`
  background: rgba(60, 30, 80, 0.7);
  border-radius: 6px;
  padding: 0.5rem 0.7rem;
  color: white;
  font-size: 0.9rem;
  display: flex;
  align-items: center;
  gap: 0.5rem;
`,Ki=L.span`
  display: inline-flex;
  justify-content: center;
  align-items: center;
  width: 1.2rem;
  height: 1.2rem;
  font-size: 1rem;
`,UW=()=>d.jsx(mn,{title:"How Do We Actually Work With Threads?",subtitle:"Understanding thread components and shared resources",children:d.jsx(bW,{children:d.jsx(_W,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(SW,{children:[d.jsxs(MW,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.7,delay:.2},children:[d.jsxs("p",{children:["Working with threads requires understanding what resources are ",d.jsx(j5,{children:"shared"})," versus what each thread maintains ",d.jsx(j5,{children:"separately"}),". Threads within the same process share the process's address space, global variables, and open files, allowing for efficient communication and resource sharing."]}),d.jsx("p",{children:"However, each thread has its own execution context including a program counter, registers, stack, Processor Status Word (PSW), and thread-local data. This separation allows threads to execute independently while still operating within the same process environment."})]}),d.jsx(TW,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:.4},children:d.jsxs(EW,{children:[d.jsx(wW,{children:"Process"}),d.jsxs(AW,{children:[d.jsx(CW,{children:"Shared Among All Threads"}),d.jsxs(RW,{children:[d.jsxs(Z0,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.5},children:[d.jsx(Ki,{children:""})," Address Space"]}),d.jsxs(Z0,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.6},children:[d.jsx(Ki,{children:""})," Global Variables"]}),d.jsxs(Z0,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.7},children:[d.jsx(Ki,{children:""})," Open Files"]}),d.jsxs(Z0,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.8},children:[d.jsx(Ki,{children:""})," Sockets"]}),d.jsxs(Z0,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{duration:.3,delay:.9},children:[d.jsx(Ki,{children:""})," Semaphores"]})]})]}),d.jsxs(DW,{children:[d.jsxs(m2,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:.9},children:[d.jsx(g2,{children:"Thread 1"}),d.jsxs(x2,{children:[d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Program Counter"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Registers"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Stack"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Thread-Local Data"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," PSW"]})]})]}),d.jsxs(m2,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:1},children:[d.jsx(g2,{children:"Thread 2"}),d.jsxs(x2,{children:[d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Program Counter"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Registers"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Stack"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Thread-Local Data"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," PSW"]})]})]}),d.jsxs(m2,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.3,delay:1.1},children:[d.jsx(g2,{children:"Thread 3"}),d.jsxs(x2,{children:[d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Program Counter"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Registers"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Stack"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," Thread-Local Data"]}),d.jsxs(_r,{children:[d.jsx(Ki,{children:""})," PSW"]})]})]})]})]})})]})})})}),jW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 90%; /* Reduced height to avoid scrolling */
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -0.8rem; /* Adjusted to move content up slightly */
`,LW=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 16px;
  padding: 1.2rem; /* Reduced padding to save space */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(100, 120, 200, 0.4);
  width: 100%;
  max-width: 1400px;
  display: flex;
  flex-direction: column;
`,NW=L.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  transform: translateX(-6px); /* Move 6px to the left */
`,L5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,N5=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem; /* Reduced margin */
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  transform: translateX(-20px); /* Move section titles further left */
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,OW=L.div`
  display: flex;
  flex-direction: column;
  gap: 0.8rem; /* Reduced gap */
`,y2=L(gt.div)`
  background: rgba(30, 40, 70, 0.7);
  border-radius: 10px;
  padding: 1rem;
  display: flex;
  border: 1px solid rgba(100, 120, 200, 0.3);
`,v2=L.div`
  width: 140px;
  height: 95px;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  margin-right: 1rem;
`,b2=L.div`
  flex: 1;
`,_2=L.h4`
  font-size: 1.2rem;
  color: var(--primary);
  margin-bottom: 0.5rem;
  font-weight: 600;
`,S2=L.p`
  font-size: 1rem;
  line-height: 1.4;
  color: white; /* Changed to full white */
`,zW=L.div`
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 0.8rem; /* Reduced gap */
`,u1=L(gt.div)`
  background: rgba(40, 50, 90, 0.7);
  border-radius: 10px;
  padding: 1rem;
  border: 1px solid rgba(100, 120, 200, 0.3);
  display: flex;
  align-items: center;
  gap: 0.8rem;
`,d1=L.div`
  width: 40px;
  height: 40px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 1.5rem;
  color: var(--accent);
  flex-shrink: 0;
`,h1=L.div`
  flex: 1;
`,f1=L.h4`
  font-size: 1.1rem;
  color: var(--primary);
  margin-bottom: 0.4rem;
  font-weight: 600;
`,p1=L.p`
  font-size: 0.9rem;
  line-height: 1.4;
  color: white; /* Changed to full white */
`,PW=L.p`
  color: white; /* Changed to full white */
  font-size: 1rem; /* Slightly smaller */
  line-height: 1.4;
  margin-bottom: 0.8rem; /* Reduced margin */
`,BW=()=>d.jsxs("svg",{width:"120",height:"90",viewBox:"0 0 120 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"5",y:"5",width:"110",height:"75",rx:"4",fill:"rgba(60, 80, 170, 0.3)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"60",y:"20",fontSize:"10",textAnchor:"middle",fill:"white",children:"User Space"}),d.jsx("rect",{x:"12",y:"25",width:"96",height:"25",rx:"3",fill:"rgba(80, 100, 200, 0.4)",stroke:"#7090E0",strokeWidth:"1.5"}),d.jsx("text",{x:"60",y:"40",fontSize:"9",textAnchor:"middle",fill:"white",children:"Thread Library"}),d.jsx("circle",{cx:"30",cy:"62",r:"6",fill:"#FF9966"}),d.jsx("circle",{cx:"50",cy:"62",r:"6",fill:"#66CCFF"}),d.jsx("circle",{cx:"70",cy:"62",r:"6",fill:"#99FF99"}),d.jsx("circle",{cx:"90",cy:"62",r:"6",fill:"#FFCC66"}),d.jsx("text",{x:"60",y:"78",fontSize:"9",textAnchor:"middle",fill:"white",children:"User-Level Threads"})]}),IW=()=>d.jsxs("svg",{width:"120",height:"90",viewBox:"0 0 120 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"5",y:"5",width:"110",height:"30",rx:"4",fill:"rgba(60, 80, 170, 0.3)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"60",y:"25",fontSize:"10",textAnchor:"middle",fill:"white",children:"User Space"}),d.jsx("rect",{x:"5",y:"35",width:"110",height:"50",rx:"4",fill:"rgba(40, 60, 100, 0.5)",stroke:"#5070B0",strokeWidth:"2"}),d.jsx("text",{x:"60",y:"48",fontSize:"10",textAnchor:"middle",fill:"white",children:"Kernel Space"}),d.jsx("circle",{cx:"30",cy:"65",r:"6",fill:"#FF9966"}),d.jsx("circle",{cx:"50",cy:"65",r:"6",fill:"#66CCFF"}),d.jsx("circle",{cx:"70",cy:"65",r:"6",fill:"#99FF99"}),d.jsx("circle",{cx:"90",cy:"65",r:"6",fill:"#FFCC66"}),d.jsx("text",{x:"60",y:"80",fontSize:"9",textAnchor:"middle",fill:"white",children:"Kernel Threads"})]}),FW=()=>d.jsxs("svg",{width:"120",height:"90",viewBox:"0 0 120 90",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"5",y:"5",width:"110",height:"40",rx:"4",fill:"rgba(60, 80, 170, 0.3)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"60",y:"18",fontSize:"10",textAnchor:"middle",fill:"white",children:"User Space"}),d.jsx("circle",{cx:"25",cy:"28",r:"5",fill:"#FF9966"}),d.jsx("circle",{cx:"40",cy:"28",r:"5",fill:"#66CCFF"}),d.jsx("circle",{cx:"55",cy:"28",r:"5",fill:"#FFCC66"}),d.jsx("circle",{cx:"75",cy:"28",r:"5",fill:"#99FF99"}),d.jsx("circle",{cx:"90",cy:"28",r:"5",fill:"#FF99CC"}),d.jsx("circle",{cx:"105",cy:"28",r:"5",fill:"#99CCFF"}),d.jsx("text",{x:"60",y:"40",fontSize:"8",textAnchor:"middle",fill:"white",children:"User Threads"}),d.jsx("rect",{x:"5",y:"45",width:"110",height:"40",rx:"4",fill:"rgba(40, 60, 100, 0.5)",stroke:"#5070B0",strokeWidth:"2"}),d.jsx("text",{x:"60",y:"57",fontSize:"10",textAnchor:"middle",fill:"white",children:"Kernel Space"}),d.jsx("circle",{cx:"35",cy:"72",r:"6",fill:"#FF9966"}),d.jsx("circle",{cx:"60",cy:"72",r:"6",fill:"#66CCFF"}),d.jsx("circle",{cx:"85",cy:"72",r:"6",fill:"#99FF99"}),d.jsx("text",{x:"60",y:"85",fontSize:"8",textAnchor:"middle",fill:"white",children:"Kernel Threads"}),d.jsx("line",{x1:"25",y1:"33",x2:"35",y2:"66",stroke:"#FF9966",strokeWidth:"1.5",strokeDasharray:"2,1"}),d.jsx("line",{x1:"40",y1:"33",x2:"35",y2:"66",stroke:"#66CCFF",strokeWidth:"1.5",strokeDasharray:"2,1"}),d.jsx("line",{x1:"55",y1:"33",x2:"35",y2:"66",stroke:"#FFCC66",strokeWidth:"1.5",strokeDasharray:"2,1"}),d.jsx("line",{x1:"75",y1:"33",x2:"60",y2:"66",stroke:"#99FF99",strokeWidth:"1.5",strokeDasharray:"2,1"}),d.jsx("line",{x1:"90",y1:"33",x2:"85",y2:"66",stroke:"#FF99CC",strokeWidth:"1.5",strokeDasharray:"2,1"}),d.jsx("line",{x1:"105",y1:"33",x2:"85",y2:"66",stroke:"#99CCFF",strokeWidth:"1.5",strokeDasharray:"2,1"})]}),VW=()=>d.jsx(mn,{title:"Multi-threading Modes and Thread Operations",children:d.jsx(jW,{children:d.jsxs(LW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx(PW,{children:"Different multi-threading implementations balance performance, resource usage, and parallelism through various threading models. Each model offers distinct advantages and trade-offs in how threads are created and managed."}),d.jsxs(NW,{children:[d.jsxs(L5,{children:[d.jsx(N5,{children:"Threading Models"}),d.jsxs(OW,{children:[d.jsxs(y2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[d.jsx(v2,{children:d.jsx(BW,{})}),d.jsxs(b2,{children:[d.jsx(_2,{children:"User-Mode Threading"}),d.jsx(S2,{children:"Threads managed entirely by application libraries in user space without kernel awareness. Fast and flexible but lacks true parallelism and can suffer from blocking issues."})]})]}),d.jsxs(y2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4},children:[d.jsx(v2,{children:d.jsx(IW,{})}),d.jsxs(b2,{children:[d.jsx(_2,{children:"Kernel-Mode Threading"}),d.jsx(S2,{children:"Threads managed directly by the operating system kernel. Provides true parallelism with CPU cores and better system integration, but higher overhead for creation and switching."})]})]}),d.jsxs(y2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.5},children:[d.jsx(v2,{children:d.jsx(FW,{})}),d.jsxs(b2,{children:[d.jsx(_2,{children:"Hybrid Threading (Many-to-Many)"}),d.jsx(S2,{children:"User threads multiplexed onto kernel threads, combining advantages of both models. Balances resource utilization with performance but adds implementation complexity."})]})]})]})]}),d.jsxs(L5,{children:[d.jsx(N5,{children:"Key Thread Operations"}),d.jsxs(zW,{children:[d.jsxs(u1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[d.jsx(d1,{children:""}),d.jsxs(h1,{children:[d.jsx(f1,{children:"Thread Creation"}),d.jsx(p1,{children:"Creating new threads with initial state, stack space, and entry point function (e.g., pthread_create in C)"})]})]}),d.jsxs(u1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4},children:[d.jsx(d1,{children:""}),d.jsxs(h1,{children:[d.jsx(f1,{children:"Thread Termination"}),d.jsx(p1,{children:"Voluntarily finishing execution or being forcibly terminated, with optional result passing (pthread_exit, pthread_cancel)"})]})]}),d.jsxs(u1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.5},children:[d.jsx(d1,{children:""}),d.jsxs(h1,{children:[d.jsx(f1,{children:"Synchronization"}),d.jsx(p1,{children:"Coordinating thread execution using mutexes, semaphores, condition variables, and other primitives to avoid race conditions"})]})]}),d.jsxs(u1,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.6},children:[d.jsx(d1,{children:""}),d.jsxs(h1,{children:[d.jsx(f1,{children:"Scheduling"}),d.jsx(p1,{children:"Thread prioritization and CPU time allocation, usually handled by the kernel in kernel-mode or library in user-mode threading"})]})]})]})]})]})]})})}),HW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 90%; /* Reduced height to avoid scrolling */
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -0.8rem; /* Adjusted to move content up slightly */
`,kW=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 16px;
  padding: 1.2rem; /* Reduced padding to save space */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(100, 120, 200, 0.4);
  width: 100%;
  max-width: 1400px;
  display: flex;
  flex-direction: column;
`,GW=L.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  transform: translateX(-6px); /* Move 6px to the left */
`,O5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,z5=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem; /* Reduced margin */
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  transform: translateX(-20px); /* Increased from -6px to -12px to move further left */
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,XW=L.ul`
  margin: 0.8rem 0; /* Reduced margin */
  padding-left: 1.5rem;
  list-style-type: none;
`,M2=L(gt.li)`
  margin-bottom: 0.8rem; /* Reduced margin */
  position: relative;
  padding-left: 0.5rem;
  font-size: 1.1rem;
  color: white; /* Set default text color to white */
  
  &::before {
    content: "";
    color: var(--primary);
    display: inline-block;
    width: 1.5rem;
    position: absolute;
    left: -1.5rem;
    font-weight: bold;
    font-size: 1.2rem;
  }
`,K0=L.span`
  color: var(--primary);
  font-weight: 600;
`,P5=L.div`
  background: rgba(30, 40, 70, 0.7);
  border-radius: 10px;
  padding: 1rem; /* Reduced padding */
  margin: 0.8rem 0; /* Reduced margin */
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 100%;
  height: 270px; /* Fixed height for both diagrams */
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden; /* Prevent overflow */
`,qW=L(gt.div)`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  gap: 0.8rem; /* Reduced gap */
  align-items: center;
  justify-content: center;
`,YW=L.div`
  background: rgba(30, 40, 70, 0.5);
  border-radius: 10px;
  padding: 1rem; /* Reduced padding */
  margin: 0.8rem 0; /* Reduced margin */
  border: 1px solid rgba(100, 120, 200, 0.3);
`,Q0=L.p`
  color: white; /* Full white */
  font-size: 1rem; /* Slightly smaller font */
  line-height: 1.4; /* Reduced line height */
  margin-bottom: 0.6rem; /* Reduced margin */
  
  &:last-child {
    margin-bottom: 0;
  }
`,WW=()=>d.jsx(mn,{title:"User-Mode Threading",children:d.jsx(HW,{children:d.jsx(kW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(GW,{children:[d.jsxs(O5,{children:[d.jsx(z5,{children:"Benefits of User-Mode Threading"}),d.jsx(Q0,{children:"User-mode threading implements threading functionality entirely in user space through libraries rather than relying on kernel support. This approach offers several key advantages:"}),d.jsxs(XW,{children:[d.jsxs(M2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[d.jsx(K0,{children:"Fast Thread Creation/Termination:"})," Operations don't require system calls - just memory allocation and initialization within the process's address space"]}),d.jsxs(M2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4},children:[d.jsx(K0,{children:"Efficient Context Switching:"})," Significantly faster than process or kernel-thread switching since it occurs entirely in user space with minimal context saved/restored"]}),d.jsxs(M2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.5},children:[d.jsx(K0,{children:"Direct Communication:"})," All threads share the same address space, allowing data to be passed by reference with simple synchronization mechanisms"]})]}),d.jsx(P5,{children:d.jsxs("svg",{width:"380",height:"260",viewBox:"0 0 380 260",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"10",y:"10",width:"360",height:"200",rx:"5",fill:"rgba(60, 80, 170, 0.2)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"190",y:"30",fontSize:"14",textAnchor:"middle",fill:"white",children:"User Process Address Space"}),d.jsx("rect",{x:"20",y:"40",width:"340",height:"40",rx:"4",fill:"rgba(80, 100, 200, 0.3)",stroke:"#7090E0",strokeWidth:"1.5"}),d.jsx("text",{x:"190",y:"65",fontSize:"14",textAnchor:"middle",fill:"white",children:"Thread Library (pthread, std::thread, etc.)"}),d.jsx("rect",{x:"30",y:"90",width:"200",height:"110",rx:"4",fill:"rgba(60, 100, 180, 0.2)",stroke:"#7090E0",strokeWidth:"1"}),d.jsx("text",{x:"130",y:"110",fontSize:"12",textAnchor:"middle",fill:"white",children:"Thread Management (User Space)"}),d.jsx("circle",{cx:"70",cy:"140",r:"15",fill:"#FF9966"}),d.jsx("text",{x:"70",y:"145",fontSize:"12",textAnchor:"middle",fill:"white",children:"T1"}),d.jsx("circle",{cx:"130",cy:"140",r:"15",fill:"#66CCFF"}),d.jsx("text",{x:"130",y:"145",fontSize:"12",textAnchor:"middle",fill:"white",children:"T2"}),d.jsx("circle",{cx:"190",cy:"140",r:"15",fill:"#99FF99"}),d.jsx("text",{x:"190",y:"145",fontSize:"12",textAnchor:"middle",fill:"white",children:"T3"}),d.jsx("text",{x:"130",y:"180",fontSize:"10",textAnchor:"middle",fill:"white",children:"Fast context switching"}),d.jsx("text",{x:"70",y:"180",fontSize:"10",textAnchor:"middle",fill:"white",children:"Fast creation"}),d.jsx("text",{x:"190",y:"180",fontSize:"10",textAnchor:"middle",fill:"white",children:"Fast termination"}),d.jsx("rect",{x:"240",y:"90",width:"120",height:"110",rx:"4",fill:"rgba(60, 100, 180, 0.2)",stroke:"#7090E0",strokeWidth:"1"}),d.jsx("text",{x:"300",y:"110",fontSize:"12",textAnchor:"middle",fill:"white",children:"Shared Resources"}),d.jsx("text",{x:"300",y:"130",fontSize:"11",textAnchor:"middle",fill:"white",children:"Memory"}),d.jsx("text",{x:"300",y:"150",fontSize:"11",textAnchor:"middle",fill:"white",children:"Global Variables"}),d.jsx("text",{x:"300",y:"170",fontSize:"11",textAnchor:"middle",fill:"white",children:"File Descriptors"}),d.jsx("path",{d:"M85 140 L225 140",stroke:"#AADDFF",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("text",{x:"155",y:"135",fontSize:"10",textAnchor:"middle",fill:"white",children:"Direct Communication"})]})})]}),d.jsxs(O5,{children:[d.jsx(z5,{children:"The Critical Downside: System Call Blocking"}),d.jsx(Q0,{children:"The major limitation comes from how user-mode threads interact with system calls:"}),d.jsxs(YW,{children:[d.jsxs(Q0,{children:[d.jsx(K0,{children:"System calls"})," are controlled entry points into the operating system kernel that allow processes to request privileged operations. When a user-mode thread makes a blocking system call:"]}),d.jsxs(Q0,{children:["The kernel has no awareness of individual threads within the process - it only sees the entire process. If the system call blocks (e.g., waiting for I/O), the kernel blocks the ",d.jsx(K0,{children:"entire process"}),", suspending all threads even though they could theoretically continue running."]})]}),d.jsx(Q0,{children:'This "blocking system call problem" means pure user-mode threading systems cannot effectively utilize multiple CPU cores or maintain responsiveness during I/O operations.'}),d.jsx(P5,{children:d.jsx(qW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},children:d.jsxs("svg",{width:"380",height:"260",viewBox:"0 0 380 250",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"10",y:"10",width:"360",height:"110",rx:"5",fill:"rgba(60, 80, 170, 0.2)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"50",y:"30",fontSize:"14",fill:"white",children:"User Space"}),d.jsx("rect",{x:"30",y:"40",width:"320",height:"70",rx:"4",fill:"rgba(60, 100, 180, 0.2)",stroke:"#7090E0",strokeWidth:"1"}),d.jsx("text",{x:"190",y:"55",fontSize:"12",textAnchor:"middle",fill:"white",children:"Process"}),d.jsx("circle",{cx:"70",cy:"85",r:"15",fill:"#FF9966"}),d.jsx("text",{x:"70",y:"90",fontSize:"12",textAnchor:"middle",fill:"white",children:"T1"}),d.jsx("circle",{cx:"130",cy:"85",r:"15",fill:"#66CCFF"}),d.jsx("text",{x:"130",y:"90",fontSize:"12",textAnchor:"middle",fill:"white",children:"T2"}),d.jsx("circle",{cx:"190",cy:"85",r:"15",fill:"#99FF99"}),d.jsx("text",{x:"190",y:"90",fontSize:"12",textAnchor:"middle",fill:"white",children:"T3"}),d.jsx("circle",{cx:"250",cy:"85",r:"15",fill:"#FFCC66"}),d.jsx("text",{x:"250",y:"90",fontSize:"12",textAnchor:"middle",fill:"white",children:"T4"}),d.jsx("circle",{cx:"310",cy:"85",r:"15",fill:"#FF99CC"}),d.jsx("text",{x:"310",y:"90",fontSize:"12",textAnchor:"middle",fill:"white",children:"T5"}),d.jsx("rect",{x:"10",y:"130",width:"360",height:"110",rx:"5",fill:"rgba(40, 60, 100, 0.3)",stroke:"#5070B0",strokeWidth:"2"}),d.jsx("text",{x:"50",y:"150",fontSize:"14",fill:"white",children:"Kernel Space"}),d.jsx("path",{d:"M70 100 L70 180",stroke:"#FF5555",strokeWidth:"2"}),d.jsx("path",{d:"M65 180 L75 180 L70 190 Z",fill:"#FF5555"}),d.jsx("text",{x:"70",y:"210",fontSize:"12",textAnchor:"middle",fill:"white",children:"Blocking System Call"}),d.jsx("path",{d:"M30 115 L340 115",stroke:"#FF5555",strokeWidth:"2",strokeDasharray:"5,3"}),d.jsx("text",{x:"320",y:"130",fontSize:"12",textAnchor:"end",fill:"white",children:"Entire Process Blocked"}),d.jsx("text",{x:"130",y:"105",fontSize:"10",fill:"white",children:"Blocked"}),d.jsx("text",{x:"190",y:"105",fontSize:"10",fill:"white",children:"Blocked"}),d.jsx("text",{x:"250",y:"105",fontSize:"10",fill:"white",children:"Blocked"}),d.jsx("text",{x:"310",y:"105",fontSize:"10",fill:"white",children:"Blocked"})]})})})]})]})})})}),ZW=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 90%; /* Reduced height to avoid scrolling */
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -0.8rem; /* Adjusted to move content up slightly */
`,KW=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 16px;
  padding: 1.2rem; /* Reduced padding to save space */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(100, 120, 200, 0.4);
  width: 100%;
  max-width: 1400px;
  display: flex;
  flex-direction: column;
`,QW=L.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  transform: translateX(-6px); /* Move 6px to the left */
`,B5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,I5=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem; /* Reduced margin */
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  transform: translateX(-20px); /* Increased from -6px to -12px to move further left */
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,JW=L.ul`
  margin: 0.8rem 0; /* Reduced margin */
  padding-left: 1.5rem;
  list-style-type: none;
`,F5=L(gt.li)`
  margin-bottom: 0.8rem; /* Reduced margin */
  position: relative;
  padding-left: 0.5rem;
  font-size: 1.1rem;
  color: white; /* Set default text color to white */
  
  &::before {
    content: "";
    color: var(--primary);
    display: inline-block;
    width: 1.5rem;
    position: absolute;
    left: -1.5rem;
    font-weight: bold;
    font-size: 1.2rem;
  }
`,Ou=L.span`
  color: var(--primary);
  font-weight: 600;
`,V5=L.div`
  background: rgba(30, 40, 70, 0.5);
  border-radius: 10px;
  padding: 1rem; /* Reduced padding */
  margin: 0.8rem 0; /* Reduced margin */
  border: 1px solid rgba(100, 120, 200, 0.3);
`,pc=L.p`
  color: white; /* Full white */
  font-size: 1rem; /* Slightly smaller font */
  line-height: 1.4; /* Reduced line height */
  margin-bottom: 0.6rem; /* Reduced margin */
  
  &:last-child {
    margin-bottom: 0;
  }
`,$W=L.pre`
  background: rgba(20, 30, 50, 0.7);
  border-radius: 8px;
  padding: 1rem;
  margin: 0.8rem 0;
  border: 1px solid rgba(80, 100, 180, 0.3);
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
  color: #e2e8f0;
`,vp=L.div`
  margin-bottom: 0.3rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,H5=L.span`
  color: #81a1c1;
`,k5=L.span`
  color: #88c0d0;
`,G5=L.span`
  color: #616e88;
`;L.span`
  color: #a3be8c;
`;const tZ=()=>d.jsx(mn,{title:"Kernel-Mode Threading",children:d.jsx(ZW,{children:d.jsx(KW,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(QW,{children:[d.jsxs(B5,{children:[d.jsx(I5,{children:"Kernel Implementation"}),d.jsx(pc,{children:"Kernel-mode threads are implemented directly within the operating system kernel, providing true parallelism and direct control over thread execution:"}),d.jsxs(V5,{children:[d.jsxs(pc,{children:[d.jsx(Ou,{children:"Thread Control Blocks (TCBs):"})," The kernel maintains a TCB for each thread, which contains the thread's execution context (program counter, registers, stack pointer) and scheduling information (priority, CPU time used)."]}),d.jsxs(pc,{children:[d.jsx(Ou,{children:"Thread Synchronization:"})," Kernel provides system calls for synchronization primitives like mutexes, semaphores, and condition variables that are implemented efficiently using hardware-level atomic operations."]})]}),d.jsxs(JW,{children:[d.jsxs(F5,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[d.jsx(Ou,{children:"Kernel Scheduler:"})," Threads are managed by the kernel's scheduler, which can implement complex scheduling policies like multilevel feedback queues or fair-share scheduling."]}),d.jsxs(F5,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4},children:[d.jsx(Ou,{children:"Memory Management:"})," The kernel can provide efficient thread-local storage while optimizing shared memory access between threads."]})]}),d.jsxs($W,{children:[d.jsx(vp,{children:d.jsx(G5,{children:"// Create a kernel thread in Linux"})}),d.jsxs(vp,{children:[d.jsx(H5,{children:"int"})," ",d.jsx(k5,{children:"clone"}),"(CLONE_VM | CLONE_THREAD | CLONE_SIGHAND, 0);"]}),d.jsx(vp,{}),d.jsx(vp,{children:d.jsx(G5,{children:"// POSIX threads (pthreads) API"})}),d.jsxs(vp,{children:[d.jsx(H5,{children:"pthread_t"})," thread;"]}),d.jsxs(vp,{children:[d.jsx(k5,{children:"pthread_create"}),"(&thread, NULL, thread_function, NULL);"]})]})]}),d.jsxs(B5,{children:[d.jsx(I5,{children:"Real-World Implementation Examples"}),d.jsx(pc,{children:"Most modern operating systems implement kernel-mode threading with unique characteristics:"}),d.jsxs(V5,{children:[d.jsxs(pc,{children:[d.jsx(Ou,{children:"Linux Threading Model:"})," Uses the Native POSIX Thread Library (NPTL) where each thread is represented as a lightweight process (LWP) sharing the same memory space and file descriptors but with its own thread ID and task structure."]}),d.jsxs(pc,{children:[d.jsx(Ou,{children:"Windows Threading:"})," Uses a two-level threading model with user-mode threads (fibers) that can be scheduled by the application on top of kernel-mode threads, giving developers flexibility in thread management."]}),d.jsxs(pc,{children:[d.jsx(Ou,{children:"macOS/iOS Grand Central Dispatch:"})," Uses a task parallelism approach where developers define tasks that are scheduled on a pool of kernel threads managed by the system, abstracting away direct thread management."]})]}),d.jsxs(pc,{children:[d.jsx(Ou,{children:"Performance Considerations:"})," While kernel-mode threading provides robust capabilities, it comes with higher creation and context-switching costs compared to user-mode threading. Modern systems often employ thread pools to amortize these costs."]}),d.jsx(pc,{children:"Many operating systems now implement hybrid threading models that combine the advantages of both user-mode and kernel-mode threading, such as the M:N threading model where M user-level threads are mapped to N kernel-level threads for optimal performance."})]})]})})})}),eZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 90%; /* Reduced height to avoid scrolling */
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -0.8rem; /* Adjusted to move content up slightly */
`,nZ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 16px;
  padding: 1.2rem; /* Reduced padding to save space */
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(100, 120, 200, 0.4);
  width: 100%;
  max-width: 1400px;
  display: flex;
  flex-direction: column;
`,iZ=L.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  transform: translateX(-6px); /* Move 6px to the left */
`,X5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,q5=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem; /* Reduced margin */
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  transform: translateX(-20px); /* Increased from -6px to -12px to move further left */
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,aZ=L.ul`
  margin: 0.8rem 0; /* Reduced margin */
  padding-left: 1.5rem;
  list-style-type: none;
`,m1=L(gt.li)`
  margin-bottom: 0.8rem; /* Reduced margin */
  position: relative;
  padding-left: 0.5rem;
  font-size: 1.1rem;
  color: white; /* Set default text color to white */
  
  &::before {
    content: "";
    color: var(--primary);
    display: inline-block;
    width: 1.5rem;
    position: absolute;
    left: -1.5rem;
    font-weight: bold;
    font-size: 1.2rem;
  }
`,ph=L.span`
  color: var(--primary);
  font-weight: 600;
`,Y5=L.div`
  background: rgba(30, 40, 70, 0.5);
  border-radius: 10px;
  padding: 1rem; /* Reduced padding */
  margin: 0.8rem 0; /* Reduced margin */
  border: 1px solid rgba(100, 120, 200, 0.3);
`,mc=L.p`
  color: white; /* Full white */
  font-size: 1rem; /* Slightly smaller font */
  line-height: 1.4; /* Reduced line height */
  margin-bottom: 0.6rem; /* Reduced margin */
  
  &:last-child {
    margin-bottom: 0;
  }
`,rZ=L.div`
  background: rgba(30, 40, 70, 0.7);
  border-radius: 10px;
  padding: 1rem; /* Reduced padding */
  margin: 0.8rem 0; /* Reduced margin */
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 100%;
  height: 270px; /* Fixed height for diagram */
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden; /* Prevent overflow */
`,sZ=L(gt.div)`
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,oZ=()=>d.jsx(mn,{title:"Hybrid Threading Model",children:d.jsx(eZ,{children:d.jsx(nZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(iZ,{children:[d.jsxs(X5,{children:[d.jsx(q5,{children:"Many-to-Many Threading"}),d.jsx(mc,{children:"The hybrid threading model combines the advantages of both user-mode and kernel-mode threading approaches, providing the best of both worlds:"}),d.jsxs(Y5,{children:[d.jsxs(mc,{children:[d.jsx(ph,{children:"Key Components:"})," The hybrid model consists of user-level threads managed in user space and Lightweight Processes (LWPs) that act as bridges between user threads and the kernel."]}),d.jsxs(mc,{children:[d.jsx(ph,{children:"M:N Mapping:"})," Multiple user-level threads (M) are mapped to multiple kernel-level threads or LWPs (N), where typically M ",">","N, allowing efficient resource utilization."]})]}),d.jsx(rZ,{children:d.jsx(sZ,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:d.jsxs("svg",{width:"380",height:"260",viewBox:"0 0 380 260",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("rect",{x:"10",y:"10",width:"360",height:"120",rx:"5",fill:"rgba(60, 80, 170, 0.2)",stroke:"#6080CC",strokeWidth:"2"}),d.jsx("text",{x:"65",y:"30",fontSize:"14",fill:"white",children:"User Space"}),d.jsx("text",{x:"350",y:"30",fontSize:"14",fontWeight:"bold",fill:"#f0a04b",textAnchor:"end",children:"Hybrid Mode"}),d.jsx("rect",{x:"30",y:"40",width:"320",height:"80",rx:"4",fill:"rgba(60, 100, 180, 0.2)",stroke:"#22c55e",strokeWidth:"2"}),d.jsx("text",{x:"190",y:"60",fontSize:"12",textAnchor:"middle",fill:"#22c55e",fontWeight:"bold",children:"User-Level Threads"}),d.jsx("rect",{x:"45",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"60",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T1"}),d.jsx("rect",{x:"85",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"100",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T2"}),d.jsx("rect",{x:"125",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"140",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T3"}),d.jsx("rect",{x:"165",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"180",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T4"}),d.jsx("rect",{x:"205",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"220",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T5"}),d.jsx("rect",{x:"245",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"260",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T6"}),d.jsx("rect",{x:"285",y:"75",width:"30",height:"30",rx:"4",stroke:"#22c55e",strokeWidth:"1.5",fill:"rgba(34, 197, 94, 0.2)"}),d.jsx("text",{x:"300",y:"95",fontSize:"12",textAnchor:"middle",fill:"white",children:"T7"}),d.jsx("path",{d:"M60 105 L60 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M100 105 L100 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M140 105 L100 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M180 105 L180 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M220 105 L180 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M260 105 L260 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("path",{d:"M300 105 L260 160",stroke:"#f0a04b",strokeWidth:"1.5",strokeDasharray:"3,2"}),d.jsx("rect",{x:"10",y:"140",width:"360",height:"110",rx:"5",fill:"rgba(40, 60, 100, 0.3)",stroke:"#5070B0",strokeWidth:"2"}),d.jsx("text",{x:"65",y:"160",fontSize:"14",fill:"white",children:"Kernel Space"}),d.jsx("rect",{x:"30",y:"170",width:"320",height:"70",rx:"4",fill:"rgba(60, 100, 180, 0.2)",stroke:"#f0a04b",strokeWidth:"2"}),d.jsx("text",{x:"190",y:"190",fontSize:"12",textAnchor:"middle",fill:"#f0a04b",fontWeight:"bold",children:"Lightweight Processes (LWPs)"}),d.jsx("circle",{cx:"60",cy:"220",r:"15",fill:"rgba(240, 160, 75, 0.3)",stroke:"#f0a04b",strokeWidth:"1.5"}),d.jsx("text",{x:"60",y:"225",fontSize:"12",textAnchor:"middle",fill:"white",children:"LWP1"}),d.jsx("circle",{cx:"100",cy:"220",r:"15",fill:"rgba(240, 160, 75, 0.3)",stroke:"#f0a04b",strokeWidth:"1.5"}),d.jsx("text",{x:"100",y:"225",fontSize:"12",textAnchor:"middle",fill:"white",children:"LWP2"}),d.jsx("circle",{cx:"180",cy:"220",r:"15",fill:"rgba(240, 160, 75, 0.3)",stroke:"#f0a04b",strokeWidth:"1.5"}),d.jsx("text",{x:"180",y:"225",fontSize:"12",textAnchor:"middle",fill:"white",children:"LWP3"}),d.jsx("circle",{cx:"260",cy:"220",r:"15",fill:"rgba(240, 160, 75, 0.3)",stroke:"#f0a04b",strokeWidth:"1.5"}),d.jsx("text",{x:"260",y:"225",fontSize:"12",textAnchor:"middle",fill:"white",children:"LWP4"}),d.jsx("text",{x:"30",y:"250",fontSize:"10",fill:"white",children:"M User Threads"}),d.jsx("text",{x:"290",y:"250",fontSize:"10",textAnchor:"end",fill:"white",children:"N Kernel Threads (LWPs)"})]})})})]}),d.jsxs(X5,{children:[d.jsx(q5,{children:"How Hybrid Threading Works"}),d.jsx(mc,{children:"This model provides a flexible approach to threading that solves the limitations of both pure user-mode and kernel-mode implementations:"}),d.jsxs(aZ,{children:[d.jsxs(m1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.3},children:[d.jsx(ph,{children:"Thread Management in User Space:"})," Creation, termination, and basic thread operations happen in user space, making them fast and efficient."]}),d.jsxs(m1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.4},children:[d.jsx(ph,{children:"LWPs as Kernel Interface:"})," When system calls are needed, user threads get mapped to available LWPs which then interact with the kernel."]}),d.jsxs(m1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.5},children:[d.jsx(ph,{children:"Blocking Resolution:"})," When a thread makes a blocking system call, only its associated LWP is blockedother LWPs continue executing other user threads."]}),d.jsxs(m1,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.6},children:[d.jsx(ph,{children:"Dynamic Adjustment:"})," The thread library can create additional LWPs when needed, such as when many threads are blocking on I/O operations."]})]}),d.jsxs(Y5,{children:[d.jsxs(mc,{children:[d.jsx(ph,{children:"Real-World Examples:"})," Several systems have implemented variations of the hybrid model:"]}),d.jsx(mc,{children:" Solaris implemented a full M:N threading model in earlier versions"}),d.jsx(mc,{children:" FreeBSD supported the M:N model with its user threading library"}),d.jsx(mc,{children:' Modern Go language uses a variation of M:N threading with "goroutines" scheduled onto a pool of OS threads'})]}),d.jsx(mc,{children:'The hybrid model effectively provides a "best of both worlds" approach, maintaining the performance advantages of user-mode threading while solving its critical blocking problem through the use of LWPs as intermediaries to the kernel.'})]})]})})})}),lZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 90%;
  padding: 0;
  justify-content: center;
  align-items: center;
  margin-top: -0.8rem;
`,cZ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 16px;
  padding: 1.2rem;
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
  border: 3px solid rgba(100, 120, 200, 0.4);
  width: 100%;
  max-width: 1400px;
  display: flex;
  flex-direction: column;
`,uZ=L.div`
  display: flex;
  gap: 2rem;
  width: 100%;
  transform: translateX(-6px);
`,W5=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,Z5=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  transform: translateX(-20px);
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,g1=L.h4`
  font-size: 1.1rem;
  color: var(--primary);
  margin: 0.6rem 0;
  font-weight: 600;
`,On=L(gt.li)`
  margin-bottom: 0.6rem;
  position: relative;
  padding-left: 0.5rem;
  font-size: 0.95rem;
  color: white;
  
  &::before {
    content: "";
    color: var(--primary);
    display: inline-block;
    width: 1rem;
    position: absolute;
    left: -1rem;
    font-weight: bold;
  }
`,mh=L.ul`
  margin: 0.6rem 0;
  padding-left: 1.5rem;
  list-style-type: none;
`,Na=L.span`
  color: var(--primary);
  font-weight: 600;
`,gc=L.p`
  color: white;
  font-size: 0.95rem;
  line-height: 1.4;
  margin-bottom: 0.6rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,dZ=L.pre`
  background: rgba(20, 30, 50, 0.7);
  border-radius: 8px;
  padding: 0.8rem;
  margin: 0.6rem 0;
  border: 1px solid rgba(80, 100, 180, 0.3);
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 0.85rem;
  color: #e2e8f0;
`,un=L.div`
  margin-bottom: 0.2rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,vl=L.span`
  color: #81a1c1;
`,zu=L.span`
  color: #616e88;
`;L.span`
  color: #a3be8c;
`;const K5=L.div`
  flex: 1;
  overflow-y: auto;
  padding-right: 10px;
  max-height: 500px;
  
  &::-webkit-scrollbar {
    width: 6px;
  }
  
  &::-webkit-scrollbar-track {
    background: rgba(30, 40, 70, 0.5);
    border-radius: 10px;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(100, 120, 200, 0.5);
    border-radius: 10px;
  }
`,hZ=()=>d.jsx(mn,{title:"How to multi thread in Python?",children:d.jsx(lZ,{children:d.jsx(cZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(uZ,{children:[d.jsxs(W5,{children:[d.jsx(Z5,{children:"Memory Management in Python"}),d.jsxs(K5,{children:[d.jsx(gc,{children:"Every programming language has a memory management system that allocates and tracks memory addresses for program execution. When your code runs, it needs memory to store data, and the memory management system handles where and how that data is stored."}),d.jsx(g1,{children:"Memory Address Spaces"}),d.jsx(gc,{children:d.jsx(Na,{children:"Stack Memory:"})}),d.jsxs(mh,{children:[d.jsx(On,{children:"Fast, automatically managed memory with LIFO (Last In, First Out) structure"}),d.jsx(On,{children:"Stores local variables, function parameters, and return addresses"}),d.jsx(On,{children:"Memory allocation/deallocation happens automatically when functions are called/returned"}),d.jsx(On,{children:"Fixed size (typically a few MB) and each thread has its own stack"}),d.jsx(On,{children:"Very fast access but limited space"}),d.jsx(On,{children:"Variables have predetermined, compile-time memory requirements"})]}),d.jsx(gc,{children:d.jsx(Na,{children:"Heap Memory:"})}),d.jsxs(mh,{children:[d.jsx(On,{children:"Larger region for dynamic memory allocation"}),d.jsx(On,{children:"Stores objects whose size is determined at runtime or that outlive their creating function"}),d.jsx(On,{children:"Requires explicit allocation and (in some languages) explicit deallocation"}),d.jsx(On,{children:"Shared across the entire process"}),d.jsx(On,{children:"Slower access than stack but much larger capacity"}),d.jsx(On,{children:"Can become fragmented over time"})]}),d.jsx(gc,{children:d.jsx(Na,{children:"Other Memory Regions:"})}),d.jsxs(mh,{children:[d.jsx(On,{children:"Code/Text Segment: Contains executable instructions"}),d.jsx(On,{children:"Data Segment: Stores global/static variables"}),d.jsx(On,{children:"Memory-mapped Files: File contents mapped directly to memory"}),d.jsx(On,{children:"Shared Memory: Regions accessible by multiple processes"})]}),d.jsx(gc,{children:d.jsx(Na,{children:"Memory Management in Python:"})}),d.jsxs(mh,{children:[d.jsx(On,{children:"Uses reference counting and garbage collection"}),d.jsx(On,{children:"All objects are stored on the heap (not the stack)"}),d.jsx(On,{children:"The Global Interpreter Lock (GIL) prevents multiple threads from executing Python bytecode at once"})]})]})]}),d.jsxs(W5,{children:[d.jsx(Z5,{children:"Thread Safety in Python"}),d.jsxs(K5,{children:[d.jsx(gc,{children:"Thread safety refers to code's ability to function correctly when executed by multiple threads simultaneously without causing data corruption or unexpected behavior. When code is thread-safe, it can be safely used in multithreaded environments without additional synchronization."}),d.jsx(g1,{children:"What Makes Code Thread-Safe"}),d.jsxs(mh,{children:[d.jsxs(On,{children:[d.jsx(Na,{children:"Atomic Operations:"})," Operations that complete in a single step without possibility of interruption"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Immutability:"})," Immutable objects cannot be modified after creation"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Thread Local Storage:"})," Data stored separately for each thread"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Synchronization Mechanisms:"})," Mutexes/locks, semaphores, atomic variables"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Thread Confinement:"})," Restricting data access to a single thread"]})]}),d.jsx(g1,{children:"Thread Safety Example in Python"}),d.jsxs(dZ,{children:[d.jsx(un,{children:d.jsx(zu,{children:"# A simple shared variable example"})}),d.jsxs(un,{children:[d.jsx(vl,{children:"import"})," threading"]}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Shared variable"})}),d.jsxs(un,{children:["x = 0  ",d.jsx(zu,{children:"# Initial value"})]}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Three threads want to do different things with x"})}),d.jsxs(un,{children:[d.jsx(vl,{children:"def"})," ",d.jsx(vl,{children:"thread1_function"}),"():"]}),d.jsxs(un,{children:["    ",d.jsx(vl,{children:"global"})," x"]}),d.jsx(un,{children:"    x = 1"}),d.jsx(un,{children:'    print("Thread 1: Set x to 1")'}),d.jsx(un,{}),d.jsxs(un,{children:[d.jsx(vl,{children:"def"})," ",d.jsx(vl,{children:"thread2_function"}),"():"]}),d.jsxs(un,{children:["    ",d.jsx(vl,{children:"global"})," x"]}),d.jsx(un,{children:"    x = 2"}),d.jsx(un,{children:'    print("Thread 2: Set x to 2")'}),d.jsx(un,{}),d.jsxs(un,{children:[d.jsx(vl,{children:"def"})," ",d.jsx(vl,{children:"thread3_function"}),"():"]}),d.jsxs(un,{children:["    ",d.jsx(vl,{children:"global"})," x"]}),d.jsx(un,{children:"    x = 3"}),d.jsx(un,{children:'    print("Thread 3: Set x to 3")'}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Create threads"})}),d.jsx(un,{children:"t1 = threading.Thread(target=thread1_function)"}),d.jsx(un,{children:"t2 = threading.Thread(target=thread2_function)"}),d.jsx(un,{children:"t3 = threading.Thread(target=thread3_function)"}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Start all threads"})}),d.jsx(un,{children:"t1.start()"}),d.jsx(un,{children:"t2.start()"}),d.jsx(un,{children:"t3.start()"}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Wait for all threads to finish"})}),d.jsx(un,{children:"t1.join()"}),d.jsx(un,{children:"t2.join()"}),d.jsx(un,{children:"t3.join()"}),d.jsx(un,{}),d.jsx(un,{children:d.jsx(zu,{children:"# Final value depends on which thread executed last"})}),d.jsx(un,{children:'print("Final value of x:", x)'})]}),d.jsxs(gc,{children:["In this example, three threads simply try to set a shared variable ",d.jsx(Na,{children:"x"})," to different values:"]}),d.jsxs(mh,{children:[d.jsxs(On,{children:[d.jsx(Na,{children:"Thread 1:"})," Sets x to 1"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Thread 2:"})," Sets x to 2"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Thread 3:"})," Sets x to 3"]})]}),d.jsx(gc,{children:"Because all three threads access the same shared variable without any synchronization, the final value of x will be determined by whichever thread executes last - a classic race condition. This unpredictability is why thread safety mechanisms like locks are necessary in multi-threaded programs."}),d.jsx(g1,{children:"Thread Safety Challenges"}),d.jsxs(mh,{children:[d.jsxs(On,{children:[d.jsx(Na,{children:"Race Conditions:"})," Occur when the outcome depends on the timing/sequence of operations"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Deadlocks:"})," Threads waiting indefinitely for each other to release resources"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Priority Inversion:"})," Low-priority thread holds a resource needed by a high-priority thread"]}),d.jsxs(On,{children:[d.jsx(Na,{children:"Visibility Problems:"})," Changes made by one thread not being visible to others due to CPU caching"]})]}),d.jsx(gc,{children:"Thread safety is critical in concurrent programming, as failures in this area can lead to some of the most difficult-to-diagnose bugs that may appear randomly and be difficult to reproduce."})]})]})]})})})}),fZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: flex-start;
  padding-top: 30px;
`,pZ=L(gt.div)`
  background: rgba(10, 25, 47, 0.5);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 1.4rem 2rem;
  max-width: 900px;
  margin: 0 auto;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
`,mZ=L.p`
  font-size: 1.05rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
  text-align: justify;
`,Q5=L.span`
  color: #ff79c6;
  font-weight: bold;
  background: rgba(255, 121, 198, 0.1);
  padding: 0 4px;
  border-radius: 4px;
`,T2=L.span`
  color: #50fa7b;
  font-weight: bold;
  background: rgba(80, 250, 123, 0.1);
  padding: 0 4px;
  border-radius: 4px;
`,gZ=()=>d.jsx(mn,{title:"Real World Example",subtitle:"Understanding the concepts with a cake analogy",children:d.jsx(fZ,{children:d.jsx(pZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:d.jsxs(mZ,{children:["When baking a cake alone, you demonstrate ",d.jsx(Q5,{children:"multithreading"})," by initiating background processes (like preheating the oven or letting butter soften) while actively working on other tasks (mixing ingredients or preparing pans). This creates the illusion of simultaneous execution, though you're actually switching between tasks as a single processing unit. True ",d.jsx(T2,{children:"parallelism"}),", however, requires multiple independent workers (like additional people), each with dedicated resources (their own mixing bowls and tools) working simultaneously on different aspects of cake-making. This ",d.jsx(T2,{children:"parallel"})," approach offers significant speed improvements without context-switching overhead and scales well with additional workers, though it introduces challenges in coordination, resource allocation, communication, and task division. The fundamental difference is that ",d.jsx(Q5,{children:"multithreading"})," simulates concurrency through task-switching on a single processor, while ",d.jsx(T2,{children:"parallelism"})," achieves genuine simultaneity through multiple processing units working independently."]})})})}),xZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 1rem;
  padding: 0 1.5rem;
`,J5=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
`,$5=L.h3`
  font-size: 1.15rem;
  color: ${n=>n.color||"var(--primary)"};
  margin-bottom: 0.7rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.5rem;
`,tD=L.div`
  font-size: 0.85rem;
  line-height: 1.4;
`,eD=L.div`
  display: flex;
  width: 100%;
  gap: 1.5rem;
`,nD=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`;L.div`
  margin-bottom: 0.35rem;
  display: flex;
  align-items: flex-start;
  
  &:before {
    content: "";
    color: rgba(74, 144, 226, 0.8);
    margin-right: 0.5rem;
    font-weight: bold;
  }
`;const yZ=L.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: center;
  margin-top: 0.5rem;
`,J0=L(gt.div)`
  background: rgba(74, 144, 226, 0.1);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 0.7rem;
  width: calc(20% - 1rem);
  text-align: center;
  position: relative;
  
  &:not(:last-child):after {
    content: "";
    position: absolute;
    right: -1.1rem;
    top: 50%;
    transform: translateY(-50%);
    color: rgba(255, 255, 255, 0.5);
    font-size: 1.2rem;
  }
`,$0=L.div`
  font-size: 1.5rem;
  margin-bottom: 0.4rem;
`,tg=L.div`
  font-weight: 600;
  font-size: 0.8rem;
  margin-bottom: 0.2rem;
  color: rgba(74, 144, 226, 0.9);
`,eg=L.div`
  font-size: 0.75rem;
  line-height: 1.3;
`,vZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  margin: 1.2rem 0 0.8rem 0;
  position: relative;
  padding-top: 2rem;
`,bZ=L.div`
  width: 100%;
  height: 2px;
  background: rgba(255, 255, 255, 0.3);
  position: relative;
  margin: 0.5rem 0;
  
  &:after {
    content: 'Time ';
    position: absolute;
    right: 0;
    top: -25px;
    font-size: 0.8rem;
    color: rgba(255, 255, 255, 0.7);
  }
`,E2=L.div`
  position: relative;
  margin-bottom: 1.2rem;
  display: flex;
  align-items: center;
`,Gs=L(gt.div)`
  height: ${n=>n.isRunning?"20px":"10px"};
  margin-top: ${n=>n.isRunning?"-5px":"0px"};
  background: ${n=>n.bgColor};
  border-radius: 4px;
  position: relative;
  
  ${n=>n.isRunning&&`
    box-shadow: 0 0 8px ${n.bgColor};
    z-index: 2;
  `}
  
  &:after {
    content: ${n=>n.isRunning?"'Running'":"'Waiting'"};
    position: absolute;
    top: ${n=>n.isRunning?"-20px":"-18px"};
    left: 50%;
    transform: translateX(-50%);
    font-size: 0.7rem;
    color: ${n=>n.isRunning?n.bgColor:"rgba(255, 255, 255, 0.6)"};
    white-space: nowrap;
  }
`,_Z=()=>d.jsx(mn,{title:"Context Switching in Concurrency",subtitle:"Process State Management & CPU Sharing",children:d.jsxs(xZ,{children:[d.jsx(eD,{children:d.jsx(nD,{children:d.jsxs(J5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},borderColor:"rgba(100, 120, 200, 0.4)",children:[d.jsx($5,{children:"Job to Process Transformation"}),d.jsxs(tD,{children:[d.jsx("div",{children:"When jobs transform into processes, they follow a sequential pattern:"}),d.jsxs(yZ,{children:[d.jsxs(J0,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:[d.jsx($0,{children:""}),d.jsx(tg,{children:"Job Analysis"}),d.jsx(eg,{children:"OS examines requirements and dependencies"})]}),d.jsxs(J0,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.2},children:[d.jsx($0,{children:""}),d.jsx(tg,{children:"Process Initialization"}),d.jsx(eg,{children:"Creates address space, PID, initial state"})]}),d.jsxs(J0,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.3},children:[d.jsx($0,{children:""}),d.jsx(tg,{children:"Memory Loading"}),d.jsx(eg,{children:"Code and data loaded into memory"})]}),d.jsxs(J0,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.4},children:[d.jsx($0,{children:""}),d.jsx(tg,{children:"Execution Prep"}),d.jsx(eg,{children:"Initializes registers, PC, stack pointer"})]}),d.jsxs(J0,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.5},children:[d.jsx($0,{children:""}),d.jsx(tg,{children:"Queue Placement"}),d.jsx(eg,{children:"Process enters ready queue"})]})]})]})]})})}),d.jsx(eD,{style:{marginTop:"2rem"},children:d.jsx(nD,{children:d.jsxs(J5,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},borderColor:"rgba(106, 217, 126, 0.4)",children:[d.jsx($5,{color:"rgba(106, 217, 126, 1)",children:"Context Switching and State Preservation"}),d.jsxs(tD,{children:[d.jsx(vZ,{children:d.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.8,delay:.5},style:{width:"100%"},children:[d.jsx(E2,{children:d.jsxs("div",{style:{display:"flex",width:"100%"},children:[d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.8,delay:.6},bgColor:"rgba(240, 147, 43, 0.7)",isRunning:!0}),d.jsx(Gs,{initial:{width:0},animate:{width:"15%"},transition:{duration:.5,delay:1.4},bgColor:"rgba(240, 147, 43, 0.3)",isRunning:!1}),d.jsx(Gs,{initial:{width:0},animate:{width:"25%"},transition:{duration:.6,delay:1.9},bgColor:"rgba(240, 147, 43, 0.7)",isRunning:!0}),d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.7,delay:2.5},bgColor:"rgba(240, 147, 43, 0.3)",isRunning:!1})]})}),d.jsx(E2,{children:d.jsxs("div",{style:{display:"flex",width:"100%"},children:[d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.8,delay:.6},bgColor:"rgba(74, 144, 226, 0.3)",isRunning:!1}),d.jsx(Gs,{initial:{width:0},animate:{width:"15%"},transition:{duration:.5,delay:1.4},bgColor:"rgba(74, 144, 226, 0.7)",isRunning:!0}),d.jsx(Gs,{initial:{width:0},animate:{width:"25%"},transition:{duration:.6,delay:1.9},bgColor:"rgba(74, 144, 226, 0.3)",isRunning:!1}),d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.7,delay:2.5},bgColor:"rgba(74, 144, 226, 0.7)",isRunning:!0})]})}),d.jsx(E2,{children:d.jsxs("div",{style:{display:"flex",width:"100%"},children:[d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.8,delay:.6},bgColor:"rgba(106, 217, 126, 0.3)",isRunning:!1}),d.jsx(Gs,{initial:{width:0},animate:{width:"15%"},transition:{duration:.5,delay:1.4},bgColor:"rgba(106, 217, 126, 0.3)",isRunning:!1}),d.jsx(Gs,{initial:{width:0},animate:{width:"25%"},transition:{duration:.6,delay:1.9},bgColor:"rgba(106, 217, 126, 0.7)",isRunning:!0}),d.jsx(Gs,{initial:{width:0},animate:{width:"30%"},transition:{duration:.7,delay:2.5},bgColor:"rgba(106, 217, 126, 0.3)",isRunning:!1})]})}),d.jsx(bZ,{})]})}),d.jsx("div",{style:{marginTop:"0.2rem"},children:d.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[d.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[d.jsx("strong",{style:{color:"rgba(240, 147, 43, 0.9)"},children:"State Saving:"})," OS saves process state in PCB (registers, PC, memory map, I/O status)"]}),d.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[d.jsx("strong",{style:{color:"rgba(180, 180, 180, 0.9)"},children:"Scheduling Decision:"})," OS selects next process based on priority/algorithm"]}),d.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[d.jsx("strong",{style:{color:"rgba(74, 144, 226, 0.9)"},children:"State Restoration:"})," OS loads saved state from PCB to CPU"]}),d.jsxs("div",{style:{flex:"1",minWidth:"200px"},children:[d.jsx("strong",{style:{color:"rgba(106, 217, 126, 0.9)"},children:"Execution Resumption:"})," Process continues from where it left off"]})]})})]})]})})})]})}),SZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  gap: 1rem;
  padding: 0 1.5rem;
  justify-content: center;
  align-items: center;
`,MZ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 2rem 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
  width: 90%;
  max-width: 1000px;
`,TZ=L.h3`
  font-size: 1.15rem;
  color: ${n=>n.color||"var(--primary)"};
  margin-bottom: 0.7rem;
  font-weight: 600;
  text-align: center;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.5rem;
`,EZ=L.div`
  font-size: 0.85rem;
  line-height: 1.4;
`,wZ=L(gt.div)`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1.5rem;
  margin: 2.5rem 0;
`,iD=L.div`
  border: 2px solid ${n=>n.borderColor};
  background: rgba(25, 35, 60, 0.6);
  border-radius: 8px;
  padding: 0.7rem;
  width: 180px;
  text-align: center;
`,x1=L.div`
  font-weight: bold;
  color: ${n=>n.color};
  margin-bottom: 0.3rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  padding-bottom: 0.2rem;
  font-size: 1.1rem;
`,aD=L.div`
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
  padding: 0.4rem;
  margin-top: 0.5rem;
  font-size: 0.85rem;
`,bp=L.div`
  display: flex;
  justify-content: space-between;
  padding: 0.1rem 0;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.1);
  
  &:last-child {
    border-bottom: none;
  }
`,AZ=L(gt.div)`
  background: rgba(74, 144, 226, 0.2);
  border: 2px solid rgba(74, 144, 226, 0.4);
  border-radius: 50%;
  width: 150px;
  height: 150px;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  position: relative;
`,rD=L(gt.div)`
  width: 70px;
  height: 3px;
  background: ${n=>n.color};
  position: relative;
  
  &:after {
    content: '';
    position: absolute;
    right: ${n=>n.direction==="in"?"0":"auto"};
    left: ${n=>n.direction==="out"?"0":"auto"};
    top: -4px;
    width: 0;
    height: 0;
    border-top: 5px solid transparent;
    border-bottom: 5px solid transparent;
    border-left: ${n=>n.direction==="in"?"8px solid "+n.color:"none"};
    border-right: ${n=>n.direction==="out"?"8px solid "+n.color:"none"};
  }
`,CZ=()=>d.jsx(mn,{title:"Context Switching Mechanism",subtitle:"Process State Preservation During Context Switches",children:d.jsx(SZ,{children:d.jsxs(MZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},borderColor:"rgba(106, 217, 126, 0.4)",children:[d.jsx(TZ,{color:"rgba(106, 217, 126, 1)",children:"Context Switching Between Processes"}),d.jsxs(EZ,{children:[d.jsxs(wZ,{children:[d.jsxs(iD,{borderColor:"rgba(240, 147, 43, 0.7)",children:[d.jsx(x1,{color:"rgba(240, 147, 43, 0.9)",children:"Process A"}),d.jsx("div",{style:{fontSize:"0.9rem"},children:"Running  Suspended"}),d.jsxs(aD,{children:[d.jsx(x1,{color:"rgba(240, 147, 43, 0.7)",children:"PCB"}),d.jsxs(bp,{children:[d.jsx("span",{children:"Registers:"}),d.jsx("span",{children:"0x42F..."})]}),d.jsxs(bp,{children:[d.jsx("span",{children:"PC:"}),d.jsx("span",{children:"0x1024"})]}),d.jsxs(bp,{children:[d.jsx("span",{children:"Memory:"}),d.jsx("span",{children:"0x8000"})]})]})]}),d.jsx(gt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:d.jsx(rD,{direction:"out",color:"rgba(240, 147, 43, 0.7)"})}),d.jsxs(AZ,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},children:[d.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"0.4rem"},children:""}),d.jsx("div",{style:{fontSize:"1.1rem",fontWeight:"bold",textAlign:"center"},children:"CPU"}),d.jsx("div",{style:{fontSize:"0.9rem",textAlign:"center",marginTop:"0.3rem"},children:"Context Switch"})]}),d.jsx(gt.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:d.jsx(rD,{direction:"in",color:"rgba(74, 144, 226, 0.7)"})}),d.jsxs(iD,{borderColor:"rgba(74, 144, 226, 0.7)",children:[d.jsx(x1,{color:"rgba(74, 144, 226, 0.9)",children:"Process B"}),d.jsx("div",{style:{fontSize:"0.9rem"},children:"Suspended  Running"}),d.jsxs(aD,{children:[d.jsx(x1,{color:"rgba(74, 144, 226, 0.7)",children:"PCB"}),d.jsxs(bp,{children:[d.jsx("span",{children:"Registers:"}),d.jsx("span",{children:"0x53A..."})]}),d.jsxs(bp,{children:[d.jsx("span",{children:"PC:"}),d.jsx("span",{children:"0x2048"})]}),d.jsxs(bp,{children:[d.jsx("span",{children:"Memory:"}),d.jsx("span",{children:"0xA000"})]})]})]})]}),d.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center",fontSize:"0.9rem",color:"rgba(255, 255, 255, 0.9)"},children:[d.jsx("p",{children:"The context switching mechanism preserves the complete state of processes when switching CPU execution."}),d.jsx("p",{children:"This allows the CPU to efficiently move between processes while maintaining their execution state."}),d.jsx("p",{style:{marginTop:"0.8rem",fontStyle:"italic",color:"rgba(255, 255, 255, 0.85)"},children:"This mechanism allows multiple processes to share a single CPU while maintaining the illusion that each has dedicated resources."})]})]})]})})}),RZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem;
  justify-content: flex-start;
  padding-top: 3rem;
`,DZ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.8rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
  min-height: 65vh;
`,UZ=L.div`
  display: flex;
  width: 100%;
  gap: 2rem;
  margin-bottom: 1.2rem;
  height: 100%;
`,gN=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
`,jZ=L(gN)`
  flex: 1.3;
`,LZ=L.div`
  background: rgba(35, 45, 70, 0.6);
  border-radius: 8px;
  border: 1px solid rgba(100, 120, 200, 0.3);
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 1.2rem;
  height: 100%;
`,sD=L.div`
  background: ${n=>n.color};
  border-radius: 6px;
  padding: 0.7rem;
  color: white;
  font-size: 0.9rem;
  text-align: center;
  font-weight: 500;
`,NZ=L.div`
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0.5rem 0;
  
  svg {
    width: 40px;
    height: 20px;
  }
`,OZ=L.div`
  display: flex;
  justify-content: space-between;
  gap: 1.5rem;
  margin-top: 0.5rem;
  min-height: 200px;
`,oD=L.div`
  border: 2px solid ${n=>n.isActive?"rgba(74, 144, 226, 0.7)":"rgba(100, 100, 100, 0.3)"};
  border-radius: 8px;
  padding: 1rem;
  flex: 1;
  background: ${n=>n.isActive?"rgba(74, 144, 226, 0.1)":"rgba(40, 50, 80, 0.2)"};
  
  ${n=>n.isActive&&`
    box-shadow: 0 0 10px rgba(74, 144, 226, 0.3);
  `}
`,lD=L.div`
  border-bottom: 1px dashed rgba(255, 255, 255, 0.2);
  padding-bottom: 0.6rem;
  margin-bottom: 0.6rem;
  font-weight: 600;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-size: 1rem;
`,_p=L.div`
  font-size: 0.8rem;
  margin-bottom: 0.5rem;
  color: rgba(255, 255, 255, 0.9);
  
  &:before {
    content: "";
    color: rgba(74, 144, 226, 0.8);
    margin-right: 0.3rem;
  }
`,cD=L.div`
  font-size: 0.8rem;
  background: rgba(0, 0, 0, 0.15);
  border-radius: 4px;
  padding: 0.5rem;
  margin-top: 0.6rem;
  color: ${n=>n.isHighlighted?"rgba(255, 190, 100, 0.95)":"rgba(255, 255, 255, 0.8)"};
  font-family: monospace;
  
  ${n=>n.isHighlighted&&`
    border: 1px dashed rgba(255, 190, 100, 0.4);
  `}
`,zZ=L(gt.div)`
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 0 0.5rem;
  gap: 0.3rem;
`,w2=L.div`
  display: flex;
  align-items: center;
  margin-bottom: 0.7rem;
  padding: 0.7rem;
  border-radius: 8px;
  background: rgba(180, 70, 70, 0.1);
  border: 1px dashed rgba(220, 100, 100, 0.4);
`,y1=L.div`
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.7rem;
  font-size: 1.3rem;
`,A2=L.div`
  font-weight: 600;
  font-size: 0.95rem;
  color: rgba(220, 100, 100, 0.9);
  margin-right: 0.4rem;
`,C2=L.div`
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.85);
`,PZ=L.div`
  background: rgba(106, 217, 126, 0.1);
  border: 1px dashed rgba(106, 217, 126, 0.4);
  border-radius: 8px;
  padding: 0.8rem 1rem;
  display: flex;
  align-items: center;
  margin-top: 0.8rem;
`,BZ=L.div`
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.85);
  font-style: italic;
  line-height: 1.4;
`,IZ=()=>d.jsx(mn,{title:"The Overhead Problem",subtitle:"Memory Context Switching Costs",children:d.jsx(RZ,{children:d.jsx(DZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:d.jsxs(UZ,{children:[d.jsxs(gN,{children:[d.jsxs(LZ,{children:[d.jsx(sD,{color:"rgba(74, 144, 226, 0.7)",children:"Process 1 Memory Context"}),d.jsx(NZ,{children:d.jsx("svg",{viewBox:"0 0 40 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{d:"M20 20L40 10L20 0V7H0V13H20V20Z",fill:"rgba(255, 255, 255, 0.3)"})})}),d.jsx(sD,{color:"rgba(240, 147, 43, 0.7)",children:"Process 2 Memory Context"})]}),d.jsxs(w2,{children:[d.jsx(y1,{children:""}),d.jsxs("div",{children:[d.jsx(A2,{children:"Memory Switch Overhead:"}),d.jsx(C2,{children:"Each context switch requires changing the entire memory context of the CPU, which includes:"}),d.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.3rem",margin:"0.4rem 0 0 0.5rem"},children:[d.jsx("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem"},children:"Virtual Memory Tables"}),d.jsx("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem"},children:"TLB Flush"}),d.jsx("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem"},children:"Cache Invalidation"}),d.jsx("span",{style:{background:"rgba(255, 255, 255, 0.1)",padding:"0.2rem 0.4rem",borderRadius:"4px",fontSize:"0.75rem"},children:"Heap/Stack References"})]})]})]})]}),d.jsxs(jZ,{children:[d.jsxs(OZ,{children:[d.jsxs(oD,{isActive:!0,children:[d.jsxs(lD,{children:[d.jsx("span",{children:"Word Processor: Edit Process"}),d.jsx("span",{style:{fontSize:"0.8rem",background:"rgba(106, 217, 126, 0.2)",padding:"0.2rem 0.4rem",borderRadius:"4px"},children:"Active"})]}),d.jsx(_p,{children:"Document content management"}),d.jsx(_p,{children:"Text formatting"}),d.jsx(_p,{children:"Cursor positioning"}),d.jsx(cD,{isHighlighted:!0,children:"Memory: 245MB | Document data at 0x8A72F000"})]}),d.jsxs(zZ,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:[d.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:"Context"}),d.jsx("div",{style:{fontSize:"0.75rem",color:"rgba(255, 255, 255, 0.6)"},children:"Switch"}),d.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:d.jsx("path",{d:"M7 10L12 15L17 10",stroke:"rgba(255, 255, 255, 0.5)",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})]}),d.jsxs(oD,{isActive:!1,children:[d.jsxs(lD,{children:[d.jsx("span",{children:"Word Processor: Print Process"}),d.jsx("span",{style:{fontSize:"0.8rem",background:"rgba(100, 100, 100, 0.2)",padding:"0.2rem 0.4rem",borderRadius:"4px"},children:"Waiting"})]}),d.jsx(_p,{children:"Document rendering"}),d.jsx(_p,{children:"Printer communication"}),d.jsx(_p,{children:"Print queue management"}),d.jsx(cD,{children:"Memory: 180MB | Duplicate document data at 0xB2F41C00"})]})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.6rem",marginTop:"1rem"},children:[d.jsxs(w2,{children:[d.jsx(y1,{children:""}),d.jsxs("div",{children:[d.jsx(A2,{children:"Data Duplication:"}),d.jsx(C2,{children:"Both processes need the same document data, requiring either complete duplication or complex IPC"})]})]}),d.jsxs(w2,{children:[d.jsx(y1,{children:""}),d.jsxs("div",{children:[d.jsx(A2,{children:"Latency:"}),d.jsx(C2,{children:"Users experience delay when switching from editing to printing due to full context switch"})]})]})]}),d.jsxs(PZ,{children:[d.jsx(y1,{style:{color:"rgba(106, 217, 126, 0.9)"},children:""}),d.jsx(BZ,{children:"Using threads instead of processes would allow shared memory access, eliminating data duplication and reducing context switch overhead while maintaining isolation between features."})]})]})]})})})}),FZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem;
  justify-content: flex-start;
  padding-top: 3rem;
`,VZ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.8rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid ${n=>n.borderColor||"rgba(100, 120, 200, 0.3)"};
  display: flex;
  flex-direction: column;
  min-height: 65vh;
`,HZ=L.div`
  display: flex;
  width: 100%;
  gap: 2rem;
  margin-bottom: 1.2rem;
  height: 100%;
`,uD=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,kZ=L.div`
  display: flex;
  justify-content: space-around;
  align-items: center;
  width: 100%;
  margin: 1rem 0 2rem 0;
`,dD=L.div`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: ${n=>n.isMultiThread?"45%":"35%"};
`,hD=L.div`
  width: ${n=>n.isMultiThread?"220px":"150px"};
  height: ${n=>n.isMultiThread?"220px":"150px"};
  border-radius: 50%;
  border: 2px solid rgba(255, 255, 255, 0.8);
  background: rgba(40, 50, 80, 0.5);
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin-bottom: 1rem;
  overflow: hidden;
`,fD=L.div`
  font-size: 1.2rem;
  color: rgba(255, 255, 255, 0.9);
  font-weight: 600;
  margin-bottom: 0.5rem;
`,R2=L.div`
  width: 80px;
  height: 20px;
  position: relative;
  transform: ${n=>n.rotation?`rotate(${n.rotation}deg)`:"none"};
  margin: 0.8rem;
  
  &:after {
    content: '';
    position: absolute;
    top: 50%;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: ${n=>n.color};
    box-shadow: 0 0 4px ${n=>n.color};
  }
  
  &:before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 5px,
      ${n=>n.color} 5px,
      ${n=>n.color} 7px
    );
    opacity: 0.5;
    border-radius: 2px;
  }
`,GZ=L.div`
  width: 2px;
  height: 80px;
  background: rgba(255, 255, 255, 0.8);
  position: relative;
  
  &:before {
    content: '';
    position: absolute;
    top: 0;
    left: -4px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.8);
  }
  
  &:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: -4px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.8);
  }
`,XZ=L.div`
  width: 50px;
  height: 2px;
  background: rgba(255, 255, 255, 0.5);
  position: relative;
  margin: 0 1rem;
  align-self: center;
  
  &:after {
    content: '';
    position: absolute;
    right: 0;
    top: -5px;
    width: 0;
    height: 0;
    border-top: 6px solid transparent;
    border-bottom: 6px solid transparent;
    border-left: 10px solid rgba(255, 255, 255, 0.5);
  }
`;L.div`
  position: absolute;
  ${n=>n.right?"right: -40px;":"left: -40px;"};
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.8);
  white-space: nowrap;
`;const v1=L.div`
  display: flex;
  align-items: flex-start;
  margin-bottom: 1rem;
  background: rgba(106, 217, 126, 0.05);
  border-radius: 8px;
  padding: 0.8rem;
  border: 1px solid rgba(106, 217, 126, 0.2);
`,b1=L.div`
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  margin-right: 0.8rem;
  font-size: 1.3rem;
  color: rgba(106, 217, 126, 0.9);
`,_1=L.div`
  flex: 1;
`,S1=L.div`
  font-weight: 600;
  font-size: 1rem;
  color: rgba(106, 217, 126, 0.9);
  margin-bottom: 0.3rem;
`,M1=L.div`
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.85);
  line-height: 1.4;
`;L.div`
  background: rgba(74, 144, 226, 0.1);
  border: 1px dashed rgba(74, 144, 226, 0.4);
  border-radius: 8px;
  padding: 1rem;
  margin-top: 1rem;
`;L.div`
  font-weight: 600;
  font-size: 1rem;
  color: rgba(74, 144, 226, 0.9);
  margin-bottom: 0.5rem;
  border-bottom: 1px solid rgba(74, 144, 226, 0.2);
  padding-bottom: 0.3rem;
`;L.div`
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.85);
  line-height: 1.4;
`;const qZ=()=>d.jsx(mn,{title:"The Thread Solution",subtitle:"Solving Overhead Problems with Threads",children:d.jsx(FZ,{children:d.jsxs(VZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs(kZ,{children:[d.jsxs(dD,{children:[d.jsx(hD,{children:d.jsx(GZ,{})}),d.jsx(fD,{children:"Single-Threaded Process"})]}),d.jsx(XZ,{}),d.jsxs(dD,{isMultiThread:!0,children:[d.jsx(hD,{isMultiThread:!0,children:d.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",height:"70%",width:"100%"},children:[d.jsx(R2,{color:"rgba(240, 147, 43, 0.9)"}),d.jsx(R2,{color:"rgba(74, 144, 226, 0.9)"}),d.jsx(R2,{color:"rgba(106, 217, 126, 0.9)"})]})}),d.jsx(fD,{children:"Multi-Threaded Process"}),d.jsx("div",{style:{fontSize:"0.85rem",textAlign:"center",color:"rgba(255, 255, 255, 0.7)"},children:"Threads share process memory"})]})]}),d.jsxs(HZ,{children:[d.jsxs(uD,{children:[d.jsxs(v1,{children:[d.jsx(b1,{children:""}),d.jsxs(_1,{children:[d.jsx(S1,{children:"Shared Memory Space"}),d.jsx(M1,{children:"Unlike separate processes, threads within the same process share memory space, eliminating the need for data duplication or complex inter-process communication."})]})]}),d.jsxs(v1,{children:[d.jsx(b1,{children:""}),d.jsxs(_1,{children:[d.jsx(S1,{children:"Lighter Context Switching"}),d.jsx(M1,{children:"Thread context switches are much lighter than process context switches. Thread switching only requires saving/restoring CPU registers, not the entire memory context."})]})]})]}),d.jsxs(uD,{children:[d.jsxs(v1,{children:[d.jsx(b1,{children:""}),d.jsxs(_1,{children:[d.jsx(S1,{children:"Efficient Resource Usage"}),d.jsx(M1,{children:"Threads require less overhead to create and maintain than processes. Creating a new thread is much faster than creating a new process."})]})]}),d.jsxs(v1,{children:[d.jsx(b1,{children:""}),d.jsxs(_1,{children:[d.jsx(S1,{children:"Simple Communication"}),d.jsx(M1,{children:"Threads can communicate by directly accessing shared variables, eliminating the need for complex IPC mechanisms like pipes or sockets."})]})]})]})]})]})})}),YZ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  justify-content: flex-start;
  padding-top: 15px;
  gap: 1rem;
`,WZ=L(gt.div)`
  background: rgba(10, 25, 47, 0.5);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 1rem 1.8rem;
  width: 90%;
  margin: 0 auto;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,D2=L.p`
  font-size: 0.95rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
  text-align: justify;
  margin-bottom: 1rem;
`,ng=L.li`
  font-size: 0.95rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.5rem;
`,Sp=L.span`
  color: #ff79c6;
  font-weight: bold;
  background: rgba(255, 121, 198, 0.1);
  padding: 0 4px;
  border-radius: 4px;
`,Mp=L.span`
  color: #50fa7b;
  font-weight: bold;
  background: rgba(80, 250, 123, 0.1);
  padding: 0 4px;
  border-radius: 4px;
`,ZZ=L(gt.div)`
  display: flex;
  justify-content: space-around;
  width: 90%;
  margin: 0 auto;
  gap: 1rem;
`,U2=L.div`
  position: relative;
  width: 100%;
  height: 170px;
  background: rgba(10, 25, 47, 0.3);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  overflow: hidden;
  padding-top: 5px;
`,j2=L.div`
  font-size: 0.9rem;
  font-weight: bold;
  color: #f8f8f2;
  text-align: center;
  margin-bottom: 5px;
`,Tp=L.div`
  height: 20px;
  margin: 8px 20px;
  background: rgba(50, 50, 70, 0.4);
  border-radius: 4px;
  position: relative;
  overflow: hidden;
`,Sr=L(gt.div)`
  position: absolute;
  height: 100%;
  background: ${n=>n.color};
  border-radius: 3px;
  box-shadow: 0 0 8px ${n=>n.color};
`,L2=L.div`
  position: absolute;
  bottom: 5px;
  left: 0;
  right: 0;
  text-align: center;
  font-size: 0.8rem;
  color: rgba(255, 255, 255, 0.6);
`,KZ=()=>d.jsx(mn,{title:"Concurrency vs Parallelism",subtitle:"Understanding the fundamental differences",children:d.jsxs(YZ,{children:[d.jsxs(WZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsxs(D2,{children:[d.jsx(Sp,{children:"Concurrency"}),": Multiple tasks that can start, run, and complete in overlapping time periods, but not necessarily simultaneously. Tasks take turns executing, giving the illusion of parallel execution."]}),d.jsxs(D2,{children:[d.jsx(Mp,{children:"Parallelism"}),": Multiple tasks executing simultaneously at the exact same instant, requiring multiple processors or cores."]}),d.jsx(D2,{children:"Key differences:"}),d.jsxs("ul",{children:[d.jsxs(ng,{children:[d.jsx(Sp,{children:"Concurrency"})," is about dealing with multiple tasks at once; ",d.jsx(Mp,{children:"parallelism"})," is about doing multiple tasks at once"]}),d.jsxs(ng,{children:[d.jsx(Sp,{children:"Concurrency"})," handles task switching efficiently; ",d.jsx(Mp,{children:"parallelism"})," requires actual multiple execution units"]}),d.jsxs(ng,{children:[d.jsx(Sp,{children:"Concurrency"})," is primarily a software/design concern; ",d.jsx(Mp,{children:"parallelism"})," is a hardware/execution concern"]}),d.jsxs(ng,{children:[d.jsx(Sp,{children:"Concurrent"})," systems may execute on a single processor; ",d.jsx(Mp,{children:"parallel"})," systems always need multiple processors"]}),d.jsxs(ng,{children:[d.jsx(Sp,{children:"Concurrency"})," manages structure; ",d.jsx(Mp,{children:"parallelism"})," manages execution"]})]})]}),d.jsxs(ZZ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},children:[d.jsxs(U2,{children:[d.jsx(j2,{children:"Single Thread"}),d.jsxs(Tp,{children:[d.jsx(Sr,{color:"rgba(74, 144, 226, 0.8)",initial:{width:0},animate:{width:"30%"},transition:{duration:1,delay:.5}}),d.jsx(Sr,{color:"rgba(80, 200, 120, 0.8)",initial:{width:0,left:"30%"},animate:{width:"40%",left:"30%"},transition:{duration:1,delay:1.5}}),d.jsx(Sr,{color:"rgba(255, 180, 50, 0.8)",initial:{width:0,left:"70%"},animate:{width:"30%",left:"70%"},transition:{duration:1,delay:2.5}})]}),d.jsx(L2,{children:"Time "})]}),d.jsxs(U2,{children:[d.jsx(j2,{children:"Concurrency"}),d.jsxs(Tp,{children:[d.jsx(Sr,{color:"rgba(74, 144, 226, 0.8)",initial:{width:0},animate:{width:"20%"},transition:{duration:.5,delay:.5}}),d.jsx(Sr,{color:"rgba(80, 200, 120, 0.8)",initial:{width:0,left:"25%"},animate:{width:"15%",left:"25%"},transition:{duration:.5,delay:1}}),d.jsx(Sr,{color:"rgba(74, 144, 226, 0.8)",initial:{width:0,left:"45%"},animate:{width:"15%",left:"45%"},transition:{duration:.5,delay:1.5}}),d.jsx(Sr,{color:"rgba(255, 180, 50, 0.8)",initial:{width:0,left:"65%"},animate:{width:"15%",left:"65%"},transition:{duration:.5,delay:2}}),d.jsx(Sr,{color:"rgba(80, 200, 120, 0.8)",initial:{width:0,left:"85%"},animate:{width:"10%",left:"85%"},transition:{duration:.5,delay:2.5}})]}),d.jsxs(Tp,{children:[d.jsx(Sr,{color:"rgba(255, 180, 50, 0.8)",initial:{width:0},animate:{width:"10%"},transition:{duration:.5,delay:.7}}),d.jsx(Sr,{color:"rgba(74, 144, 226, 0.8)",initial:{width:0,left:"15%"},animate:{width:"15%",left:"15%"},transition:{duration:.5,delay:1.2}}),d.jsx(Sr,{color:"rgba(80, 200, 120, 0.8)",initial:{width:0,left:"35%"},animate:{width:"20%",left:"35%"},transition:{duration:.5,delay:1.7}}),d.jsx(Sr,{color:"rgba(255, 180, 50, 0.8)",initial:{width:0,left:"60%"},animate:{width:"25%",left:"60%"},transition:{duration:.5,delay:2.2}})]}),d.jsx(L2,{children:"Time "})]}),d.jsxs(U2,{children:[d.jsx(j2,{children:"Parallelism"}),d.jsx(Tp,{children:d.jsx(Sr,{color:"rgba(74, 144, 226, 0.8)",initial:{width:0},animate:{width:"90%"},transition:{duration:2,delay:.5}})}),d.jsx(Tp,{children:d.jsx(Sr,{color:"rgba(80, 200, 120, 0.8)",initial:{width:0},animate:{width:"70%"},transition:{duration:2,delay:.5}})}),d.jsx(Tp,{children:d.jsx(Sr,{color:"rgba(255, 180, 50, 0.8)",initial:{width:0},animate:{width:"80%"},transition:{duration:2,delay:.5}})}),d.jsx(L2,{children:"Time "})]})]})]})});L.div`
  display: flex;
  width: 100%;
  height: 100%;
  gap: 2rem;
`;const QZ=L.div`
  display: flex;
  width: 100%;
  flex-direction: column;
  gap: 1.5rem;
`,pD=L.div`
  display: flex;
  width: 100%;
  gap: 2rem;
`,mD=L(gt.div)`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 1rem;
`,gD=L(gt.div)`
  background: rgba(10, 25, 47, 0.5);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 1.2rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,xD=L.h3`
  font-size: 1.4rem;
  margin-bottom: 0.8rem;
  color: var(--primary);
  font-weight: 600;
`,yD=L.ul`
  list-style-type: none;
  padding: 0;
  margin: 0;
`,Xs=L.li`
  font-size: 0.95rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.9);
  padding-left: 1rem;
  position: relative;
  margin-bottom: 0.5rem;
  
  &:before {
    content: "";
    position: absolute;
    left: 0;
    color: var(--primary);
  }
`;L(gt.div)`
  background: rgba(74, 144, 226, 0.2);
  border: 1px solid rgba(74, 144, 226, 0.4);
  border-radius: 8px;
  padding: 1.2rem;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  width: 90%;
  margin: 0 auto;
  text-align: center;
  font-size: 1.1rem;
  line-height: 1.5;
  color: rgba(255, 255, 255, 0.95);
  font-style: italic;
`;const vD=L(gt.div)`
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
`,JZ=L(gt.div)`
  width: 100%;
  max-width: 320px;
  height: 250px;
  background: rgba(10, 25, 47, 0.3);
  border: 2px solid rgba(74, 144, 226, 0.4);
  border-radius: 10px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 15px;
`,$Z=L.div`
  font-size: 1.1rem;
  font-weight: bold;
  color: #ff79c6;
  text-align: center;
  margin-bottom: 5px;
  width: 100%;
  padding: 5px;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
`,tK=L(gt.div)`
  width: 100%;
  max-width: 320px;
  height: 250px;
  background: rgba(10, 25, 47, 0.3);
  border: 2px solid rgba(80, 250, 123, 0.4);
  border-radius: 10px;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  padding: 15px;
`,eK=L.div`
  font-size: 1.1rem;
  font-weight: bold;
  color: #50fa7b;
  text-align: center;
  margin-bottom: 5px;
  width: 100%;
  padding: 5px;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
`,Ep=L.div`
  width: 80%;
  height: ${n=>n.height||"40px"};
  background: ${n=>n.bgColor};
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.9);
  margin: 5px 0;
`,T1=L.div`
  width: 80%;
  height: 30px;
  background: ${n=>n.bgColor};
  border-radius: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.85rem;
  color: rgba(255, 255, 255, 0.9);
  margin: 5px 0;
`,nK=()=>d.jsx(mn,{title:"Thread vs Process",subtitle:"Understanding the fundamental differences",children:d.jsxs(QZ,{children:[d.jsxs(pD,{children:[d.jsx(mD,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:d.jsxs(gD,{children:[d.jsx(xD,{children:"Process"}),d.jsxs(yD,{children:[d.jsx(Xs,{children:"An independent program in execution with its own memory space"}),d.jsx(Xs,{children:"Has its own resources allocated by the operating system"}),d.jsx(Xs,{children:"Contains at least one thread (the main thread)"}),d.jsx(Xs,{children:"Processes are isolated from each other for stability and security"}),d.jsx(Xs,{children:"Communication between processes requires special mechanisms (IPC)"}),d.jsx(Xs,{children:"More resource-intensive to create and manage"})]})]})}),d.jsx(vD,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:d.jsxs(JZ,{children:[d.jsx($Z,{children:"Process"}),d.jsx(Ep,{bgColor:"rgba(255, 121, 198, 0.4)",children:"Memory Space"}),d.jsx(Ep,{bgColor:"rgba(255, 121, 198, 0.3)",children:"Code Section"}),d.jsx(Ep,{bgColor:"rgba(255, 121, 198, 0.2)",children:"Data Section"}),d.jsx(Ep,{bgColor:"rgba(255, 121, 198, 0.3)",children:"Resources"}),d.jsx(T1,{bgColor:"rgba(255, 121, 198, 0.5)",children:"Main Thread"})]})})]}),d.jsxs(pD,{children:[d.jsx(mD,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:d.jsxs(gD,{children:[d.jsx(xD,{children:"Thread"}),d.jsxs(yD,{children:[d.jsx(Xs,{children:"A lightweight execution unit within a process"}),d.jsx(Xs,{children:"Shares memory space and resources with other threads in the same process"}),d.jsx(Xs,{children:"Multiple threads in a process can run concurrently"}),d.jsx(Xs,{children:"Share access to the process's code, data, and files"}),d.jsx(Xs,{children:"Communication between threads is simpler and more efficient"}),d.jsx(Xs,{children:"Less overhead to create and manage"})]})]})}),d.jsx(vD,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.6},children:d.jsxs(tK,{children:[d.jsx(eK,{children:"Process with Multiple Threads"}),d.jsx(Ep,{bgColor:"rgba(80, 250, 123, 0.2)",height:"60px",children:"Shared Memory Space"}),d.jsx(Ep,{bgColor:"rgba(80, 250, 123, 0.3)",height:"40px",children:"Shared Resources"}),d.jsxs("div",{style:{width:"100%",display:"flex",justifyContent:"space-around"},children:[d.jsx(T1,{bgColor:"rgba(80, 250, 123, 0.5)",children:"Thread 1"}),d.jsx(T1,{bgColor:"rgba(80, 250, 123, 0.5)",children:"Thread 2"}),d.jsx(T1,{bgColor:"rgba(80, 250, 123, 0.5)",children:"Thread 3"})]})]})})]})]})}),iK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1rem;
`,aK=L(gt.div)`
  display: flex;
  width: 100%;
  gap: 1rem;
  height: auto;
  max-height: 95%;
`,rK=L.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
`,N2=L(gt.div)`
  background: rgba(10, 25, 47, 0.5);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  padding: 0.8rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
`,O2=L.h3`
  font-size: 1.2rem;
  color: var(--primary);
  font-weight: 600;
  margin-bottom: 0.3rem;
  text-align: center;
`,ig=L.p`
  font-size: 0.85rem;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.3rem;
`,wp=L.ul`
  padding-left: 1rem;
  margin: 0.3rem 0;
`,ba=L.li`
  font-size: 0.85rem;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.2rem;
`,sK=L(gt.div)`
  flex: 1.2;
  display: flex;
  flex-direction: column;
  height: auto;
`,oK=L.div`
  position: relative;
  width: 100%;
  height: 100%;
  background: rgba(10, 25, 47, 0.3);
  border: 1px solid rgba(74, 144, 226, 0.3);
  border-radius: 8px;
  overflow: hidden;
  padding: 0.8rem;
  display: flex;
  flex-direction: column;
  gap: 0.8rem;
`,lK=L(gt.div)`
  background: rgba(66, 133, 244, 0.2);
  border: 2px solid rgba(66, 133, 244, 0.5);
  border-radius: 8px;
  width: 100%;
  height: 100%;
  padding: 0.8rem;
  position: relative;
  display: flex;
  flex-direction: column;
`,cK=L.div`
  height: 25px;
  background: rgba(66, 133, 244, 0.5);
  border-radius: 4px;
  margin-bottom: 0.8rem;
  display: flex;
  align-items: center;
  padding: 0 0.5rem;
`,uK=L.div`
  display: flex;
  gap: 0.3rem;
  height: 22px;
`,qT=L.div`
  width: 100px;
  height: 100%;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px 4px 0 0;
  font-size: 0.7rem;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
`,dK=L(qT)`
  background: rgba(255, 255, 255, 0.4);
`,hK=L.div`
  position: absolute;
  top: -12px;
  left: 20px;
  background: var(--background);
  padding: 0 10px;
  font-size: 0.9rem;
  color: rgba(66, 133, 244, 1);
  font-weight: bold;
`,fK=L.div`
  display: flex;
  flex-wrap: wrap;
  gap: 1rem;
  justify-content: space-around;
  flex: 1;
  padding: 0.5rem;
`,E1=L(gt.div)`
  background: ${n=>n.color};
  border-radius: 6px;
  width: 46%;
  height: ${n=>n.height||"45%"};
  padding: 0.7rem;
  position: relative;
  display: flex;
  flex-direction: column;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
`,w1=L.div`
  font-size: 0.85rem;
  font-weight: bold;
  color: white;
  margin-bottom: 0.4rem;
  text-align: center;
  border-bottom: 1px dashed rgba(255, 255, 255, 0.3);
  padding-bottom: 0.3rem;
`,A1=L.div`
  display: flex;
  flex-direction: column;
  gap: 0.4rem;
  flex: 1;
  justify-content: center;
`,Ao=L.div`
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
  padding: 0.4rem;
  font-size: 0.75rem;
  color: white;
  text-align: center;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
`,pK=()=>d.jsx(mn,{title:"Chrome's Architecture",subtitle:"Threads and Parallelism",children:d.jsx(iK,{children:d.jsxs(aK,{children:[d.jsxs(rK,{children:[d.jsxs(N2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:[d.jsx(O2,{children:"Multi-Process Architecture"}),d.jsx(ig,{children:"Chrome runs a separate process for:"}),d.jsxs(wp,{children:[d.jsx(ba,{children:"Browser process (UI and coordination)"}),d.jsx(ba,{children:"Renderer processes (one per tab/site)"}),d.jsx(ba,{children:"Plugin processes (Flash, etc.)"}),d.jsx(ba,{children:"GPU process"}),d.jsx(ba,{children:"Extension & utility processes"})]}),d.jsx(ig,{children:d.jsx("strong",{children:"Advantages:"})}),d.jsxs(wp,{children:[d.jsx(ba,{children:"Isolation: One tab crash doesn't affect others"}),d.jsx(ba,{children:"Security: Each renderer in a sandbox"}),d.jsx(ba,{children:"Performance: Uses multiple CPU cores"})]})]}),d.jsxs(N2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[d.jsx(O2,{children:"Threading Model"}),d.jsx(ig,{children:"Within each process, Chrome uses multiple threads:"}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx(ig,{children:d.jsx("strong",{children:"Browser Process:"})}),d.jsxs(wp,{children:[d.jsx(ba,{children:"UI thread"}),d.jsx(ba,{children:"Network thread"}),d.jsx(ba,{children:"Storage thread"})]})]}),d.jsxs("div",{style:{flex:1},children:[d.jsx(ig,{children:d.jsx("strong",{children:"Renderer Process:"})}),d.jsxs(wp,{children:[d.jsx(ba,{children:"Main thread"}),d.jsx(ba,{children:"Compositor thread"}),d.jsx(ba,{children:"Worker threads"})]})]})]})]}),d.jsxs(N2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[d.jsx(O2,{children:"Parallelism in Chrome"}),d.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[d.jsx("div",{style:{flex:1},children:d.jsxs(wp,{children:[d.jsxs(ba,{children:[d.jsx("strong",{children:"Tab Isolation:"})," Different tabs run in different processes"]}),d.jsxs(ba,{children:[d.jsx("strong",{children:"Task Scheduling:"})," Work distributed across threads"]})]})}),d.jsx("div",{style:{flex:1},children:d.jsxs(wp,{children:[d.jsxs(ba,{children:[d.jsx("strong",{children:"Parallel Rendering:"})," Smooth scrolling via compositor"]}),d.jsxs(ba,{children:[d.jsx("strong",{children:"Site Isolation:"})," Origins in separate processes"]})]})})]})]})]}),d.jsx(sK,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:d.jsx(oK,{children:d.jsxs(lK,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:[d.jsx(hK,{children:"Chrome Browser"}),d.jsx(cK,{children:d.jsxs(uK,{children:[d.jsx(qT,{children:"Gmail"}),d.jsx(dK,{children:"YouTube"}),d.jsx(qT,{children:"Maps"})]})}),d.jsxs(fK,{children:[d.jsxs(E1,{color:"rgba(66, 133, 244, 0.6)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.5},children:[d.jsx(w1,{children:"Browser Process"}),d.jsxs(A1,{children:[d.jsx(Ao,{children:"UI Thread"}),d.jsx(Ao,{children:"Network Thread"}),d.jsx(Ao,{children:"Storage Thread"})]})]}),d.jsxs(E1,{color:"rgba(234, 67, 53, 0.6)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.6},children:[d.jsx(w1,{children:"Renderer: Gmail"}),d.jsxs(A1,{children:[d.jsx(Ao,{children:"Main Thread"}),d.jsx(Ao,{children:"Compositor Thread"}),d.jsx(Ao,{children:"Worker Thread"})]})]}),d.jsxs(E1,{color:"rgba(251, 188, 5, 0.6)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.7},children:[d.jsx(w1,{children:"Renderer: YouTube"}),d.jsxs(A1,{children:[d.jsx(Ao,{children:"Main Thread"}),d.jsx(Ao,{children:"Compositor Thread"}),d.jsx(Ao,{children:"Worker Thread"})]})]}),d.jsxs(E1,{color:"rgba(52, 168, 83, 0.6)",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.8},children:[d.jsx(w1,{children:"GPU Process"}),d.jsxs(A1,{children:[d.jsx(Ao,{children:"Compositor Thread"}),d.jsx(Ao,{children:"Raster Thread"})]})]})]})]})})})]})})}),mK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0.8rem;
  gap: 0.8rem;
  overflow-y: auto;
`,gK=L.div`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
  gap: 1rem;
  width: 100%;
  align-items: flex-start;
`,bD=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 10px;
  padding: 1rem;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
  width: ${n=>n.width||"48%"};
  position: relative;
  border: 1px solid rgba(100, 120, 200, 0.3);
  overflow: hidden;
`,_D=L.h3`
  font-size: 1.3rem;
  color: var(--primary);
  margin-bottom: 0.6rem;
  font-weight: 600;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.4rem;
`,SD=L.ul`
  padding-left: 1.2rem;
  margin: 0.3rem 0;
`,bl=L.li`
  font-size: 0.85rem;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.25rem;
`,xK=L.p`
  font-size: 0.85rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.4rem;
`;L.h3`
  font-size: 1.1rem;
  color: var(--primary);
  margin: 0.7rem 0 0.3rem 0;
  font-weight: 600;
`;const yK=L(gt.div)`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-bottom: 1rem;
  gap: 4rem;
  position: relative;
  padding-bottom: 0.5rem;
  
  &:after {
    content: '';
    position: absolute;
    bottom: 0;
    left: 10%;
    width: 80%;
    height: 1px;
    background: rgba(100, 120, 200, 0.3);
  }
`,z2=L.h2`
  font-size: 1.8rem;
  color: ${n=>n.color||"var(--primary)"};
  font-weight: 600;
  text-align: center;
`,vK=L.div`
  height: 150px;
  width: 100%;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0.5rem 0;
`,bK=L(gt.div)`
  width: 120px;
  height: 120px;
  border: 3px solid #3a7bd5;
  border-radius: 8px;
  background: linear-gradient(135deg, rgba(58, 123, 213, 0.2), rgba(46, 74, 138, 0.3));
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 0 1.5rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  
  &:before {
    content: 'CPU Core';
    position: absolute;
    top: -25px;
    font-size: 0.9rem;
    color: #3a7bd5;
    font-weight: bold;
  }
`,_K=L.div`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-image: 
    radial-gradient(circle at 20% 30%, rgba(58, 123, 213, 0.5) 2px, transparent 2px),
    radial-gradient(circle at 40% 70%, rgba(58, 123, 213, 0.5) 2px, transparent 2px),
    radial-gradient(circle at 70% 40%, rgba(58, 123, 213, 0.5) 2px, transparent 2px),
    radial-gradient(circle at 90% 20%, rgba(58, 123, 213, 0.5) 2px, transparent 2px);
  opacity: 0.7;
`,SK=L.div`
  width: 60%;
  height: 60%;
  background: rgba(58, 123, 213, 0.3);
  border: 1px solid rgba(58, 123, 213, 0.8);
  border-radius: 4px;
  display: flex;
  justify-content: center;
  align-items: center;
`,MK=L(gt.div)`
  width: 100px;
  height: 100px;
  border: 2px dashed #f83600;
  border-radius: 50%;
  background: rgba(248, 54, 0, 0.1);
  position: relative;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  margin: 0 1.5rem;
  
  &:before {
    content: 'Thread';
    position: absolute;
    top: -25px;
    font-size: 0.9rem;
    color: #f83600;
    font-weight: bold;
  }
`,C1=L(gt.div)`
  width: 60%;
  height: 3px;
  background: rgba(248, 54, 0, 0.7);
  margin: 3px 0;
  border-radius: 2px;
`,TK=L(gt.div)`
  position: absolute;
  width: 80px;
  height: 2px;
  background: rgba(255, 255, 255, 0.5);
  top: 50%;
  transform-origin: right;
  
  &:after {
    content: '';
    position: absolute;
    left: 0;
    top: -3px;
    width: 0;
    height: 0;
    border-top: 4px solid transparent;
    border-bottom: 4px solid transparent;
    border-right: 8px solid rgba(255, 255, 255, 0.5);
  }
`;L.div`
  width: 100%;
  height: 150px;
  position: relative;
  margin: 1rem 0;
  display: flex;
  justify-content: center;
`;L(gt.div)`
  position: relative;
  width: 100%;
  max-width: 600px;
  height: 100%;
  background: rgba(30, 40, 60, 0.4);
  border: 1px solid rgba(100, 120, 200, 0.3);
  border-radius: 8px;
  padding: 0.8rem;
  display: flex;
  flex-direction: column;
`;L.div`
  position: absolute;
  top: -10px;
  left: 20px;
  background: var(--background);
  padding: 0 10px;
  font-size: 0.9rem;
  color: var(--primary);
  font-weight: bold;
`;L.div`
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  height: 100%;
  align-items: center;
  gap: 1rem;
  padding: 0 1rem;
`;L(gt.div)`
  width: 90px;
  height: 90px;
  background: rgba(58, 123, 213, 0.2);
  border: 2px solid rgba(58, 123, 213, 0.6);
  border-radius: 6px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`;L.div`
  position: absolute;
  top: -8px;
  right: -8px;
  width: 20px;
  height: 20px;
  background: rgba(58, 123, 213, 0.8);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.7rem;
  color: white;
  font-weight: bold;
`;L(gt.div)`
  width: 24px;
  height: 24px;
  background: ${n=>n.color};
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.7rem;
  color: white;
  font-weight: bold;
  margin: 3px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
`;L.div`
  position: absolute;
  top: -40px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  background: rgba(30, 40, 60, 0.4);
  border: 1px solid rgba(100, 120, 200, 0.3);
  border-radius: 20px;
  padding: 5px 10px;
`;L.div`
  position: absolute;
  top: -20px;
  left: 10px;
  font-size: 0.7rem;
  color: rgba(255, 255, 255, 0.7);
`;L(gt.div)`
  position: absolute;
  width: 40px;
  height: 30px;
  border-left: 2px dashed rgba(255, 255, 255, 0.5);
  border-bottom: 2px dashed rgba(255, 255, 255, 0.5);
  top: -5px;
  
  &:after {
    content: '';
    position: absolute;
    bottom: -6px;
    left: -5px;
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-top: 8px solid rgba(255, 255, 255, 0.5);
  }
`;const MD=L.div`  margin: 0 auto;
  font-size: 2.5rem;
  text-align: center;
  color: ${n=>n.color||"var(--primary)"};
`,EK=()=>d.jsx(mn,{title:"Thread vs CPU Core",subtitle:"Understanding the Difference",children:d.jsxs(mK,{children:[d.jsxs(yK,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(z2,{color:"#3a7bd5",children:"CPU Core"}),d.jsx(z2,{children:"vs"}),d.jsx(z2,{color:"#f83600",children:"Thread"})]}),d.jsxs(vK,{children:[d.jsxs(bK,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.3},children:[d.jsx(_K,{}),d.jsx(SK,{children:d.jsx(gt.span,{initial:{opacity:0},animate:{opacity:[0,1,0]},transition:{duration:2,repeat:1/0},children:""})})]}),d.jsx(TK,{style:{left:"50%",transform:"translateX(-50%) rotate(180deg)"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.7}}),d.jsxs(MK,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.5},children:[d.jsx(C1,{initial:{width:"30%"},animate:{width:"60%"},transition:{duration:1,delay:.8,repeat:1/0,repeatType:"reverse"}}),d.jsx(C1,{initial:{width:"40%"},animate:{width:"50%"},transition:{duration:.8,delay:.9,repeat:1/0,repeatType:"reverse"}}),d.jsx(C1,{initial:{width:"50%"},animate:{width:"40%"},transition:{duration:1.2,delay:1,repeat:1/0,repeatType:"reverse"}}),d.jsx(C1,{initial:{width:"20%"},animate:{width:"55%"},transition:{duration:.9,delay:1.1,repeat:1/0,repeatType:"reverse"}})]})]}),d.jsxs(gK,{children:[d.jsxs(bD,{width:"48%",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},children:[d.jsx(_D,{children:"CPU Core"}),d.jsx(MD,{color:"#3a7bd5",children:""}),d.jsxs(SD,{children:[d.jsx(bl,{children:"A physical processing unit within a CPU chip"}),d.jsx(bl,{children:"Capable of independently executing instructions"}),d.jsx(bl,{children:"Modern processors contain multiple cores (dual, quad, etc.)"}),d.jsx(bl,{children:"Each core can fetch, decode, and execute instructions"}),d.jsx(bl,{children:"Multiple cores allow for true parallel execution"}),d.jsx(bl,{children:"Physical hardware on the CPU die"})]})]}),d.jsxs(bD,{width:"48%",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},children:[d.jsx(_D,{children:"Thread"}),d.jsx(MD,{color:"#f83600",children:""}),d.jsxs(SD,{children:[d.jsx(bl,{children:"A software concept representing a sequence of instructions"}),d.jsx(bl,{children:"The smallest unit of processing scheduled by an OS"}),d.jsx(bl,{children:"Exists within a process and shares its resources"}),d.jsx(bl,{children:"Can be executed on any available CPU core"})]})]})]}),d.jsx(xK,{style:{fontStyle:"italic",marginTop:"1rem",textAlign:"center",fontSize:"1rem"},children:"A CPU core is the physical hardware that executes instructions, while a thread is a software construct representing instructions waiting to be executed."})]})}),wK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 1rem;
  gap: 1rem;
  overflow-y: auto;
`,AK=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 10px;
  padding: 1.2rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  width: 100%;
  position: relative;
  border: 1px solid rgba(100, 120, 200, 0.3);
  overflow: hidden;
`,CK=L.h2`
  font-size: 1.5rem;
  color: var(--primary);
  margin-bottom: 0.8rem;
  font-weight: 600;
  border-bottom: 1px solid rgba(100, 120, 200, 0.3);
  padding-bottom: 0.4rem;
  text-align: center;
`,R1=L.ul`
  padding-left: 1.3rem;
  margin: 0.5rem 0;
`,_l=L.li`
  font-size: 0.9rem;
  line-height: 1.3;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.4rem;
`;L.p`
  font-size: 0.9rem;
  line-height: 1.4;
  color: rgba(255, 255, 255, 0.9);
  margin-bottom: 0.5rem;
  text-align: center;
  font-style: italic;
`;const D1=L.h3`
  font-size: 1.1rem;
  color: var(--primary);
  margin: 0.8rem 0 0.4rem 0;
  font-weight: 600;
`,RK=L.div`
  width: 100%;
  height: 180px;
  position: relative;
  margin: 1.2rem 0;
  display: flex;
  justify-content: center;
`,DK=L(gt.div)`
  position: relative;
  width: 100%;
  max-width: 680px;
  height: 100%;
  background: rgba(30, 40, 60, 0.4);
  border: 1px solid rgba(100, 120, 200, 0.3);
  border-radius: 8px;
  padding: 0.8rem;
  display: flex;
  flex-direction: column;
`,UK=L.div`
  position: absolute;
  top: -15px;
  left: 30px;
  background: var(--background);
  padding: 0 15px;
  font-size: 1.1rem;
  color: var(--primary);
  font-weight: bold;
`,jK=L.div`
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  height: 100%;
  align-items: center;
  gap: 1.5rem;
  padding: 0 1.5rem;
`,U1=L(gt.div)`
  width: 100px;
  height: 100px;
  background: rgba(58, 123, 213, 0.2);
  border: 2px solid rgba(58, 123, 213, 0.6);
  border-radius: 8px;
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
`,j1=L.div`
  position: absolute;
  top: -10px;
  right: -10px;
  width: 25px;
  height: 25px;
  background: rgba(58, 123, 213, 0.8);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.9rem;
  color: white;
  font-weight: bold;
`,gh=L(gt.div)`
  width: 35px;
  height: 35px;
  background: ${n=>n.color};
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.9rem;
  color: white;
  font-weight: bold;
  margin: 5px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
`,LK=L.div`
  position: absolute;
  top: -50px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  background: rgba(30, 40, 60, 0.4);
  border: 1px solid rgba(100, 120, 200, 0.3);
  border-radius: 25px;
  padding: 8px 15px;
`,NK=L.div`
  position: absolute;
  top: -25px;
  left: 15px;
  font-size: 0.9rem;
  color: rgba(255, 255, 255, 0.7);
`,OK=L(gt.div)`
  position: absolute;
  width: 50px;
  height: 40px;
  border-left: 2px dashed rgba(255, 255, 255, 0.5);
  border-bottom: 2px dashed rgba(255, 255, 255, 0.5);
  top: -10px;
  
  &:after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: -8px;
    width: 0;
    height: 0;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    border-top: 10px solid rgba(255, 255, 255, 0.5);
  }
`,zK=()=>d.jsx(mn,{title:"Thread vs CPU Core",subtitle:"Relationship & Interaction",children:d.jsx(wK,{children:d.jsxs(AK,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[d.jsx(CK,{children:"Relationship Between Threads and Cores"}),d.jsx(RK,{children:d.jsxs(DK,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:[d.jsx(UK,{children:"CPU"}),d.jsxs(LK,{children:[d.jsx(NK,{children:"Thread Queue"}),d.jsx(gh,{color:"#f56d42",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.8},children:"T5"}),d.jsx(gh,{color:"#f56d42",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.9},children:"T6"}),d.jsx(gh,{color:"#f56d42",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:1},children:"T7"})]}),d.jsx(OK,{style:{left:"30%"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.2}}),d.jsxs(jK,{children:[d.jsxs(U1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.3},children:[d.jsx(j1,{children:"1"}),d.jsx(gh,{color:"#ef4444",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.4},children:"T1"})]}),d.jsxs(U1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.4},children:[d.jsx(j1,{children:"2"}),d.jsx(gh,{color:"#3b82f6",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.5},children:"T2"})]}),d.jsxs(U1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.5},children:[d.jsx(j1,{children:"3"}),d.jsx(gh,{color:"#22c55e",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.6},children:"T3"})]}),d.jsxs(U1,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.6},children:[d.jsx(j1,{children:"4"}),d.jsx(gh,{color:"#eab308",initial:{scale:0},animate:{scale:1},transition:{duration:.3,delay:.7},children:"T4"})]})]})]})}),d.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[d.jsxs("div",{style:{flex:1},children:[d.jsx(D1,{children:"Physical Limitations"}),d.jsxs(R1,{children:[d.jsx(_l,{children:"One CPU core can execute only one thread at a time (ignoring hyperthreading)"}),d.jsx(_l,{children:"If more threads than cores exist, OS uses time slicing"})]}),d.jsx(D1,{children:"Thread Scheduling"}),d.jsxs(R1,{children:[d.jsx(_l,{children:"OS schedules threads to run on available cores"}),d.jsx(_l,{children:"Threads can move between cores during execution"}),d.jsx(_l,{children:"With more threads than cores, scheduler rotates execution"})]})]}),d.jsxs("div",{style:{flex:1},children:[d.jsx(D1,{children:"Hardware Threading"}),d.jsxs(R1,{children:[d.jsx(_l,{children:"SMT/Hyperthreading: Makes one physical core appear as two logical cores"}),d.jsx(_l,{children:"Enables working on two threads by utilizing idle execution units"})]}),d.jsx(D1,{children:"Performance Considerations"}),d.jsxs(R1,{children:[d.jsx(_l,{children:"Optimal performance when thread count matches core count"}),d.jsx(_l,{children:"Too few threads underutilizes hardware resources"}),d.jsx(_l,{children:"Too many threads causes excessive context switching"})]})]})]})]})})}),PK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -1.5rem;
`,BK=L.div`
  display: flex;
  width: 95%;
  gap: 1.5rem;
  margin-bottom: 1rem;
`,TD=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 50%;
  display: flex;
  flex-direction: column;
`,ED=L.h3`
  font-size: 1.4rem;
  color: var(--accent);
  margin-bottom: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`;L.h4`
  font-size: 1.1rem;
  color: var(--primary);
  margin: 0.6rem 0;
  font-weight: 600;
`;const Pu=L.p`
  color: white;
  font-size: 0.95rem;
  line-height: 1.6;
  margin-bottom: 1rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,ag=L.span`
  color: var(--primary);
  font-weight: 600;
`,IK=L.pre`
  background: rgba(20, 30, 50, 0.7);
  border-radius: 8px;
  padding: 0.8rem;
  margin: 0.8rem 0;
  border: 1px solid rgba(80, 100, 180, 0.3);
  overflow-x: auto;
  font-family: 'Fira Code', monospace;
  font-size: 0.9rem;
  color: #e2e8f0;
`,wD=L(gt.div)`
  background: rgba(35, 45, 70, 0.6);
  border-radius: 8px;
  padding: 0.8rem;
  margin: 0.8rem 0;
  border: 1px solid rgba(100, 120, 200, 0.3);
  color: white;
  font-size: 0.95rem;
`,AD=L.div`
  padding: 0 0.5rem;
`,FK=()=>d.jsx(mn,{title:"Race Conditions and Deadlocks",children:d.jsx(PK,{children:d.jsxs(BK,{children:[d.jsx(TD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(AD,{children:[d.jsx(ED,{children:"Race Conditions in Non-Thread-Safe Languages"}),d.jsxs(Pu,{children:["A ",d.jsx(ag,{children:"race condition"})," occurs when multiple threads access and modify shared data concurrently, with the final result depending on the exact timing of their execution."]}),d.jsx(Pu,{children:"Let's look at this simple Python code:"}),d.jsx(IK,{children:"x = 2 x = 3 x = 1"}),d.jsx(Pu,{children:"In a single-threaded program, this would simply set x to 1 after all operations complete. However, if we have 3 threads executing these operations concurrently:"}),d.jsxs(wD,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.3},children:[d.jsx("div",{children:"Thread A: x = 2"}),d.jsx("div",{children:"Thread B: x = 3"}),d.jsx("div",{children:"Thread C: x = 1"})]}),d.jsx(Pu,{children:`These threads will "race" with each other to modify the value of x. Since the language isn't thread-safe, there's no guarantee about which thread will execute last, making the final value of x unpredictable.`})]})}),d.jsx(TD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:d.jsxs(AD,{children:[d.jsx(ED,{children:"Consequences of Race Conditions"}),d.jsx(Pu,{children:"Race conditions can lead to various issues in your programs:"}),d.jsxs(wD,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},children:[d.jsxs("div",{children:[" ",d.jsx(ag,{children:"Unpredictable Results:"})," The same program may produce different outputs on different runs"]}),d.jsxs("div",{children:[" ",d.jsx(ag,{children:"Data Corruption:"})," Shared data structures may end up in invalid states"]}),d.jsxs("div",{children:[" ",d.jsx(ag,{children:"Hard to Debug:"})," Race conditions are often intermittent and difficult to reproduce"]}),d.jsxs("div",{children:[" ",d.jsx(ag,{children:"Security Vulnerabilities:"})," Time-of-check to time-of-use (TOCTOU) bugs can be exploited"]})]}),d.jsx(Pu,{children:"Without proper thread synchronization, the final value could be 2, 3, or 1, depending on which thread completes its operation last."}),d.jsx(Pu,{children:"To prevent race conditions, synchronization mechanisms such as mutexes, semaphores, and atomic operations are essential when working with shared resources in multi-threaded environments."}),d.jsx(Pu,{children:"Even languages with built-in thread safety mechanisms can suffer from race conditions if developers don't use the appropriate synchronization."})]})})]})})}),VK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -1.5rem;
`,HK=L.div`
  display: flex;
  width: 95%;
  gap: 1.5rem;
  margin-bottom: 1rem;
`,CD=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 50%;
  display: flex;
  flex-direction: column;
`,L1=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.6rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,Co=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,xc=L.span`
  color: var(--primary);
  font-weight: 600;
`,kK=L.div`
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin: 0.8rem 0;
`,GK=L(gt.div)`
  background: rgba(40, 50, 80, 0.7);
  border-radius: 50%;
  width: 60px;
  height: 60px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-weight: bold;
  border: 2px solid rgba(100, 140, 220, 0.6);
  box-shadow: 0 0 15px rgba(100, 140, 220, 0.3);
  font-size: 0.8rem;
`,RD=L(gt.div)`
  background: ${n=>n.color||"rgba(100, 120, 220, 0.3)"};
  border-radius: 12px;
  padding: 0.5rem 0.8rem;
  font-weight: 600;
  min-width: 80px;
  text-align: center;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.2);
  font-size: 0.8rem;
`,DD=L(gt.div)`
  width: 40px;
  height: 2px;
  background-color: rgba(255, 255, 255, 0.6);
  position: relative;
  
  &::after {
    content: '';
    position: absolute;
    right: 0;
    top: -4px;
    border-width: 5px 0 5px 8px;
    border-style: solid;
    border-color: transparent transparent transparent rgba(255, 255, 255, 0.6);
  }
`,UD=L.div`
  padding: 0 0.5rem;
`,Bu=L(gt.div)`
  display: flex;
  align-items: flex-start;
  margin-bottom: 0.7rem;
  padding: 0.6rem;
  border-radius: 8px;
  background: rgba(40, 50, 80, 0.3);
  border-left: 3px solid var(--primary);
`,P2=L.div`
  min-width: 24px;
  height: 24px;
  border-radius: 50%;
  background: var(--primary);
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-weight: bold;
  margin-right: 0.8rem;
  font-size: 0.8rem;
`,Iu=L.div`
  flex: 1;
`,XK=()=>d.jsx(mn,{title:"Mutex: Solution to Race Conditions",children:d.jsx(VK,{children:d.jsxs(HK,{children:[d.jsx(CD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(UD,{children:[d.jsx(L1,{children:"What is a Mutex?"}),d.jsxs(Co,{children:["A ",d.jsx(xc,{children:"mutex"})," (mutual exclusion) is a synchronization primitive that prevents multiple threads from accessing a shared resource simultaneously."]}),d.jsxs(kK,{children:[d.jsx(RD,{color:"rgba(240, 140, 100, 0.6)",initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:"Thread A"}),d.jsx(DD,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.6}}),d.jsx(GK,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.4},children:"MUTEX"}),d.jsx(DD,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.6}}),d.jsx(RD,{color:"rgba(100, 140, 220, 0.6)",initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.6,delay:.3},children:"Resource"})]}),d.jsx(Co,{children:"With a mutex, only one thread can modify x at a time. Other threads must wait until the mutex is released before they can acquire it and modify x."}),d.jsx(L1,{children:"How Mutex Works"}),d.jsxs(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:[d.jsx(P2,{children:"1"}),d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:["Before accessing a shared resource, a thread must first ",d.jsx(xc,{children:"acquire the lock"}),". If already locked, the thread will be blocked."]})})]}),d.jsxs(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.9},children:[d.jsx(P2,{children:"2"}),d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:["Once a thread has acquired the lock, it has ",d.jsx(xc,{children:"exclusive access"})," to the protected resource."]})})]}),d.jsxs(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.1},children:[d.jsx(P2,{children:"3"}),d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:["After the thread has finished, it must ",d.jsx(xc,{children:"release the lock"}),", allowing other threads to acquire it."]})})]})]})}),d.jsx(CD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:d.jsxs(UD,{children:[d.jsx(L1,{children:"The Challenge with Many Threads"}),d.jsx(Co,{children:"When dealing with many threads, managing mutexes becomes increasingly difficult:"}),d.jsx(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:[d.jsx(xc,{children:"Complexity:"})," Each thread needs to acquire locks in the right order and release them properly. The complexity grows exponentially with the number of threads and shared resources."]})})}),d.jsx(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.9},children:d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:[d.jsx(xc,{children:"Deadlocks:"})," If not careful, threads can end up waiting for each other in a circular manner, resulting in a deadlock where none of the threads can proceed."]})})}),d.jsx(L1,{children:"Best Practices"}),d.jsx(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.3},children:d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:[d.jsx(xc,{children:"Minimize lock duration:"})," Hold locks for the shortest time possible"]})})}),d.jsx(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.5},children:d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:[d.jsx(xc,{children:"Consistent ordering:"})," Always acquire multiple locks in the same order to prevent deadlocks"]})})}),d.jsx(Bu,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.7},children:d.jsx(Iu,{children:d.jsxs(Co,{style:{margin:0},children:[d.jsx(xc,{children:"Fine-grained locking:"})," Use more locks on smaller resources rather than fewer locks on larger ones"]})})})]})})]})})}),qK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -1.5rem;
`,YK=L.div`
  display: flex;
  width: 95%;
  gap: 1.5rem;
  margin-bottom: 1rem;
`,jD=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 50%;
  display: flex;
  flex-direction: column;
`,B2=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.6rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,Sl=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,Ap=L.span`
  color: var(--primary);
  font-weight: 600;
`,LD=L.div`
  padding: 0 0.5rem;
`,WK=L.div`
  display: flex;
  justify-content: center;
  align-items: center;
  margin: 1rem 0;
  position: relative;
  height: 240px;
  background-color: rgba(12, 17, 43, 0.8);
  border-radius: 8px;
  overflow: hidden;
`,ND=L(gt.div)`
  background: ${n=>n.color||"rgba(60, 80, 120, 0.9)"};
  border-radius: 12px;
  width: 75px;
  height: 55px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-weight: bold;
  font-size: 1rem;
  border: 2px solid rgba(100, 140, 220, 0.8);
  box-shadow: 0 0 15px rgba(100, 140, 220, 0.4);
  position: absolute;
  z-index: 10;
`,OD=L(gt.div)`
  background: ${n=>n.color||"rgba(100, 120, 220, 0.4)"};
  border-radius: 12px;
  padding: 0.6rem;
  font-weight: 600;
  min-width: 60px;
  text-align: center;
  box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
  position: absolute;
  color: white;
  font-size: 1rem;
  z-index: 10;
`,N1=L(gt.div)`
  position: absolute;
  font-size: 0.75rem;
  font-weight: 600;
  background-color: ${n=>n.bg||"rgba(20, 30, 50, 0.8)"};
  color: ${n=>n.color||"white"};
  padding: 3px 7px;
  border-radius: 10px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
  z-index: 5;
`,zD=L(gt.div)`
  position: absolute;
  border-radius: 50%;
  background: radial-gradient(circle, ${n=>n.color||"rgba(200, 100, 100, 0.2)"} 0%, transparent 70%);
  opacity: 0.6;
  z-index: 1;
`;L(gt.div)`
  font-size: 1rem;
  color: white;
  margin-right: 6px;
`;const rg=L(gt.div)`
  display: flex;
  align-items: flex-start;
  margin-bottom: 0.7rem;
  padding: 0.6rem;
  border-radius: 8px;
  background: rgba(40, 50, 80, 0.3);
  border-left: 3px solid var(--primary);
`,sg=L.div`
  flex: 1;
`,ZK=()=>d.jsx(mn,{title:"Race Conditions and Deadlocks",children:d.jsx(qK,{children:d.jsxs(YK,{children:[d.jsx(jD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(LD,{children:[d.jsx(B2,{children:"Understanding Deadlocks"}),d.jsxs(Sl,{children:["A more serious issue that arises with locks is ",d.jsx(Ap,{children:"deadlock"}),". Deadlock occurs when two or more threads are blocked forever, each waiting for resources held by the other."]}),d.jsx(Sl,{children:"If thread_1 acquires mutex_a and thread_2 acquires mutex_b at about the same time, they will both be stuck waiting forever:"}),d.jsxs(WK,{children:[d.jsx(zD,{color:"rgba(200, 100, 100, 0.3)",style:{top:"20px",left:"20px",width:"200px",height:"200px"},initial:{opacity:0},animate:{opacity:.6},transition:{duration:1,delay:.8}}),d.jsx(zD,{color:"rgba(100, 100, 200, 0.3)",style:{bottom:"20px",right:"20px",width:"200px",height:"200px"},initial:{opacity:0},animate:{opacity:.6},transition:{duration:1,delay:1}}),d.jsx(OD,{color:"rgba(200, 100, 100, 0.7)",style:{top:"40px",left:"45px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},children:"P1"}),d.jsx(OD,{color:"rgba(100, 100, 200, 0.7)",style:{bottom:"40px",right:"45px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},children:"P2"}),d.jsxs(ND,{color:"rgba(60, 80, 120, 0.9)",style:{top:"40px",right:"45px",borderColor:"rgba(100, 100, 200, 0.8)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.4},children:[d.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:1.1},style:{position:"absolute",top:"-12px",right:"-12px",backgroundColor:"rgba(100, 100, 200, 0.8)",borderRadius:"50%",width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.7rem",fontWeight:"bold"},children:"P2"}),"R1"]}),d.jsxs(ND,{color:"rgba(60, 80, 120, 0.9)",style:{bottom:"40px",left:"45px",borderColor:"rgba(200, 100, 100, 0.8)"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6},children:[d.jsx(gt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.9},style:{position:"absolute",top:"-12px",left:"-12px",backgroundColor:"rgba(200, 100, 100, 0.8)",borderRadius:"50%",width:"24px",height:"24px",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"0.7rem",fontWeight:"bold"},children:"P1"}),"R2"]}),d.jsx(N1,{bg:"rgba(200, 100, 100, 0.7)",color:"white",style:{left:"75px",top:"98px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.9},children:"Assigns"}),d.jsx(N1,{bg:"rgba(100, 100, 200, 0.7)",color:"white",style:{right:"75px",top:"98px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1.1},children:"Assigns"}),d.jsxs(N1,{bg:"rgba(40, 50, 80, 0.8)",color:"rgba(200, 100, 100, 0.9)",style:{left:"155px",top:"40px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,x:[0,10,0],y:[0,-3,0]},transition:{opacity:{duration:.5,delay:1.3},scale:{duration:.5,delay:1.3},x:{duration:2,delay:1.3,repeat:1/0,repeatType:"reverse"},y:{duration:1.5,delay:1.3,repeat:1/0,repeatType:"reverse"}},children:[d.jsx("span",{style:{color:"orange"},children:""})," P1 Waits"]}),d.jsxs(N1,{bg:"rgba(40, 50, 80, 0.8)",color:"rgba(100, 100, 200, 0.9)",style:{right:"155px",bottom:"40px"},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1,x:[0,-10,0],y:[0,3,0]},transition:{opacity:{duration:.5,delay:1.5},scale:{duration:.5,delay:1.5},x:{duration:2,delay:1.5,repeat:1/0,repeatType:"reverse"},y:{duration:1.5,delay:1.5,repeat:1/0,repeatType:"reverse"}},children:[d.jsx("span",{style:{color:"orange"},children:""})," P2 Waits"]}),d.jsx(gt.div,{style:{position:"absolute",width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"rgba(255, 50, 50, 0.15)",border:"2px dashed rgba(255, 100, 100, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:20},initial:{opacity:0,scale:.5},animate:{opacity:1,scale:[1,1.1,1],rotate:360},transition:{opacity:{duration:.5,delay:1.8},scale:{duration:2,repeat:1/0,repeatType:"reverse"},rotate:{duration:10,repeat:1/0,ease:"linear"}},children:d.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"0.9rem"},children:"DEADLOCK"})})]})]})}),d.jsx(jD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:d.jsxs(LD,{children:[d.jsx(B2,{children:"Deadlock Situation"}),d.jsx(Sl,{children:"In this classic deadlock scenario:"}),d.jsx(rg,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:d.jsx(sg,{children:d.jsxs(Sl,{style:{margin:0},children:[d.jsx(Ap,{children:"Thread 1"})," holds mutex_a and waits for mutex_b"]})})}),d.jsx(rg,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.9},children:d.jsx(sg,{children:d.jsxs(Sl,{style:{margin:0},children:[d.jsx(Ap,{children:"Thread 2"})," holds mutex_b and waits for mutex_a"]})})}),d.jsx(Sl,{children:"Neither thread can proceed, resulting in deadlock. This situation can be extremely difficult to debug, especially in complex systems with many locks and threads."}),d.jsx(B2,{children:"Deadlock Prevention"}),d.jsx(Sl,{children:"To avoid deadlocks, developers must follow careful design principles:"}),d.jsx(rg,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.1},children:d.jsx(sg,{children:d.jsxs(Sl,{style:{margin:0},children:[d.jsx(Ap,{children:"Lock ordering:"})," Always acquire locks in the same order"]})})}),d.jsx(rg,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.3},children:d.jsx(sg,{children:d.jsxs(Sl,{style:{margin:0},children:[d.jsx(Ap,{children:"Timeouts:"})," Use timeouts on lock acquisitions"]})})}),d.jsx(rg,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.5},children:d.jsx(sg,{children:d.jsxs(Sl,{style:{margin:0},children:[d.jsx(Ap,{children:"Higher-level constructs:"})," Use atomic operations or thread-safe data structures"]})})})]})})]})})}),KK=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 0 1.5rem 1rem 1.5rem;
  justify-content: flex-start;
  padding-top: 2.5rem;
  align-items: center;
  margin-top: -1.5rem;
`,QK=L.div`
  display: flex;
  width: 95%;
  gap: 1.5rem;
  margin-bottom: 1rem;
`,PD=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 50%;
  display: flex;
  flex-direction: column;
`,I2=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.6rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,Ml=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,O1=L.span`
  color: var(--primary);
  font-weight: 600;
`,BD=L.div`
  padding: 0 0.5rem;
`,JK=L.pre`
  background-color: rgba(30, 40, 65, 0.8);
  border-radius: 8px;
  padding: 1rem;
  border-left: 3px solid var(--primary);
  margin: 0.5rem 0 1rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.85rem;
  color: #eaeaea;
  overflow-x: auto;
`,F2=L.div`
  margin-bottom: 0.2rem;
  display: flex;
`,$K=L(gt.div)`
  width: 100%;
  height: 120px;
  background-color: rgba(12, 17, 43, 0.8);
  border-radius: 8px;
  margin: 1rem 0;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
`,tQ=L(gt.div)`
  width: 70px;
  height: 70px;
  background-color: rgba(100, 140, 220, 0.6);
  border-radius: 50%;
  border: 2px solid rgba(140, 180, 255, 0.8);
  box-shadow: 0 0 20px rgba(100, 140, 220, 0.4);
  display: flex;
  justify-content: center;
  align-items: center;
  font-weight: bold;
  color: white;
  font-size: 1rem;
`,V2=L(gt.div)`
  position: absolute;
  width: 60px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  color: white;
  font-weight: 600;
  font-size: 0.9rem;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
`,eQ=()=>d.jsx(mn,{title:"Python's Global Interpreter Lock (GIL)",children:d.jsx(KK,{children:d.jsxs(QK,{children:[d.jsx(PD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(BD,{children:[d.jsxs(Ml,{children:["The ",d.jsx(O1,{children:"Global Interpreter Lock (GIL)"})," is a mutex that protects access to Python objects, preventing multiple threads from executing Python bytecode simultaneously. The GIL is a core feature of CPython, the most common implementation of Python."]}),d.jsxs($K,{children:[d.jsx(tQ,{initial:{scale:.5,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.8},children:"GIL"}),d.jsx(V2,{style:{backgroundColor:"rgba(220, 100, 100, 0.7)",top:"20px",left:"50px",opacity:.5},initial:{opacity:0,x:-30},animate:{opacity:.5,x:0},transition:{duration:.5,delay:.3},children:"Thread 1"}),d.jsx(V2,{style:{backgroundColor:"rgba(100, 200, 100, 0.7)",bottom:"20px",left:"80px",opacity:.5},initial:{opacity:0,x:-30},animate:{opacity:.5,x:0},transition:{duration:.5,delay:.5},children:"Thread 2"}),d.jsx(V2,{style:{backgroundColor:"rgba(100, 100, 220, 0.7)",top:"20px",right:"50px",border:"2px solid rgba(255, 255, 255, 0.8)"},initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:"Thread 3"}),d.jsx(gt.div,{style:{position:"absolute",top:"40px",right:"115px",width:"40px",height:"2px",backgroundColor:"rgba(100, 100, 220, 0.9)"},initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.4,delay:1}}),d.jsx(gt.div,{style:{position:"absolute",top:"25px",right:"125px",color:"rgba(255, 255, 255, 0.8)",fontSize:"0.75rem",fontWeight:"bold"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:1.2},children:"Has GIL"})]}),d.jsx(I2,{children:"How GIL Addresses Race Conditions"}),d.jsx(Ml,{children:"Let's see how the GIL affects our previous example:"}),d.jsxs(JK,{children:[d.jsx(F2,{children:"x = 2"}),d.jsx(F2,{children:"x = 3"}),d.jsx(F2,{children:"x = 1"})]}),d.jsx(Ml,{children:"When multiple threads try to execute this code, the GIL ensures that only one thread can execute Python bytecode at any given time. This effectively serializes access to shared variables like x, preventing race conditions at the Python code level."})]})}),d.jsx(PD,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:d.jsxs(BD,{children:[d.jsx(Ml,{children:"Each thread must acquire the GIL before executing, and Python's interpreter automatically releases and reacquires the GIL periodically during a thread's execution (typically after a certain number of bytecode instructions)."}),d.jsx(I2,{children:"How GIL Prevents Deadlocks"}),d.jsx(Ml,{children:"The GIL helps prevent certain types of deadlocks by eliminating the need for many fine-grained locks. Since only one thread can execute Python code at a time, you don't need to worry about complex locking patterns when accessing shared Python objects."}),d.jsx(Ml,{children:"This significantly reduces the risk of deadlock situations where threads are waiting for each other's locks."}),d.jsx(I2,{children:"Limitations of the GIL"}),d.jsx(Ml,{children:"While the GIL prevents race conditions, it also means that CPU-bound Python programs cannot fully utilize multiple cores. For CPU-intensive operations, you might need to use:"}),d.jsxs(gt.ul,{style:{color:"white",paddingLeft:"1.5rem",margin:"0.5rem 0"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:1},children:[d.jsx(gt.li,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:1.2},children:d.jsxs(Ml,{style:{margin:"0.3rem 0"},children:[d.jsx(O1,{children:"Multiprocessing"})," (separate Python processes)"]})}),d.jsx(gt.li,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:1.4},children:d.jsxs(Ml,{style:{margin:"0.3rem 0"},children:[d.jsx(O1,{children:"C extensions"})," that release the GIL"]})}),d.jsx(gt.li,{initial:{x:-10,opacity:0},animate:{x:0,opacity:1},transition:{duration:.4,delay:1.6},children:d.jsxs(Ml,{style:{margin:"0.3rem 0"},children:["Alternative Python implementations (",d.jsx(O1,{children:"PyPy, Jython"}),")"]})})]})]})})]})})}),nQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,iQ=L.div`
  display: flex;
  width: 100%;
  gap: 2rem;
  margin-bottom: 1rem;
`,ID=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 50%;
  display: flex;
  flex-direction: column;
`,FD=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.6rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,xh=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,z1=L.span`
  color: var(--primary);
  font-weight: 600;
`,VD=L.div`
  padding: 0 0.5rem;
`,aQ=L.pre`
  background-color: rgba(30, 40, 65, 0.8);
  border-radius: 8px;
  padding: 1rem;
  border-left: 3px solid var(--primary);
  margin: 0.5rem 0 1rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.85rem;
  color: #eaeaea;
  overflow-x: auto;
`,Qi=L.div`
  margin-bottom: 0.2rem;
  display: flex;
`,H2=L(gt.div)`
  display: flex;
  align-items: flex-start;
  margin-bottom: 0.7rem;
  padding: 0.6rem;
  border-radius: 8px;
  background: rgba(40, 50, 80, 0.3);
  border-left: 3px solid var(--primary);
`,k2=L.div`
  flex: 1;
`;L(gt.div)`
  display: flex;
  align-items: center;
  margin-bottom: 0.7rem;
  padding: 0.5rem;
  
  &::before {
    content: '';
    color: var(--primary);
    font-weight: bold;
    margin-right: 0.5rem;
    display: inline-block;
  }
`;L(gt.div)`
  display: flex;
  align-items: center;
  margin-bottom: 0.7rem;
  padding: 0.5rem;
  
  &::before {
    content: '';
    color: #ff6b6b;
    font-weight: bold;
    margin-right: 0.5rem;
    display: inline-block;
  }
`;const rQ=L(gt.div)`
  width: 100%;
  height: 140px;
  background-color: rgba(12, 17, 43, 0.8);
  border-radius: 8px;
  margin: 1rem 0;
  display: flex;
  justify-content: space-between;
  padding: 1rem;
  position: relative;
`,HD=L(gt.div)`
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 45%;
`,kD=L.div`
  font-size: 0.9rem;
  color: white;
  margin-bottom: 0.5rem;
  font-weight: 600;
`,og=L(gt.div)`
  width: 40px;
  height: 25px;
  border-radius: 6px;
  margin: 0.2rem 0;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.7rem;
  color: white;
  font-weight: 600;
`,sQ=()=>d.jsx(mn,{title:"GIL's Problem",children:d.jsx(nQ,{children:d.jsxs(iQ,{children:[d.jsx(ID,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(VD,{children:[d.jsx(FD,{children:"The Single-Threaded Nature of Python with GIL"}),d.jsx(xh,{children:"However, the GIL has a significant downside - it essentially forces Python to be single-threaded for CPU-bound tasks:"}),d.jsx(H2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:d.jsx(k2,{children:d.jsxs(xh,{style:{margin:0},children:[d.jsx(z1,{children:"Makes true parallelism impossible:"})," Even on multi-core systems, only one Python thread can execute at a time. The GIL prevents threads from utilizing multiple CPU cores for parallel computation."]})})}),d.jsx(H2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.9},children:d.jsx(k2,{children:d.jsxs(xh,{style:{margin:0},children:[d.jsx(z1,{children:"Thread switching overhead:"})," The constant acquisition and release of the GIL adds overhead to threaded programs, sometimes making them slower than their single-threaded counterparts."]})})}),d.jsx(H2,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:1.1},children:d.jsx(k2,{children:d.jsxs(xh,{style:{margin:0},children:[d.jsx(z1,{children:"Ineffective for CPU-bound tasks:"})," When your code is primarily doing CPU-intensive calculations in Python, threading provides virtually no performance benefit because of the GIL."]})})}),d.jsxs(rQ,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.7,delay:1.3},children:[d.jsxs(HD,{children:[d.jsx(kD,{children:"Single-Threaded"}),d.jsx(og,{style:{backgroundColor:"rgba(100, 140, 220, 0.6)",width:"80%",height:"80px"},children:"Thread 1"})]}),d.jsxs(gt.div,{style:{position:"absolute",top:"70px",left:"50%",transform:"translateX(-50%)"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.5},children:[d.jsx("span",{style:{color:"white",fontSize:"0.8rem"},children:"Same performance"}),d.jsx(gt.div,{style:{width:"50px",height:"2px",backgroundColor:"rgba(255, 255, 255, 0.5)",margin:"0.5rem auto"}})]}),d.jsxs(HD,{children:[d.jsx(kD,{children:"Multi-Threaded with GIL"}),d.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"5px"},children:[d.jsx(og,{style:{backgroundColor:"rgba(100, 140, 220, 0.9)"},children:"T1"}),d.jsx(og,{style:{backgroundColor:"rgba(100, 140, 220, 0.4)"},children:"T2"}),d.jsx(og,{style:{backgroundColor:"rgba(100, 140, 220, 0.4)"},children:"T3"}),d.jsx(og,{style:{backgroundColor:"rgba(100, 140, 220, 0.4)"},children:"T4"})]}),d.jsx(gt.div,{style:{fontSize:"0.7rem",color:"rgba(255, 100, 100, 0.9)",marginTop:"5px",fontWeight:"bold"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:1.7},children:"Only one active at a time!"})]})]})]})}),d.jsx(ID,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:d.jsxs(VD,{children:[d.jsx(FD,{children:"Example: Threading with CPU-Bound Tasks"}),d.jsx(xh,{children:"Despite using multiple threads, CPU-bound tasks in Python won't run any faster because of the GIL:"}),d.jsxs(aQ,{children:[d.jsx(Qi,{children:"import threading"}),d.jsx(Qi,{children:"import time"}),d.jsx(Qi,{}),d.jsx(Qi,{children:"def cpu_bound_task(n):"}),d.jsx(Qi,{children:"    # This computation won't benefit from threading"}),d.jsx(Qi,{children:"    result = 0"}),d.jsx(Qi,{children:"    for i in range(n):"}),d.jsx(Qi,{children:"        result += i * i"}),d.jsx(Qi,{children:"    return result"}),d.jsx(Qi,{}),d.jsx(Qi,{children:"# Creating multiple threads for a CPU-bound task"}),d.jsx(Qi,{children:"threads = []"}),d.jsx(Qi,{children:"for i in range(4):  # 4 threads"}),d.jsx(Qi,{children:"    t = threading.Thread(target=cpu_bound_task, "}),d.jsx(Qi,{children:"                        args=(10000000,))"}),d.jsx(Qi,{children:"    threads.append(t)"}),d.jsx(Qi,{children:"    t.start()"}),d.jsx(Qi,{}),d.jsx(Qi,{children:"for t in threads:"}),d.jsx(Qi,{children:"    t.join()"})]}),d.jsx(xh,{children:"In this example, despite using 4 threads, the computation won't run any faster than a single-threaded version because the GIL ensures only one thread executes Python bytecode at a time."}),d.jsxs(xh,{style:{marginTop:"1rem"},children:["The GIL forces each thread to ",d.jsx(z1,{children:"wait for its turn"})," to execute Python code, eliminating the expected performance benefits of parallel execution for CPU-intensive tasks."]})]})})]})})}),oQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,lQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  display: flex;
  flex-direction: column;
`,cQ=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,lg=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,G2=L.span`
  color: var(--primary);
  font-weight: 600;
`,uQ=L.div`
  padding: 0 0.5rem;
`,X2=L(gt.div)`
  display: flex;
  align-items: flex-start;
  margin-bottom: 1.2rem;
  padding: 1rem;
  border-radius: 8px;
  background: rgba(40, 50, 80, 0.3);
  border-left: 3px solid var(--primary);
`,q2=L.div`
  color: var(--primary);
  font-weight: bold;
  margin-right: 1rem;
  font-size: 1.2rem;
`,Y2=L.div`
  flex: 1;
`,W2=L.div`
  background-color: rgba(30, 40, 65, 0.8);
  border-radius: 8px;
  padding: 1rem;
  border-left: 3px solid var(--primary);
  margin: 0.8rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.85rem;
  color: #eaeaea;
`,jn=L.div`
  margin-bottom: 0.2rem;
`,dQ=()=>d.jsx(mn,{title:"Why is GIL still useful",children:d.jsx(oQ,{children:d.jsx(lQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(uQ,{children:[d.jsx(cQ,{children:"When Python Threading Is Still Useful"}),d.jsx(lg,{children:"Despite the GIL's limitations for CPU-bound tasks, Python threading still offers significant benefits in many scenarios:"}),d.jsxs(X2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.7},children:[d.jsx(q2,{children:""}),d.jsxs(Y2,{children:[d.jsxs(lg,{style:{margin:0},children:[d.jsx(G2,{children:"I/O-bound tasks:"})," When threads are waiting for external operations (file I/O, network requests), the GIL is released, allowing other threads to run."]}),d.jsxs(W2,{children:[d.jsx(jn,{children:"# Example: Threading for network requests"}),d.jsx(jn,{children:"def fetch_url(url):"}),d.jsx(jn,{children:"    # GIL is released during network I/O"}),d.jsx(jn,{children:"    response = requests.get(url)"}),d.jsx(jn,{children:"    return response.text"}),d.jsx(jn,{}),d.jsx(jn,{children:"# Multiple threads can make requests concurrently"}),d.jsx(jn,{children:"threads = ["}),d.jsx(jn,{children:"    threading.Thread(target=fetch_url, args=(url,))"}),d.jsx(jn,{children:"    for url in urls"}),d.jsx(jn,{children:"]"})]})]})]}),d.jsxs(X2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:[d.jsx(q2,{children:""}),d.jsxs(Y2,{children:[d.jsxs(lg,{style:{margin:0},children:[d.jsx(G2,{children:"C extension modules:"})," Extensions can release the GIL when performing computations, enabling true parallelism."]}),d.jsxs(W2,{children:[d.jsx(jn,{children:"# NumPy operations can release the GIL"}),d.jsx(jn,{children:"import numpy as np"}),d.jsx(jn,{children:"import threading"}),d.jsx(jn,{}),d.jsx(jn,{children:"def process_array(array):"}),d.jsx(jn,{children:"    # NumPy releases GIL during computation"}),d.jsx(jn,{children:"    result = np.fft.fft(array)"}),d.jsx(jn,{children:"    return result"})]})]})]}),d.jsxs(X2,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.3},children:[d.jsx(q2,{children:""}),d.jsxs(Y2,{children:[d.jsxs(lg,{style:{margin:0},children:[d.jsx(G2,{children:"Maintaining responsiveness:"})," Threading can keep an application responsive while performing background tasks."]}),d.jsxs(W2,{children:[d.jsx(jn,{children:"# Example: GUI with background processing"}),d.jsx(jn,{children:"def long_running_task():"}),d.jsx(jn,{children:"    # Process data in background"}),d.jsx(jn,{children:"    while not done:"}),d.jsx(jn,{children:"        process_next_chunk()"}),d.jsx(jn,{children:"        time.sleep(0.001)  # Give other threads a chance"}),d.jsx(jn,{}),d.jsx(jn,{children:"# Start background thread"}),d.jsx(jn,{children:"bg_thread = threading.Thread(target=long_running_task)"}),d.jsx(jn,{children:"bg_thread.daemon = True"}),d.jsx(jn,{children:"bg_thread.start()"}),d.jsx(jn,{}),d.jsx(jn,{children:"# Main thread remains responsive to user input"})]})]})]}),d.jsx(lg,{style:{marginTop:"1rem"},children:"The GIL's design, while limiting for CPU-bound tasks, still supports these common threading use cases effectively, making Python threading a valuable tool for many applications."})]})})})}),hQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,fQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  display: flex;
  flex-direction: column;
`,P1=L.h3`
  font-size: 1.3rem;
  color: var(--accent);
  margin-bottom: 0.8rem;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 0.6rem;
  
  &::before {
    content: '';
    display: inline-block;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background-color: var(--accent);
  }
`,yc=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,cg=L.span`
  color: var(--primary);
  font-weight: 600;
`,pQ=L.div`
  padding: 0 0.5rem;
`,GD=L(gt.div)`
  display: flex;
  flex-direction: column;
  margin-bottom: 1.2rem;
  padding: 1rem;
  border-radius: 8px;
  background: rgba(40, 50, 80, 0.3);
  border-left: 3px solid var(--primary);
`,mQ=L.pre`
  background-color: rgba(30, 40, 65, 0.8);
  border-radius: 8px;
  padding: 1rem;
  border-left: 3px solid var(--primary);
  margin: 0.8rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.85rem;
  color: #eaeaea;
  overflow-x: auto;
`,bi=L.div`
  margin-bottom: 0.2rem;
`,gQ=L.div`
  display: flex;
  gap: 1.5rem;
  margin-top: 1rem;
`,XD=L.div`
  flex: 1;
`,xQ=()=>d.jsx(mn,{title:"Then How to really multi thread in python",children:d.jsx(hQ,{children:d.jsx(fQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(pQ,{children:[d.jsx(yc,{children:"For CPU-bound tasks requiring true parallelism, Python developers typically use alternatives like the multiprocessing module (which uses separate processes instead of threads), or alternative Python implementations like Jython or IronPython that don't have a GIL."}),d.jsx(P1,{children:"True Parallelism Solutions in Python"}),d.jsxs(gQ,{children:[d.jsx(XD,{children:d.jsxs(GD,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:[d.jsx(P1,{children:"Multiprocessing Module"}),d.jsx(yc,{children:"Uses separate processes instead of threads, completely bypassing the GIL. Each process has its own Python interpreter and memory space."}),d.jsxs(mQ,{children:[d.jsx(bi,{children:"from multiprocessing import Process"}),d.jsx(bi,{}),d.jsx(bi,{children:"def cpu_intensive_task(n):"}),d.jsx(bi,{children:"    # This will run in parallel"}),d.jsx(bi,{children:"    result = 0"}),d.jsx(bi,{children:"    for i in range(n):"}),d.jsx(bi,{children:"        result += i * i"}),d.jsxs(bi,{children:['    print("Process result: ',0,'".format(result))']}),d.jsx(bi,{}),d.jsx(bi,{children:'if __name__ == "__main__":'}),d.jsx(bi,{children:"    # Create 4 processes"}),d.jsx(bi,{children:"    processes = []"}),d.jsx(bi,{children:"    for i in range(4):"}),d.jsx(bi,{children:"        p = Process("}),d.jsx(bi,{children:"            target=cpu_intensive_task,"}),d.jsx(bi,{children:"            args=(10000000,)"}),d.jsx(bi,{children:"        )"}),d.jsx(bi,{children:"        processes.append(p)"}),d.jsx(bi,{children:"        p.start()"}),d.jsx(bi,{}),d.jsx(bi,{children:"    # Wait for all processes to finish"}),d.jsx(bi,{children:"    for p in processes:"}),d.jsx(bi,{children:"        p.join()"})]})]})}),d.jsx(XD,{children:d.jsxs(GD,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.7},children:[d.jsx(P1,{children:"Alternative Python Implementations"}),d.jsx(yc,{children:"Some Python implementations don't have a GIL, allowing true thread-based parallelism:"}),d.jsxs(yc,{children:[d.jsx(cg,{children:"Jython:"})," Implementation of Python that runs on the Java Virtual Machine. It uses Java's threading model and doesn't have a GIL."]}),d.jsxs(yc,{children:[d.jsx(cg,{children:"IronPython:"})," Implementation of Python for the .NET Framework. Also doesn't have a GIL, enabling true parallel execution."]}),d.jsx(P1,{style:{marginTop:"1rem"},children:"Other Parallelism Options"}),d.jsxs(yc,{children:[d.jsx(cg,{children:"concurrent.futures:"})," A high-level interface for asynchronously executing callables. Its ProcessPoolExecutor uses multiprocessing for true parallelism."]}),d.jsxs(yc,{children:[d.jsx(cg,{children:"Dask:"})," Parallel computing library that scales Python to multi-core machines and distributed clusters."]}),d.jsxs(yc,{children:[d.jsx(cg,{children:"Numba:"})," JIT compiler that generates optimized machine code from Python code, with support for parallelism."]})]})})]}),d.jsx(yc,{style:{marginTop:"1rem"},children:"The key tradeoff: Multiprocessing introduces overhead from process creation and inter-process communication. Choose your parallelism solution based on your specific workload and requirements."})]})})})}),yQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,vQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  display: flex;
  flex-direction: column;
  margin-top: -1rem;
`,B1=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,qD=L.span`
  color: var(--primary);
  font-weight: 600;
`,bQ=L.div`
  padding: 0 0.5rem;
`,_Q=L.div`
  background-color: #1e1e2e;
  border-radius: 8px;
  padding: 1.5rem;
  border-left: 3px solid var(--primary);
  margin: 1rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  color: #f8f8f2;
  line-height: 1.5;
  position: relative;
  overflow-x: auto;
`,SQ=L.span`
  color: #6272a4;
  font-style: italic;
`,ug=L.span`
  color: #ff79c6;
`,dg=L.span`
  color: #50fa7b;
`,MQ=L.span`
  color: #f1fa8c;
`,Z2=L.span`
  color: #bd93f9;
`,Xr=L.span`
  color: #8be9fd;
`,Cp=L.span`
  color: #ff79c6;
`,TQ=L.div`
  background-color: #282a36;
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
  color: #f8f8f2;
  font-family: 'Fira Code', monospace;
`,EQ=()=>d.jsx(mn,{title:"An Example",children:d.jsx(yQ,{children:d.jsx(vQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(bQ,{children:[d.jsx(B1,{children:"Here's an example of a CPU-bound program that demonstrates the performance limitations of Python threading due to the GIL:"}),d.jsxs(_Q,{children:[d.jsx(SQ,{children:"# write a simple cpu-bound program"}),d.jsx("br",{}),d.jsx(ug,{children:"import"})," ",d.jsx(Xr,{children:"time"}),d.jsx("br",{}),d.jsx(ug,{children:"from"})," ",d.jsx(Xr,{children:"threading"})," ",d.jsx(ug,{children:"import"})," ",d.jsx(Xr,{children:"Thread"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(Xr,{children:"count"})," ",d.jsx(Cp,{children:"="})," ",d.jsx(Z2,{children:"50000000"}),d.jsx("br",{}),d.jsx(ug,{children:"def"})," ",d.jsx(dg,{children:"counter_down"}),"(",d.jsx(Xr,{children:"n"}),"):",d.jsx("br",{}),"",d.jsx(ug,{children:"while"})," ",d.jsx(Xr,{children:"n"}),d.jsx(Cp,{children:">"}),d.jsx(Z2,{children:"0"}),":",d.jsx("br",{}),"",d.jsx(Xr,{children:"n"}),d.jsx(Cp,{children:"-="}),d.jsx(Z2,{children:"1"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(Xr,{children:"start"})," ",d.jsx(Cp,{children:"="})," ",d.jsx(Xr,{children:"time"}),".",d.jsx(dg,{children:"time"}),"()",d.jsx("br",{}),d.jsx(dg,{children:"counter_down"}),"(",d.jsx(Xr,{children:"count"}),")",d.jsx("br",{}),d.jsx(Xr,{children:"end"})," ",d.jsx(Cp,{children:"="})," ",d.jsx(Xr,{children:"time"}),".",d.jsx(dg,{children:"time"}),"()",d.jsx("br",{}),d.jsx(dg,{children:"print"}),"(",d.jsx(MQ,{children:'"The time in seconds is "'}),", ",d.jsx(Xr,{children:"end"})," ",d.jsx(Cp,{children:"-"})," ",d.jsx(Xr,{children:"start"}),")"]}),d.jsx(TQ,{children:"The time in seconds is 32.96816563606262"}),d.jsxs(B1,{style:{marginTop:"1rem"},children:["This program demonstrates a ",d.jsx(qD,{children:"CPU-bound task"})," - a simple counter that decrements a large number to zero. Since this is pure computation with no I/O operations, the GIL is not released during execution."]}),d.jsx(B1,{children:"Even if we were to run this using multiple threads, we wouldn't see a performance improvement because the GIL would prevent true parallel execution of Python bytecode, forcing the threads to run one at a time."}),d.jsxs(B1,{children:["This is exactly the type of workload where using the ",d.jsx(qD,{children:"multiprocessing"})," module would be beneficial, as it would allow the code to utilize multiple CPU cores by running separate Python interpreters in different processes."]})]})})})}),wQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,AQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  display: flex;
  flex-direction: column;
  margin-top: -1rem;
`,I1=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,K2=L.span`
  color: var(--primary);
  font-weight: 600;
`,CQ=L.div`
  padding: 0 0.5rem;
`,RQ=L.div`
  background-color: #1e1e2e;
  border-radius: 8px;
  padding: 1.5rem;
  border-left: 3px solid var(--primary);
  margin: 1rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  color: #f8f8f2;
  line-height: 1.5;
  position: relative;
  overflow-x: auto;
`;L.span`
  color: #6272a4;
  font-style: italic;
`;const hg=L.span`
  color: #ff79c6;
`,Tl=L.span`
  color: #50fa7b;
`,DQ=L.span`
  color: #f1fa8c;
`,fg=L.span`
  color: #bd93f9;
`,ti=L.span`
  color: #8be9fd;
`,qr=L.span`
  color: #ff79c6;
`,UQ=L.div`
  background-color: #282a36;
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
  color: #f8f8f2;
  font-family: 'Fira Code', monospace;
`,jQ=()=>d.jsx(mn,{title:"GIL Example",children:d.jsx(wQ,{children:d.jsx(AQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(CQ,{children:[d.jsx(I1,{children:"Here's the same CPU-bound task split between two threads, demonstrating how threading doesn't improve performance with the GIL:"}),d.jsxs(RQ,{children:[d.jsx(hg,{children:"import"})," ",d.jsx(ti,{children:"time"}),d.jsx("br",{}),d.jsx(hg,{children:"from"})," ",d.jsx(ti,{children:"threading"})," ",d.jsx(hg,{children:"import"})," ",d.jsx(ti,{children:"Thread"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(ti,{children:"count"})," ",d.jsx(qr,{children:"="})," ",d.jsx(fg,{children:"50000000"}),d.jsx("br",{}),d.jsx(hg,{children:"def"})," ",d.jsx(Tl,{children:"counter_down"}),"(",d.jsx(ti,{children:"n"}),"):",d.jsx("br",{}),"",d.jsx(hg,{children:"while"})," ",d.jsx(ti,{children:"n"}),d.jsx(qr,{children:">"}),d.jsx(fg,{children:"0"}),":",d.jsx("br",{}),"",d.jsx(ti,{children:"n"}),d.jsx(qr,{children:"-="}),d.jsx(fg,{children:"1"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(ti,{children:"t1"})," ",d.jsx(qr,{children:"="})," ",d.jsx(ti,{children:"Thread"}),"(",d.jsx(ti,{children:"target"})," ",d.jsx(qr,{children:"="})," ",d.jsx(Tl,{children:"counter_down"}),", ",d.jsx(ti,{children:"args"})," ",d.jsx(qr,{children:"="})," (",d.jsx(ti,{children:"count"}),d.jsx(qr,{children:"//"}),d.jsx(fg,{children:"2"}),",))",d.jsx("br",{}),d.jsx(ti,{children:"t2"})," ",d.jsx(qr,{children:"="})," ",d.jsx(ti,{children:"Thread"}),"(",d.jsx(ti,{children:"target"})," ",d.jsx(qr,{children:"="})," ",d.jsx(Tl,{children:"counter_down"}),", ",d.jsx(ti,{children:"args"})," ",d.jsx(qr,{children:"="})," (",d.jsx(ti,{children:"count"}),d.jsx(qr,{children:"//"}),d.jsx(fg,{children:"2"}),",))",d.jsx("br",{}),d.jsx(ti,{children:"start"})," ",d.jsx(qr,{children:"="})," ",d.jsx(ti,{children:"time"}),".",d.jsx(Tl,{children:"time"}),"()",d.jsx("br",{}),d.jsx(ti,{children:"t1"}),".",d.jsx(Tl,{children:"start"}),"()",d.jsx("br",{}),d.jsx(ti,{children:"t2"}),".",d.jsx(Tl,{children:"start"}),"()",d.jsx("br",{}),d.jsx(ti,{children:"t1"}),".",d.jsx(Tl,{children:"join"}),"()",d.jsx("br",{}),d.jsx(ti,{children:"t2"}),".",d.jsx(Tl,{children:"join"}),"()",d.jsx("br",{}),d.jsx(ti,{children:"end"})," ",d.jsx(qr,{children:"="})," ",d.jsx(ti,{children:"time"}),".",d.jsx(Tl,{children:"time"}),"()",d.jsx("br",{}),d.jsx(Tl,{children:"print"}),"(",d.jsx(DQ,{children:'"The time in seconds is "'}),", ",d.jsx(ti,{children:"end"})," ",d.jsx(qr,{children:"-"})," ",d.jsx(ti,{children:"start"}),")"]}),d.jsx(UQ,{children:"The time in seconds is 41.630815982818"}),d.jsx(I1,{style:{marginTop:"1rem"},children:"In theory, using two threads to each handle half the work should be faster. However, with Python's GIL:"}),d.jsxs(I1,{children:[d.jsx(K2,{children:"1."})," The threaded version is actually ",d.jsx(K2,{children:"slower"})," (41.63s vs 32.97s) because of the GIL acquisition/release overhead."]}),d.jsxs(I1,{children:[d.jsx(K2,{children:"2."})," Only one thread can execute Python bytecode at a time, so there's no true parallelism."]})]})})})}),LQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100%;
  padding: 2rem 4rem;
  justify-content: flex-start;
  align-items: center;
`,NQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  display: flex;
  flex-direction: column;
  margin-top: -1rem;
`,YD=L.p`
  color: white;
  font-size: 0.9rem;
  line-height: 1.5;
  margin-bottom: 0.8rem;
  
  &:last-child {
    margin-bottom: 0;
  }
`,OQ=L.span`
  color: var(--primary);
  font-weight: 600;
`,zQ=L.div`
  padding: 0 0.5rem;
`,PQ=L.div`
  background-color: #1e1e2e;
  border-radius: 8px;
  padding: 1.5rem;
  border-left: 3px solid var(--primary);
  margin: 1rem 0;
  font-family: 'Fira Code', monospace;
  font-size: 0.95rem;
  color: #f8f8f2;
  line-height: 1.5;
  position: relative;
  overflow-x: auto;
`;L.span`
  color: #6272a4;
  font-style: italic;
`;const Rp=L.span`
  color: #ff79c6;
`,Fu=L.span`
  color: #50fa7b;
`,WD=L.span`
  color: #f1fa8c;
`,Dp=L.span`
  color: #bd93f9;
`,ei=L.span`
  color: #8be9fd;
`,xs=L.span`
  color: #ff79c6;
`,BQ=L.div`
  background-color: #282a36;
  padding: 1rem;
  border-radius: 8px;
  margin-top: 1rem;
  color: #f8f8f2;
  font-family: 'Fira Code', monospace;
`,IQ=()=>d.jsx(mn,{title:"Multi processing Example",children:d.jsx(LQ,{children:d.jsx(NQ,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:d.jsxs(zQ,{children:[d.jsx(YD,{children:"Here's the same CPU-bound task using Python's multiprocessing module instead of threading:"}),d.jsxs(PQ,{children:[d.jsx(Rp,{children:"from"})," ",d.jsx(ei,{children:"multiprocessing"})," ",d.jsx(Rp,{children:"import"})," ",d.jsx(ei,{children:"Pool"}),d.jsx("br",{}),d.jsx(Rp,{children:"import"})," ",d.jsx(ei,{children:"time"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(ei,{children:"count"})," ",d.jsx(xs,{children:"="})," ",d.jsx(Dp,{children:"50000000"}),d.jsx("br",{}),d.jsx(Rp,{children:"def"})," ",d.jsx(Fu,{children:"counter_down"}),"(",d.jsx(ei,{children:"n"}),"):",d.jsx("br",{}),"",d.jsx(Rp,{children:"while"})," ",d.jsx(ei,{children:"n"}),d.jsx(xs,{children:">"}),d.jsx(Dp,{children:"0"}),":",d.jsx("br",{}),"",d.jsx(ei,{children:"n"}),d.jsx(xs,{children:"-="}),d.jsx(Dp,{children:"1"}),d.jsx("br",{}),d.jsx("br",{}),d.jsx(Rp,{children:"if"})," ",d.jsx(ei,{children:"__name__"})," ",d.jsx(xs,{children:"=="})," ",d.jsx(WD,{children:'"__main__"'}),":",d.jsx("br",{}),d.jsx("br",{}),"",d.jsx(ei,{children:"pool"})," ",d.jsx(xs,{children:"="})," ",d.jsx(ei,{children:"Pool"}),"(",d.jsx(ei,{children:"processes"})," ",d.jsx(xs,{children:"="})," ",d.jsx(Dp,{children:"2"}),")",d.jsx("br",{}),"",d.jsx(ei,{children:"start"})," ",d.jsx(xs,{children:"="})," ",d.jsx(ei,{children:"time"}),".",d.jsx(Fu,{children:"time"}),"()",d.jsx("br",{}),d.jsx("br",{}),"",d.jsx(ei,{children:"r1"})," ",d.jsx(xs,{children:"="})," ",d.jsx(ei,{children:"pool"}),".",d.jsx(Fu,{children:"apply_async"}),"(",d.jsx(ei,{children:"counter_down"}),", [",d.jsx(ei,{children:"count"}),d.jsx(xs,{children:"//"}),d.jsx(Dp,{children:"2"}),"])",d.jsx("br",{}),"",d.jsx(ei,{children:"r2"})," ",d.jsx(xs,{children:"="})," ",d.jsx(ei,{children:"pool"}),".",d.jsx(Fu,{children:"apply_async"}),"(",d.jsx(ei,{children:"counter_down"}),", [",d.jsx(ei,{children:"count"}),d.jsx(xs,{children:"//"}),d.jsx(Dp,{children:"2"}),"])",d.jsx("br",{}),"",d.jsx(ei,{children:"pool"}),".",d.jsx(Fu,{children:"close"}),"()",d.jsx("br",{}),"",d.jsx(ei,{children:"pool"}),".",d.jsx(Fu,{children:"join"}),"()",d.jsx("br",{}),d.jsx("br",{}),"",d.jsx(ei,{children:"end"}),d.jsx(xs,{children:"="}),d.jsx(ei,{children:"time"}),".",d.jsx(Fu,{children:"time"}),"()",d.jsx("br",{}),"",d.jsx(Fu,{children:"print"}),"(",d.jsx(WD,{children:'"Elapsed Time eq to:"'}),", ",d.jsx(ei,{children:"end"}),d.jsx(xs,{children:"-"}),d.jsx(ei,{children:"start"}),")"]}),d.jsx(BQ,{children:"Elapsed Time eq to: 16.220052223205566"}),d.jsxs(YD,{style:{marginTop:"1rem"},children:["Using multiprocessing instead of threading for this CPU-bound task achieves ",d.jsx(OQ,{children:"true parallelism"})," by creating separate Python processes, each with its own interpreter and memory space."]})]})})})}),FQ=L.div`
  display: flex;
  flex-direction: column;
  width: 100%;
  height: 100vh;
  justify-content: center;
  align-items: center;
`,VQ=L(gt.div)`
  background: rgba(25, 35, 60, 0.8);
  border-radius: 12px;
  padding: 2rem;
  box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
  border: 1px solid rgba(100, 120, 200, 0.3);
  width: 90%;
  max-width: 800px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
`,HQ=L.h1`
  color: var(--primary);
  font-size: 3.5rem;
  margin-bottom: 1.5rem;
  font-weight: 700;
  text-shadow: 0 0 10px rgba(100, 140, 250, 0.5);
`,kQ=L.p`
  color: white;
  font-size: 1.5rem;
  margin-bottom: 2rem;
  opacity: 0.8;
`,GQ=L.p`
  color: white;
  font-size: 1rem;
  opacity: 0.6;
  max-width: 500px;
  line-height: 1.5;
`,XQ=()=>d.jsx("div",{className:"slide",children:d.jsx(FQ,{children:d.jsxs(VQ,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8},children:[d.jsx(HQ,{children:"The End"}),d.jsx(kQ,{children:"Thank you for your attention!"}),d.jsx(GQ,{children:"This presentation covered key concepts of multi-threading, Python's GIL, and alternative approaches for achieving true parallelism in Python applications."})]})})}),qQ=L.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  overflow: hidden;
  display: flex;
  justify-content: center;
  align-items: center;
  background: radial-gradient(circle at center, #1a2980 0%, #0f0c29 100%);
  /* Add support for zoom functionality */
  will-change: transform;
  transform-origin: center center;
`,YQ=L.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 0;
`,WQ=L.div`
  position: relative;
  z-index: 10;
  width: 100%;
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,ZQ=L.div`
  width: 90%;
  height: 85%;
  max-width: 1600px;
  margin-top: -30px; /* Move it slightly up */
`;L(gt.div)`
  width: 100%;
  height: 100%;
`;L.div`
  position: fixed;
  bottom: 20px;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 10px;
  z-index: 100;
`;L.button`
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  color: white;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  transition: all 0.3s ease;
  
  &:hover {
    background: rgba(255, 255, 255, 0.2);
  }
`;L.div`
  position: fixed;
  top: 0;
  left: 0;
  height: 4px;
  background: linear-gradient(90deg, #00b4d8, #90e0ef);
  transition: width 0.3s ease;
`;const KQ=L(gt.div)`
  width: 100%;
  height: 100%;
  position: absolute;
  top: 0;
  left: 0;
`,QQ=()=>{const{currentSlide:n,totalSlides:t,goToNextSlide:e,goToPreviousSlide:i,setTotalSlides:a}=Ew(),o=[d.jsx(tY,{}),d.jsx(dY,{}),d.jsx(vY,{}),d.jsx(SY,{}),d.jsx(TY,{}),d.jsx(UY,{}),d.jsx(LY,{}),d.jsx(KZ,{}),d.jsx(gZ,{}),d.jsx(_Z,{}),d.jsx(CZ,{}),d.jsx(IZ,{}),d.jsx(qZ,{}),d.jsx(nK,{}),d.jsx(pK,{}),d.jsx(EK,{}),d.jsx(zK,{}),d.jsx(VY,{}),d.jsx(ZY,{}),d.jsx(aW,{}),d.jsx(uW,{}),d.jsx(vW,{}),d.jsx(UW,{}),d.jsx(VW,{}),d.jsx(WW,{}),d.jsx(tZ,{}),d.jsx(oZ,{}),d.jsx(hZ,{}),d.jsx(FK,{}),d.jsx(XK,{}),d.jsx(ZK,{}),d.jsx(eQ,{}),d.jsx(sQ,{}),d.jsx(dQ,{}),d.jsx(xQ,{}),d.jsx(EQ,{}),d.jsx(jQ,{}),d.jsx(IQ,{}),d.jsx(XQ,{})];return Er.useEffect(()=>{a(o.length)},[a]),Er.useEffect(()=>{const c=h=>{h.key==="ArrowRight"?n<t&&e():h.key==="ArrowLeft"&&i()};return window.addEventListener("keydown",c),()=>window.removeEventListener("keydown",c)},[e,i,n,t]),Er.useEffect(()=>(document.body.style.overflow="hidden",document.body.style.width="100vw",document.body.style.height="100vh",()=>{document.body.style.overflow="",document.body.style.width="",document.body.style.height=""}),[]),d.jsxs(qQ,{children:[d.jsx(Rq,{}),d.jsx(kq,{}),d.jsx(YQ,{children:d.jsxs(P7,{children:[d.jsx("ambientLight",{intensity:.2}),d.jsx("pointLight",{position:[10,10,10],intensity:1.5}),d.jsx(Uq,{}),d.jsx(q7,{enableZoom:!1,enablePan:!1,enableRotate:!1})]})}),d.jsx(zq,{}),d.jsx(WQ,{children:d.jsx(ZQ,{children:d.jsx(ek,{mode:"wait",children:d.jsx(KQ,{initial:{opacity:0,x:100},animate:{opacity:1,x:0},exit:{opacity:0,x:-100},transition:{duration:.5},children:o[n-1]},n)})})}),d.jsx(jq,{currentSlide:n,totalSlides:t,onNext:e,onPrevious:i})]})},JQ=()=>d.jsx(Nq,{children:d.jsx(QQ,{})}),$Q=_4`
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen,
      Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background-color: #000814;
    color: white;
  }

  #root {
    width: 100vw;
    height: 100vh;
    overflow: hidden;
  }
`;pO.createRoot(document.getElementById("root")).render(d.jsxs(Er.StrictMode,{children:[d.jsx($Q,{}),d.jsx(JQ,{})]}));
